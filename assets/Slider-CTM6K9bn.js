import{c as W,y as D,az as S,r as _,w as y,av as C,o as O,h as E,aw as T,ax as z,l as k,m as L,n as B,q as a,O as w,t as N,s as I,H as P,v as F,aA as U,ay as j,_ as q}from"./index-7JEsIEbG.js";const A=W({__name:"Slider",props:{miniWidget:{}},setup(x){const o=D(),e=S(x).miniWidget,l=_(0);let s;y(()=>o.miniWidgetManagerVars(e.value.hash).configMenuOpen,t=>{t===!0&&(o.showElementPropsDrawer(e.value.hash),setTimeout(()=>{o.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0}),y(()=>{var t;return(t=e.value.options.dataLakeVariable)==null?void 0:t.name},t=>{t&&n()},{immediate:!0});const n=()=>{var t;e.value.options.dataLakeVariable&&(s=C((t=e.value.options.dataLakeVariable)==null?void 0:t.name,i=>{l.value=i}),l.value=o.getMiniWidgetLastValue(e.value.hash))},M=()=>{o.editingMode||e.value.options.dataLakeVariable&&(o.setMiniWidgetLastValue(e.value.hash,l.value.toFixed(1)),j(e.value.options.dataLakeVariable.name,l.value.toFixed(1)))};return O(()=>{var t;(!e.value.options||Object.keys(e.value.options).length===0)&&(e.value.isCustomElement=!0,o.updateElementOptions(e.value.hash,{layout:{label:"",minValue:0,maxValue:100,showTooltip:!0,color:"#FFFFFF",coloredLabel:!1,labelWidth:((t=e.value.options.layout)==null?void 0:t.labelWidth)||0},variableType:"number",dataLakeVariable:void 0})),n()}),E(()=>{e.value.options.dataLakeVariable&&(T(e.value.options.dataLakeVariable.id),s&&z(e.value.options.dataLakeVariable.name,s))}),(t,i)=>{var r,u,d,m,p,b,c,h,v,V,g;return k(),L("div",{class:F(["slider-container",((r=a(o).elementToShowOnDrawer)==null?void 0:r.hash)===a(e).hash&&a(o).editingMode?"bg-[#00000010] ":"border-0"]),onClick:i[1]||(i[1]=f=>a(o).editingMode&&a(o).showElementPropsDrawer(a(e).hash))},[B("div",{style:w({minWidth:((u=a(e).options.layout)==null?void 0:u.labelWidth)+"px"})},[((d=a(e).options.layout)==null?void 0:d.label)!==""?(k(),L("p",{key:0,style:w({color:(m=a(e).options.layout)!=null&&m.coloredLabel?(p=a(e).options.layout)==null?void 0:p.color:"#FFFFFF"}),class:"mr-3 mb-[3px]"},N((b=a(e).options.layout)==null?void 0:b.label),5)):I("",!0)],4),P(U,{modelValue:l.value,"onUpdate:modelValue":[i[0]||(i[0]=f=>l.value=f),M],min:(c=a(e).options.layout)==null?void 0:c.minValue,max:(h=a(e).options.layout)==null?void 0:h.maxValue,"thumb-label":(v=a(e).options.layout)==null?void 0:v.showTooltip,"hide-details":"",class:F(["min-w-20",{"pointer-events-none":a(o).editingMode,"scale-75":((V=a(e).options.layout)==null?void 0:V.size)==="small"}]),color:((g=a(e).options.layout)==null?void 0:g.color)||"white"},null,8,["modelValue","min","max","thumb-label","color","class"])],2)}}}),$=q(A,[["__scopeId","data-v-2cb4a708"]]);export{$ as default};
