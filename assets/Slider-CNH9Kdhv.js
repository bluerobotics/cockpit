import{c as x,y as D,aD as S,r as _,w as y,o as C,h as E,l as k,m as L,n as O,q as a,O as F,t as T,s as B,H as z,v as w,aE as N,at as I,aA as P,aB as U,_ as j}from"./index--yn_uFz7.js";const q=x({__name:"Slider",props:{miniWidget:{}},setup(M){const o=D(),e=S(M).miniWidget,l=_(0);let s;y(()=>o.miniWidgetManagerVars(e.value.hash).configMenuOpen,t=>{t===!0&&(o.showElementPropsDrawer(e.value.hash),setTimeout(()=>{o.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const n=()=>{var t;e.value.options.dataLakeVariable&&(s=I((t=e.value.options.dataLakeVariable)==null?void 0:t.name,i=>{l.value=i}),l.value=o.getMiniWidgetLastValue(e.value.hash))};y(()=>{var t;return(t=e.value.options.dataLakeVariable)==null?void 0:t.name},t=>{t&&n()},{immediate:!0});const W=()=>{o.editingMode||e.value.options.dataLakeVariable&&(o.setMiniWidgetLastValue(e.value.hash,l.value.toFixed(1)),P(e.value.options.dataLakeVariable.name,l.value.toFixed(1)))};return C(()=>{var t;(!e.value.options||Object.keys(e.value.options).length===0)&&(e.value.isCustomElement=!0,o.updateElementOptions(e.value.hash,{layout:{label:"",minValue:0,maxValue:100,showTooltip:!0,color:"#FFFFFF",coloredLabel:!1,labelWidth:((t=e.value.options.layout)==null?void 0:t.labelWidth)||0},variableType:"number",dataLakeVariable:void 0})),n()}),E(()=>{e.value.options.dataLakeVariable&&s&&U(e.value.options.dataLakeVariable.name,s)}),(t,i)=>{var r,u,d,m,p,h,c,b,v,V,g;return k(),L("div",{class:w(["slider-container",((r=a(o).elementToShowOnDrawer)==null?void 0:r.hash)===a(e).hash&&a(o).editingMode?"bg-[#00000010] ":"border-0"]),onClick:i[1]||(i[1]=f=>a(o).editingMode&&a(o).showElementPropsDrawer(a(e).hash))},[O("div",{style:F({minWidth:((u=a(e).options.layout)==null?void 0:u.labelWidth)+"px"})},[((d=a(e).options.layout)==null?void 0:d.label)!==""?(k(),L("p",{key:0,style:F({color:(m=a(e).options.layout)!=null&&m.coloredLabel?(p=a(e).options.layout)==null?void 0:p.color:"#FFFFFF"}),class:"mr-3 mb-[3px]"},T((h=a(e).options.layout)==null?void 0:h.label),5)):B("",!0)],4),z(N,{modelValue:l.value,"onUpdate:modelValue":[i[0]||(i[0]=f=>l.value=f),W],min:(c=a(e).options.layout)==null?void 0:c.minValue,max:(b=a(e).options.layout)==null?void 0:b.maxValue,"thumb-label":(v=a(e).options.layout)==null?void 0:v.showTooltip,"hide-details":"",class:w(["min-w-20",{"pointer-events-none":a(o).editingMode,"scale-75":((V=a(e).options.layout)==null?void 0:V.size)==="small"}]),color:((g=a(e).options.layout)==null?void 0:g.color)||"white"},null,8,["modelValue","min","max","thumb-label","color","class"])],2)}}}),R=j(q,[["__scopeId","data-v-5f83f1ad"]]);export{R as default};
