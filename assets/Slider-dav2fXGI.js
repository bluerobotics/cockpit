import{c as x,y as M,az as W,r as D,w as S,o as _,av as C,h as O,aw as E,ax as T,l as f,m as y,n as z,q as a,O as k,t as B,s as N,H as I,v as L,aA as P,ay as U,_ as j}from"./index-Cfe-5QXR.js";const q=x({__name:"Slider",props:{miniWidget:{}},setup(w){const t=M(),e=W(w).miniWidget,l=D(0);let n;S(()=>t.miniWidgetManagerVars(e.value.hash).configMenuOpen,i=>{i===!0&&(t.showElementPropsDrawer(e.value.hash),setTimeout(()=>{t.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const F=()=>{t.editingMode||e.value.options.dataLakeVariable&&(t.setMiniWidgetLastValue(e.value.hash,l.value.toFixed(1)),U(e.value.options.dataLakeVariable.name,l.value.toFixed(1)))};return _(()=>{var i,o;(!e.value.options||Object.keys(e.value.options).length===0)&&(e.value.isCustomElement=!0,t.updateElementOptions(e.value.hash,{layout:{label:"",minValue:0,maxValue:100,showTooltip:!0,color:"#FFFFFF",coloredLabel:!1,labelWidth:((i=e.value.options.layout)==null?void 0:i.labelWidth)||0},variableType:"number",dataLakeVariable:void 0})),e.value.options.dataLakeVariable&&(n=C((o=e.value.options.dataLakeVariable)==null?void 0:o.name,s=>{l.value=s}),l.value=t.getMiniWidgetLastValue(e.value.hash))}),O(()=>{e.value.options.dataLakeVariable&&(E(e.value.options.dataLakeVariable.id),n&&T(e.value.options.dataLakeVariable.name,n))}),(i,o)=>{var s,r,u,d,p,m,h,c,v,b,V;return f(),y("div",{class:L(["slider-container",((s=a(t).elementToShowOnDrawer)==null?void 0:s.hash)===a(e).hash&&a(t).editingMode?"bg-[#00000010] ":"border-0"]),onClick:o[1]||(o[1]=g=>a(t).editingMode&&a(t).showElementPropsDrawer(a(e).hash))},[z("div",{style:k({minWidth:((r=a(e).options.layout)==null?void 0:r.labelWidth)+"px"})},[((u=a(e).options.layout)==null?void 0:u.label)!==""?(f(),y("p",{key:0,style:k({color:(d=a(e).options.layout)!=null&&d.coloredLabel?(p=a(e).options.layout)==null?void 0:p.color:"#FFFFFF"}),class:"mr-3 mb-[3px]"},B((m=a(e).options.layout)==null?void 0:m.label),5)):N("",!0)],4),I(P,{modelValue:l.value,"onUpdate:modelValue":[o[0]||(o[0]=g=>l.value=g),F],min:(h=a(e).options.layout)==null?void 0:h.minValue,max:(c=a(e).options.layout)==null?void 0:c.maxValue,"thumb-label":(v=a(e).options.layout)==null?void 0:v.showTooltip,"hide-details":"",class:L(["min-w-20",{"pointer-events-none":a(t).editingMode,"scale-75":((b=a(e).options.layout)==null?void 0:b.size)==="small"}]),color:((V=a(e).options.layout)==null?void 0:V.color)||"white"},null,8,["modelValue","min","max","thumb-label","color","class"])],2)}}}),R=j(q,[["__scopeId","data-v-520fa44e"]]);export{R as default};
