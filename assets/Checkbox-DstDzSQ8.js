import{c as w,y,J as M,r as D,w as h,k as C,o as x,aM as W,h as F,l as c,m as V,s as S,H as T,v as o,t as E,x as b,S as O,N as B,aN as N,a9 as U,aJ as _,a1 as g}from"./index-DyWRLZmV.js";const j={key:0,class:"mr-3 mb-[3px] text-white"},J=w({__name:"Checkbox",props:{miniWidget:{}},setup(k){const e=y(),a=M(k).miniWidget,l=D(!1);let s;const f=()=>{e.editingMode||(e.setMiniWidgetLastValue(a.value.hash,l.value),a.value.options.dataLakeVariable&&N(a.value.options.dataLakeVariable.id,l.value))};h(()=>e.miniWidgetManagerVars(a.value.hash).configMenuOpen,t=>{t===!0&&(e.showElementPropsDrawer(a.value.hash),setTimeout(()=>{e.miniWidgetManagerVars(a.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const L=C(()=>{var t,i;return((i=(t=a.value.options)==null?void 0:t.dataLakeVariable)==null?void 0:i.persistent)===!0}),n=()=>{a.value.options.dataLakeVariable&&(s=U(a.value.options.dataLakeVariable.id,t=>{l.value=!!t}),l.value=!!_(a.value.options.dataLakeVariable.id))};return h(()=>{var t;return(t=a.value.options.dataLakeVariable)==null?void 0:t.id},(t,i)=>{i&&s&&g(i,s),t&&n()}),x(()=>{(!a.value.options||Object.keys(a.value.options).length===0)&&(a.value.isCustomElement=!0,e.updateElementOptions(a.value.hash,{layout:{label:"",align:"center",color:"#FFFFFF"},variableType:"boolean",dataLakeVariable:void 0})),a.value.options.dataLakeVariable?(a.value.options.dataLakeVariable.allowUserToChangeValue||W({...a.value.options.dataLakeVariable,allowUserToChangeValue:!0}),n()):l.value=e.getMiniWidgetLastValue(a.value.hash)}),F(()=>{a.value.options.dataLakeVariable&&s&&g(a.value.options.dataLakeVariable.id,s)}),(t,i)=>{var r,u,d,p,v;return V(),c("div",{class:b(["flex items-center h-[30px]",((r=o(e).elementToShowOnDrawer)==null?void 0:r.hash)===o(a).hash&&o(e).editingMode?"bg-[#00000010] ":"border-0"]),style:B({justifyContent:(u=o(a).options.layout)==null?void 0:u.align}),onClick:i[1]||(i[1]=m=>o(e).editingMode&&o(e).showElementPropsDrawer(o(a).hash))},[((d=o(a).options.layout)==null?void 0:d.label)!==""?(V(),c("p",j,E((p=o(a).options.layout)==null?void 0:p.label),1)):S("",!0),T(O,{modelValue:l.value,"onUpdate:modelValue":[i[0]||(i[0]=m=>l.value=m),f],"hide-details":"",color:(v=o(a).options.layout)==null?void 0:v.color,class:b(["text-white",{"pointer-events-none":o(e).editingMode||!L.value}]),theme:"dark"},null,8,["modelValue","color","class"])],6)}}});export{J as default};
