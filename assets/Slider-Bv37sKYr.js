import{c as x,y as D,aE as C,r as S,w as k,o as T,aA as _,h as E,l as L,m as y,n as O,q as e,O as w,t as B,s as U,H as z,v as F,aF as I,at as N,aB as P,aC as j,_ as q}from"./index-DGq5elMW.js";const A=x({__name:"Slider",props:{miniWidget:{}},setup(M){const o=D(),a=C(M).miniWidget,l=S(0);let s;k(()=>o.miniWidgetManagerVars(a.value.hash).configMenuOpen,t=>{t===!0&&(o.showElementPropsDrawer(a.value.hash),setTimeout(()=>{o.miniWidgetManagerVars(a.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const n=()=>{var t;a.value.options.dataLakeVariable&&(s=N((t=a.value.options.dataLakeVariable)==null?void 0:t.name,i=>{l.value=i}),l.value=o.getMiniWidgetLastValue(a.value.hash))};k(()=>{var t;return(t=a.value.options.dataLakeVariable)==null?void 0:t.name},t=>{t&&n()},{immediate:!0});const W=()=>{o.editingMode||a.value.options.dataLakeVariable&&(o.setMiniWidgetLastValue(a.value.hash,l.value.toFixed(1)),P(a.value.options.dataLakeVariable.name,l.value.toFixed(1)))};return T(()=>{var t;(!a.value.options||Object.keys(a.value.options).length===0)&&(a.value.isCustomElement=!0,o.updateElementOptions(a.value.hash,{layout:{label:"",minValue:0,maxValue:100,showTooltip:!0,color:"#FFFFFF",coloredLabel:!1,labelWidth:((t=a.value.options.layout)==null?void 0:t.labelWidth)||0},variableType:"number",dataLakeVariable:void 0})),a.value.options.dataLakeVariable&&!a.value.options.dataLakeVariable.allowUserToChangeValue&&_({...a.value.options.dataLakeVariable,allowUserToChangeValue:!0}),n()}),E(()=>{a.value.options.dataLakeVariable&&s&&j(a.value.options.dataLakeVariable.name,s)}),(t,i)=>{var r,u,d,p,m,b,h,V,c,v,g;return L(),y("div",{class:F(["slider-container",((r=e(o).elementToShowOnDrawer)==null?void 0:r.hash)===e(a).hash&&e(o).editingMode?"bg-[#00000010] ":"border-0"]),onClick:i[1]||(i[1]=f=>e(o).editingMode&&e(o).showElementPropsDrawer(e(a).hash))},[O("div",{style:w({minWidth:((u=e(a).options.layout)==null?void 0:u.labelWidth)+"px"})},[((d=e(a).options.layout)==null?void 0:d.label)!==""?(L(),y("p",{key:0,style:w({color:(p=e(a).options.layout)!=null&&p.coloredLabel?(m=e(a).options.layout)==null?void 0:m.color:"#FFFFFF"}),class:"mr-3 mb-[3px]"},B((b=e(a).options.layout)==null?void 0:b.label),5)):U("",!0)],4),z(I,{modelValue:l.value,"onUpdate:modelValue":[i[0]||(i[0]=f=>l.value=f),W],min:(h=e(a).options.layout)==null?void 0:h.minValue,max:(V=e(a).options.layout)==null?void 0:V.maxValue,"thumb-label":(c=e(a).options.layout)==null?void 0:c.showTooltip,"hide-details":"",class:F(["min-w-20",{"pointer-events-none":e(o).editingMode,"scale-75":((v=e(a).options.layout)==null?void 0:v.size)==="small"}]),color:((g=e(a).options.layout)==null?void 0:g.color)||"white"},null,8,["modelValue","min","max","thumb-label","color","class"])],2)}}}),$=q(A,[["__scopeId","data-v-c755eb3d"]]);export{$ as default};
