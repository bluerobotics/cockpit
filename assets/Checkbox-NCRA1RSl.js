import{c as f,y as L,J as w,r as y,w as v,o as M,bb as C,h as x,l as b,m as c,s as D,H as W,v as t,t as F,x as g,S as O,O as S,bc as T,aA as E,aw as U}from"./index-Bts4qd0i.js";const _={key:0,class:"mr-3 mb-[3px] text-white"},A=f({__name:"Checkbox",props:{miniWidget:{}},setup(V){const a=L(),e=w(V).miniWidget,i=y(!1);let s;const k=()=>{a.editingMode||(a.setMiniWidgetLastValue(e.value.hash,i.value),e.value.options.dataLakeVariable&&T(e.value.options.dataLakeVariable.name,i.value))};v(()=>a.miniWidgetManagerVars(e.value.hash).configMenuOpen,o=>{o===!0&&(a.showElementPropsDrawer(e.value.hash),setTimeout(()=>{a.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const n=()=>{e.value.options.dataLakeVariable&&(s=E(e.value.options.dataLakeVariable.name,o=>{i.value=o}),i.value=a.getMiniWidgetLastValue(e.value.hash))};return v(()=>{var o;return(o=e.value.options.dataLakeVariable)==null?void 0:o.name},o=>{o&&n()},{immediate:!0}),M(()=>{(!e.value.options||Object.keys(e.value.options).length===0)&&(e.value.isCustomElement=!0,a.updateElementOptions(e.value.hash,{layout:{label:"",align:"center",color:"#FFFFFF"},variableType:"boolean",dataLakeVariable:void 0})),e.value.options.dataLakeVariable&&!e.value.options.dataLakeVariable.allowUserToChangeValue&&C({...e.value.options.dataLakeVariable,allowUserToChangeValue:!0}),n()}),x(()=>{e.value.options.dataLakeVariable&&s&&U(e.value.options.dataLakeVariable.name,s)}),(o,l)=>{var r,u,d,p,m;return c(),b("div",{class:g(["flex items-center h-[30px]",((r=t(a).elementToShowOnDrawer)==null?void 0:r.hash)===t(e).hash&&t(a).editingMode?"bg-[#00000010] ":"border-0"]),style:S({justifyContent:(u=t(e).options.layout)==null?void 0:u.align}),onClick:l[1]||(l[1]=h=>t(a).editingMode&&t(a).showElementPropsDrawer(t(e).hash))},[((d=t(e).options.layout)==null?void 0:d.label)!==""?(c(),b("p",_,F((p=t(e).options.layout)==null?void 0:p.label),1)):D("",!0),W(O,{modelValue:i.value,"onUpdate:modelValue":[l[0]||(l[0]=h=>i.value=h),k],"hide-details":"",color:(m=t(e).options.layout)==null?void 0:m.color,class:g(["text-white",{"pointer-events-none":t(a).editingMode}]),theme:"dark"},null,8,["modelValue","color","class"])],6)}}});export{A as default};
