import{c as b,y as f,J as k,r as w,w as L,o as y,au as F,h as M,av as W,aw as D,l as g,m as c,H as x,q as t,v as h,a4 as C,t as S,s as E,ax as O}from"./index-tqznZnRX.js";const T={key:0,class:"ml-3 mb-[3px] whitespace-nowrap"},B=b({__name:"Switch",props:{miniWidget:{}},setup(v){const a=f(),s=v,e=k(s).miniWidget,o=w(!0);let u;L(()=>a.miniWidgetManagerVars(e.value.hash).configMenuOpen,l=>{l===!0&&(a.showElementPropsDrawer(e.value.hash),setTimeout(()=>{a.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const V=()=>{a.editingMode||e.value.options.dataLakeVariable&&(a.setMiniWidgetLastValue(e.value.hash,o.value),O(e.value.options.dataLakeVariable.name,o.value))};return y(()=>{var l,i,n;!s.miniWidget.options||Object.keys(s.miniWidget.options).length===0?(e.value.isCustomElement=!0,a.updateElementOptions(s.miniWidget.hash,{layout:{align:((l=e.value.options.layout)==null?void 0:l.align)||"center",color:((i=e.value.options.layout)==null?void 0:i.color)||"#FFFFFF",label:((n=e.value.options.layout)==null?void 0:n.label)||""},variableType:"boolean",dataLakeVariable:void 0,toggled:!0}),o.value=!0):e.value.options.dataLakeVariable&&(u=F(e.value.options.dataLakeVariable.name,r=>{o.value=r}),o.value=a.getMiniWidgetLastValue(e.value.hash))}),M(()=>{e.value.options.dataLakeVariable&&(W(e.value.options.dataLakeVariable.id),u&&D(e.value.options.dataLakeVariable.name,u))}),(l,i)=>{var n,r,d,p;return g(),c("div",{class:h(["flex items-center h-[30px] px-4",((n=t(a).elementToShowOnDrawer)==null?void 0:n.hash)===t(e).hash&&t(a).editingMode?"bg-[#00000010] ":"border-0"]),onClick:i[1]||(i[1]=m=>t(a).editingMode&&t(a).showElementPropsDrawer(t(e).hash))},[x(C,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=m=>o.value=m),"hide-details":"",color:((r=t(e).options.layout)==null?void 0:r.color)||"#FFFFFF",class:h([{"pointer-events-none":t(a).editingMode},"min-w-[35px]"]),onChange:V},null,8,["modelValue","color","class"]),((d=t(e).options.layout)==null?void 0:d.label)!==""?(g(),c("p",T,S((p=t(e).options.layout)==null?void 0:p.label),1)):E("",!0)],2)}}});export{B as default};
