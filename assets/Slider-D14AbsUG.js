import{c as W,y as D,aA as S,r as _,w as y,o as C,h as O,aw as E,l as k,m as L,n as T,q as e,O as w,t as z,s as B,H as N,v as F,aB as I,ay as P,ax as U,az as j,_ as q}from"./index-CJcjVGeL.js";const A=W({__name:"Slider",props:{miniWidget:{}},setup(x){const o=D(),a=S(x).miniWidget,l=_(0);let s;y(()=>o.miniWidgetManagerVars(a.value.hash).configMenuOpen,t=>{t===!0&&(o.showElementPropsDrawer(a.value.hash),setTimeout(()=>{o.miniWidgetManagerVars(a.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const n=()=>{var t;a.value.options.dataLakeVariable&&(s=P((t=a.value.options.dataLakeVariable)==null?void 0:t.name,i=>{l.value=i}),l.value=o.getMiniWidgetLastValue(a.value.hash))};y(()=>{var t;return(t=a.value.options.dataLakeVariable)==null?void 0:t.name},t=>{t&&n()},{immediate:!0});const M=()=>{o.editingMode||a.value.options.dataLakeVariable&&(o.setMiniWidgetLastValue(a.value.hash,l.value.toFixed(1)),U(a.value.options.dataLakeVariable.name,l.value.toFixed(1)))};return C(()=>{var t;(!a.value.options||Object.keys(a.value.options).length===0)&&(a.value.isCustomElement=!0,o.updateElementOptions(a.value.hash,{layout:{label:"",minValue:0,maxValue:100,showTooltip:!0,color:"#FFFFFF",coloredLabel:!1,labelWidth:((t=a.value.options.layout)==null?void 0:t.labelWidth)||0},variableType:"number",dataLakeVariable:void 0})),n()}),O(()=>{a.value.options.dataLakeVariable&&(E(a.value.options.dataLakeVariable.id),s&&j(a.value.options.dataLakeVariable.name,s))}),(t,i)=>{var r,u,d,m,p,h,b,c,v,V,g;return k(),L("div",{class:F(["slider-container",((r=e(o).elementToShowOnDrawer)==null?void 0:r.hash)===e(a).hash&&e(o).editingMode?"bg-[#00000010] ":"border-0"]),onClick:i[1]||(i[1]=f=>e(o).editingMode&&e(o).showElementPropsDrawer(e(a).hash))},[T("div",{style:w({minWidth:((u=e(a).options.layout)==null?void 0:u.labelWidth)+"px"})},[((d=e(a).options.layout)==null?void 0:d.label)!==""?(k(),L("p",{key:0,style:w({color:(m=e(a).options.layout)!=null&&m.coloredLabel?(p=e(a).options.layout)==null?void 0:p.color:"#FFFFFF"}),class:"mr-3 mb-[3px]"},z((h=e(a).options.layout)==null?void 0:h.label),5)):B("",!0)],4),N(I,{modelValue:l.value,"onUpdate:modelValue":[i[0]||(i[0]=f=>l.value=f),M],min:(b=e(a).options.layout)==null?void 0:b.minValue,max:(c=e(a).options.layout)==null?void 0:c.maxValue,"thumb-label":(v=e(a).options.layout)==null?void 0:v.showTooltip,"hide-details":"",class:F(["min-w-20",{"pointer-events-none":e(o).editingMode,"scale-75":((V=e(a).options.layout)==null?void 0:V.size)==="small"}]),color:((g=e(a).options.layout)==null?void 0:g.color)||"white"},null,8,["modelValue","min","max","thumb-label","color","class"])],2)}}}),$=q(A,[["__scopeId","data-v-14f5a19a"]]);export{$ as default};
