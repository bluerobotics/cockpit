import{c as w,y as L,ay as x,r as M,w as W,o as D,au as S,h as _,av as F,aw as C,l as V,m as g,n as O,q as a,t as E,s as T,O as z,H as B,v as f,az as N,ax as I,_ as P}from"./index-CWFZGMpR.js";const U={key:0,class:"mr-3 mb-[3px]"},j=w({__name:"Slider",props:{miniWidget:{}},setup(y){const t=L(),e=x(y).miniWidget,l=M(0);let n;W(()=>t.miniWidgetManagerVars(e.value.hash).configMenuOpen,i=>{i===!0&&(t.showElementPropsDrawer(e.value.hash),setTimeout(()=>{t.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const k=()=>{t.editingMode||e.value.options.dataLakeVariable&&(t.setMiniWidgetLastValue(e.value.hash,l.value.toFixed(1)),I(e.value.options.dataLakeVariable.name,l.value.toFixed(1)))};return D(()=>{var i,o;(!e.value.options||Object.keys(e.value.options).length===0)&&(e.value.isCustomElement=!0,t.updateElementOptions(e.value.hash,{layout:{label:"",minValue:0,maxValue:100,showTooltip:!0,color:"#FFFFFF",labelWidth:((i=e.value.options.layout)==null?void 0:i.labelWidth)||0},variableType:"number",dataLakeVariable:void 0})),e.value.options.dataLakeVariable&&(n=S((o=e.value.options.dataLakeVariable)==null?void 0:o.name,s=>{l.value=s}),l.value=t.getMiniWidgetLastValue(e.value.hash))}),_(()=>{e.value.options.dataLakeVariable&&(F(e.value.options.dataLakeVariable.id),n&&C(e.value.options.dataLakeVariable.name,n))}),(i,o)=>{var s,r,u,d,m,p,h,v,b;return V(),g("div",{class:f(["slider-container",((s=a(t).elementToShowOnDrawer)==null?void 0:s.hash)===a(e).hash&&a(t).editingMode?"bg-[#00000010] ":"border-0"]),onClick:o[1]||(o[1]=c=>a(t).editingMode&&a(t).showElementPropsDrawer(a(e).hash))},[O("div",{style:z({minWidth:((r=a(e).options.layout)==null?void 0:r.labelWidth)+"px"})},[((u=a(e).options.layout)==null?void 0:u.label)!==""?(V(),g("p",U,E((d=a(e).options.layout)==null?void 0:d.label),1)):T("",!0)],4),B(N,{modelValue:l.value,"onUpdate:modelValue":[o[0]||(o[0]=c=>l.value=c),k],min:(m=a(e).options.layout)==null?void 0:m.minValue,max:(p=a(e).options.layout)==null?void 0:p.maxValue,"thumb-label":(h=a(e).options.layout)==null?void 0:h.showTooltip,"hide-details":"",class:f(["min-w-20",{"pointer-events-none":a(t).editingMode,"scale-75":((v=a(e).options.layout)==null?void 0:v.size)==="small"}]),color:((b=a(e).options.layout)==null?void 0:b.color)||"white"},null,8,["modelValue","min","max","thumb-label","color","class"])],2)}}}),R=P(j,[["__scopeId","data-v-676dbff0"]]);export{R as default};
