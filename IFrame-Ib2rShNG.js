import{d as x,bb as y,aB as _,aC as C,q as p,aG as S,aW as B,l as f,o as m,c as M,j as T,w as k,aA as F,a as O,b as s,ag as W,b7 as $,i as o,a1 as l,ad as z,aS as I,a4 as v,ae as g,bc as j,bd as E,b0 as N,be as A,a2 as D,aj as K,ao as U}from"./index-BrmaFqzU.js";const q={class:"w-full h-full"},G=["src"],H=x({__name:"IFrame",props:{widget:{}},setup(w){y(e=>({"69652b34":b.value}));const r=_(),a=C(w).widget,u=p(!1),i=p(0);S(()=>{Object.keys(a.value.options).length===0&&(a.value.options={source:"http://blueos.local"})});const{width:d,height:c}=B(),V=f(()=>{let e="";return e=e.concat(" ","position: absolute;"),e=e.concat(" ",`left: ${a.value.position.x*d.value}px;`),e=e.concat(" ",`top: ${a.value.position.y*c.value}px;`),e=e.concat(" ",`width: ${a.value.size.width*d.value}px;`),e=e.concat(" ",`height: ${a.value.size.height*c.value}px;`),r.editingMode&&(e=e.concat(" ","pointer-events:none; border:0;")),r.isWidgetVisible(a.value)||(e=e.concat(" ","display: none;")),e}),b=f(()=>(100-i.value)/100);function h(){console.log("Finished loading"),u.value=!0}return(e,t)=>(m(),M("div",q,[(m(),T($,{to:".widgets-view"},[k(O("iframe",{src:s(a).options.source,style:W(V.value),frameborder:"0",onLoad:h},null,44,G),[[F,u.value]])])),o(K,{modelValue:s(a).managerVars.configMenuOpen,"onUpdate:modelValue":t[4]||(t[4]=n=>s(a).managerVars.configMenuOpen=n),"min-width":"400","max-width":"35%"},{default:l(()=>[o(z,{class:"pa-2"},{default:l(()=>[o(I,null,{default:l(()=>[v("Settings")]),_:1}),o(g,null,{default:l(()=>[o(j,{label:"Iframe Source",variant:"underlined","model-value":s(a).options.source,outlined:"",onChange:t[0]||(t[0]=n=>s(a).options.source=n.srcElement.value),onKeydown:t[1]||(t[1]=E(n=>s(a).options.source=n.srcElement.value,["enter"]))},null,8,["model-value"])]),_:1}),o(g,null,{default:l(()=>[o(N,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=n=>i.value=n),label:"Transparency",min:0,max:90},null,8,["modelValue"])]),_:1}),o(A,null,{default:l(()=>[o(D,{color:"primary",onClick:t[3]||(t[3]=n=>s(a).managerVars.configMenuOpen=!1)},{default:l(()=>[v("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),J=U(H,[["__scopeId","data-v-24e8518d"]]);export{J as default};
