import{d as $,b0 as B,p as O,a4 as T,a5 as j,v as d,a9 as z,b1 as b,G as N,l as _,x as W,h as A,o as x,c as D,a as p,j as K,w as y,aQ as G,b as n,K as S,ay as E,i as t,J as i,T as H,al as J,N as F,U as M,b2 as P,b3 as Q,R as k,av as q,b4 as X,_ as Y,L as Z,b5 as ee,a1 as ae,a2 as te,a3 as se}from"./index-grnvpQy2.js";import{_ as oe}from"./Snackbar.vue_vue_type_script_setup_true_lang-0U3qA03x.js";const le=r=>(ae("data-v-2823bce5"),r=r(),te(),r),ne={class:"w-full h-full"},ie=["src"],ue=le(()=>p("p",null,"Iframe Source",-1)),re={class:"flex items-center justify-between"},de=$({__name:"IFrame",props:{widget:{}},setup(r){B(e=>({"6f56b4ce":R.value}));const U=O(),u=T(),a=j(r).widget,g=d(!1),v=d(0),o=d(a.value.options.source),c=d(!1),f=d(""),m=e=>ee(e)?!0:"URL is not valid.",w=()=>{const e=m(o.value);if(e!==!0){f.value=`${e} Please enter a valid URL.`,c.value=!0;return}a.value.options.source=o.value,f.value=`IFrame URL sucessfully updated to '${o.value}'.`,c.value=!0};z(()=>{Object.keys(a.value.options).length===0&&(a.value.options={source:b},o.value=b)});const{width:h,height:V}=N(),C=_(()=>{let e="";return e=e.concat(" ","position: absolute;"),e=e.concat(" ",`left: ${a.value.position.x*h.value}px;`),e=e.concat(" ",`top: ${a.value.position.y*V.value}px;`),e=e.concat(" ",`width: ${a.value.size.width*h.value}px;`),e=e.concat(" ",`height: ${a.value.size.height*V.value}px;`),u.editingMode&&(e=e.concat(" ","pointer-events:none; border:0;")),u.isWidgetVisible(a.value)||(e=e.concat(" ","display: none;")),e}),R=_(()=>(100-v.value)/100);function I(){console.log("Finished loading"),g.value=!0}return W(a,()=>{u.widgetManagerVars(a.value.hash).configMenuOpen===!1&&m(o.value)!==!0&&(o.value=a.value.options.source)},{deep:!0}),(e,s)=>{const L=A("tooltip");return x(),D(Z,null,[p("div",ne,[(x(),K(E,{to:".widgets-view"},[y(p("iframe",{src:n(a).options.source,style:S(C.value),frameborder:"0",onLoad:I},null,44,ie),[[G,g.value]])])),t(Y,{modelValue:n(u).widgetManagerVars(n(a).hash).configMenuOpen,"onUpdate:modelValue":s[3]||(s[3]=l=>n(u).widgetManagerVars(n(a).hash).configMenuOpen=l),"min-width":"400","max-width":"35%"},{default:i(()=>[t(H,{class:"pa-2",style:S(n(U).globalGlassMenuStyles)},{default:i(()=>[t(J,{class:"text-center"},{default:i(()=>[F("Settings")]),_:1}),t(M,null,{default:i(()=>[ue,p("div",re,[t(P,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=l=>o.value=l),variant:"filled",outlined:"",rules:[m],onKeydown:Q(w,["enter"])},null,8,["modelValue","rules"]),y(t(k,{icon:"mdi-check",class:"mx-1 mb-5 bg-[#FFFFFF22]",rounded:"lg",flat:"",onClick:w},null,512),[[L,"Set",void 0,{bottom:!0}]])])]),_:1}),t(M,null,{default:i(()=>[t(q,{modelValue:v.value,"onUpdate:modelValue":s[1]||(s[1]=l=>v.value=l),label:"Transparency",color:"white",min:0,max:90},null,8,["modelValue"])]),_:1}),t(X,{class:"flex justify-end"},{default:i(()=>[t(k,{color:"white",onClick:s[2]||(s[2]=l=>n(u).widgetManagerVars(n(a).hash).configMenuOpen=!1)},{default:i(()=>[F(" Close ")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"])]),t(oe,{"open-snackbar":c.value,message:f.value,duration:3e3,"close-button":!1,"onUpdate:openSnackbar":s[4]||(s[4]=l=>c.value=l)},null,8,["open-snackbar","message"])],64)}}}),fe=se(de,[["__scopeId","data-v-2823bce5"]]);export{fe as default};
