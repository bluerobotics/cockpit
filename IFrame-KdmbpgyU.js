import{c as R,b7 as $,J as T,Q as B,S as O,r as d,W,b8 as b,aq as z,k as _,w as j,l as S,m as A,n as p,H as N,q as x,aL as q,s as n,a4 as y,ah as D,G as t,$ as u,ad as G,ae as H,a0 as F,af as k,ag as K,b9 as E,a6 as M,T as J,ay as P,ba as Q,a7 as X,bb as Y,F as Z,bc as ee,a9 as ae,aa as te,_ as se}from"./index-D-6ry6p8.js";const le=r=>(ae("data-v-2823bce5"),r=r(),te(),r),oe={class:"w-full h-full"},ne=["src"],ue=le(()=>p("p",null,"Iframe Source",-1)),ie={class:"flex items-center justify-between"},re=R({__name:"IFrame",props:{widget:{}},setup(r){$(e=>({"6f56b4ce":I.value}));const U=T(),i=B(),a=O(r).widget,g=d(!1),f=d(0),l=d(a.value.options.source),c=d(!1),v=d(""),m=e=>ee(e)?!0:"URL is not valid.",w=()=>{const e=m(l.value);if(e!==!0){v.value=`${e} Please enter a valid URL.`,c.value=!0;return}a.value.options.source=l.value,v.value=`IFrame URL sucessfully updated to '${l.value}'.`,c.value=!0};W(()=>{Object.keys(a.value.options).length===0&&(a.value.options={source:b},l.value=b)});const{width:h,height:V}=z(),C=_(()=>{let e="";return e=e.concat(" ","position: absolute;"),e=e.concat(" ",`left: ${a.value.position.x*h.value}px;`),e=e.concat(" ",`top: ${a.value.position.y*V.value}px;`),e=e.concat(" ",`width: ${a.value.size.width*h.value}px;`),e=e.concat(" ",`height: ${a.value.size.height*V.value}px;`),i.editingMode&&(e=e.concat(" ","pointer-events:none; border:0;")),i.isWidgetVisible(a.value)||(e=e.concat(" ","display: none;")),e}),I=_(()=>(100-f.value)/100);function L(){console.log("Finished loading"),g.value=!0}return j(a,()=>{i.widgetManagerVars(a.value.hash).configMenuOpen===!1&&m(l.value)!==!0&&(l.value=a.value.options.source)},{deep:!0}),(e,s)=>(S(),A(Z,null,[p("div",oe,[(S(),N(D,{to:".widgets-view"},[x(p("iframe",{src:n(a).options.source,style:y(C.value),frameborder:"0",onLoad:L},null,44,ne),[[q,g.value]])])),t(X,{modelValue:n(i).widgetManagerVars(n(a).hash).configMenuOpen,"onUpdate:modelValue":s[3]||(s[3]=o=>n(i).widgetManagerVars(n(a).hash).configMenuOpen=o),"min-width":"400","max-width":"35%"},{default:u(()=>[t(G,{class:"pa-2",style:y(n(U).globalGlassMenuStyles)},{default:u(()=>[t(H,{class:"text-center"},{default:u(()=>[F("Settings")]),_:1}),t(k,null,{default:u(()=>[ue,p("div",ie,[t(K,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=o=>l.value=o),variant:"filled",outlined:"",rules:[m],onKeydown:E(w,["enter"])},null,8,["modelValue","rules"]),x(t(M,{icon:"mdi-check",class:"mx-1 mb-5 bg-[#FFFFFF22]",rounded:"lg",flat:"",onClick:w},null,512),[[J,"Set",void 0,{bottom:!0}]])])]),_:1}),t(k,null,{default:u(()=>[t(P,{modelValue:f.value,"onUpdate:modelValue":s[1]||(s[1]=o=>f.value=o),label:"Transparency",color:"white",min:0,max:90},null,8,["modelValue"])]),_:1}),t(Q,{class:"flex justify-end"},{default:u(()=>[t(M,{color:"white",onClick:s[2]||(s[2]=o=>n(i).widgetManagerVars(n(a).hash).configMenuOpen=!1)},{default:u(()=>[F(" Close ")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"])]),t(Y,{"open-snackbar":c.value,message:v.value,duration:3e3,"close-button":!1,"onUpdate:openSnackbar":s[4]||(s[4]=o=>c.value=o)},null,8,["open-snackbar","message"])],64))}}),pe=se(re,[["__scopeId","data-v-2823bce5"]]);export{pe as default};
