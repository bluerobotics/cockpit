import{d as x,bc as y,aC as _,aD as C,q as p,aH as S,aX as B,l as f,o as m,c as M,j as T,w as k,aB as F,a as O,b as s,ah as $,b8 as z,i as o,a2 as l,ae as I,aT as W,a5 as v,af as g,bd as D,be as E,b1 as N,bf as j,a3 as H,ak as K,ap as U}from"./index-Cd7ywPYs.js";const q={class:"w-full h-full"},A=["src"],L=x({__name:"IFrame",props:{widget:{}},setup(w){y(e=>({"69652b34":h.value}));const r=_(),a=C(w).widget,u=p(!1),i=p(0);S(()=>{Object.keys(a.value.options).length===0&&(a.value.options={source:"http://blueos.local"})});const{width:d,height:c}=B(),V=f(()=>{let e="";return e=e.concat(" ","position: absolute;"),e=e.concat(" ",`left: ${a.value.position.x*d.value}px;`),e=e.concat(" ",`top: ${a.value.position.y*c.value}px;`),e=e.concat(" ",`width: ${a.value.size.width*d.value}px;`),e=e.concat(" ",`height: ${a.value.size.height*c.value}px;`),r.editingMode&&(e=e.concat(" ","pointer-events:none; border:0;")),r.isWidgetVisible(a.value)||(e=e.concat(" ","display: none;")),e}),h=f(()=>(100-i.value)/100);function b(){console.log("Finished loading"),u.value=!0}return(e,t)=>(m(),M("div",q,[(m(),T(z,{to:".widgets-view"},[k(O("iframe",{src:s(a).options.source,style:$(V.value),frameborder:"0",onLoad:b},null,44,A),[[F,u.value]])])),o(K,{modelValue:s(a).managerVars.configMenuOpen,"onUpdate:modelValue":t[4]||(t[4]=n=>s(a).managerVars.configMenuOpen=n),"min-width":"400","max-width":"35%"},{default:l(()=>[o(I,{class:"pa-2"},{default:l(()=>[o(W,null,{default:l(()=>[v("Settings")]),_:1}),o(g,null,{default:l(()=>[o(D,{label:"Iframe Source",variant:"underlined","model-value":s(a).options.source,outlined:"",onChange:t[0]||(t[0]=n=>s(a).options.source=n.srcElement.value),onKeydown:t[1]||(t[1]=E(n=>s(a).options.source=n.srcElement.value,["enter"]))},null,8,["model-value"])]),_:1}),o(g,null,{default:l(()=>[o(N,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=n=>i.value=n),label:"Transparency",min:0,max:90},null,8,["modelValue"])]),_:1}),o(j,null,{default:l(()=>[o(H,{color:"primary",onClick:t[3]||(t[3]=n=>s(a).managerVars.configMenuOpen=!1)},{default:l(()=>[v("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),G=U(L,[["__scopeId","data-v-24e8518d"]]);export{G as default};
