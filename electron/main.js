"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("electron"),r=require("path"),i={dist:r.join(__dirname,"..")};let e;function s(){const{width:o,height:n}=t.screen.getPrimaryDisplay().workAreaSize;e=new t.BrowserWindow({icon:r.join(i.dist,"pwa-512x512.png"),webPreferences:{webSecurity:!1,contextIsolation:!1,nodeIntegration:!0,allowRunningInsecureContent:!0},width:o,height:n}),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),process.env.VITE_DEV_SERVER_URL?e.loadURL(process.env.VITE_DEV_SERVER_URL):e.loadFile(r.join(i.dist,"index.html"))}t.app.on("window-all-closed",()=>{console.log("Closing application."),e=null,t.app.quit()});t.app.on("ready",()=>{t.protocol.registerFileProtocol("file",(o,n)=>{n({path:o.url.substring(7)})})});t.protocol.registerSchemesAsPrivileged([{scheme:"file",privileges:{secure:!0,standard:!0,supportFetchAPI:!0,allowServiceWorkers:!0}}]);t.app.whenReady().then(s);exports.ROOT_PATH=i;
