"use strict";var Au=Object.defineProperty;var Cu=(e,t,r)=>t in e?Au(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kr=(e,t,r)=>(Cu(e,typeof t!="symbol"?t+"":t,r),r),ni=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var ue=(e,t,r)=>(ni(e,t,"read from private field"),r?r.call(e):t.get(e)),Ar=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Cr=(e,t,r,n)=>(ni(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const fe=require("electron"),Rn=require("path"),_e=require("node:process"),se=require("node:path"),ve=require("node:util"),Z=require("node:fs"),Dr=require("node:crypto"),Du=require("node:assert"),Wn=require("node:os"),Mu=require("os"),xt=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},$s=new Set(["__proto__","prototype","constructor"]),Vu=new Set("0123456789");function Yn(e){const t=[];let r="",n="start",s=!1;for(const a of e)switch(a){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");s&&(r+=a),n="property",s=!s;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(s){s=!1,r+=a;break}if($s.has(r))return[];t.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(s){s=!1,r+=a;break}if(n==="property"){if($s.has(r))return[];t.push(r),r=""}n="index";break}case"]":{if(n==="index"){t.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!Vu.has(a))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),s&&(s=!1,r+="\\"),r+=a}}switch(s&&(r+="\\"),n){case"property":{if($s.has(r))return[];t.push(r);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function ta(e,t){if(typeof t!="number"&&Array.isArray(e)){const r=Number.parseInt(t,10);return Number.isInteger(r)&&e[r]===e[t]}return!1}function Cc(e,t){if(ta(e,t))throw new Error("Cannot use string index")}function Lu(e,t,r){if(!xt(e)||typeof t!="string")return r===void 0?e:r;const n=Yn(t);if(n.length===0)return r;for(let s=0;s<n.length;s++){const a=n[s];if(ta(e,a)?e=s===n.length-1?void 0:null:e=e[a],e==null){if(s!==n.length-1)return r;break}}return e===void 0?r:e}function si(e,t,r){if(!xt(e)||typeof t!="string")return e;const n=e,s=Yn(t);for(let a=0;a<s.length;a++){const o=s[a];Cc(e,o),a===s.length-1?e[o]=r:xt(e[o])||(e[o]=typeof s[a+1]=="number"?[]:{}),e=e[o]}return n}function Fu(e,t){if(!xt(e)||typeof t!="string")return!1;const r=Yn(t);for(let n=0;n<r.length;n++){const s=r[n];if(Cc(e,s),n===r.length-1)return delete e[s],!0;if(e=e[s],!xt(e))return!1}}function zu(e,t){if(!xt(e)||typeof t!="string")return!1;const r=Yn(t);if(r.length===0)return!1;for(const n of r){if(!xt(e)||!(n in e)||ta(e,n))return!1;e=e[n]}return!0}const St=Wn.homedir(),ra=Wn.tmpdir(),{env:fr}=_e,Uu=e=>{const t=se.join(St,"Library");return{data:se.join(t,"Application Support",e),config:se.join(t,"Preferences",e),cache:se.join(t,"Caches",e),log:se.join(t,"Logs",e),temp:se.join(ra,e)}},qu=e=>{const t=fr.APPDATA||se.join(St,"AppData","Roaming"),r=fr.LOCALAPPDATA||se.join(St,"AppData","Local");return{data:se.join(r,e,"Data"),config:se.join(t,e,"Config"),cache:se.join(r,e,"Cache"),log:se.join(r,e,"Log"),temp:se.join(ra,e)}},Gu=e=>{const t=se.basename(St);return{data:se.join(fr.XDG_DATA_HOME||se.join(St,".local","share"),e),config:se.join(fr.XDG_CONFIG_HOME||se.join(St,".config"),e),cache:se.join(fr.XDG_CACHE_HOME||se.join(St,".cache"),e),log:se.join(fr.XDG_STATE_HOME||se.join(St,".local","state"),e),temp:se.join(ra,t,e)}};function Ku(e,{suffix:t="nodejs"}={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return t&&(e+=`-${t}`),_e.platform==="darwin"?Uu(e):_e.platform==="win32"?qu(e):Gu(e)}const $t=(e,t)=>function(...n){return e.apply(void 0,n).catch(t)},it=(e,t)=>function(...n){try{return e.apply(void 0,n)}catch(s){return t(s)}},Hu=_e.getuid?!_e.getuid():!1,Bu=1e4,Ve=()=>{},de={isChangeErrorOk:e=>{if(!de.isNodeError(e))return!1;const{code:t}=e;return t==="ENOSYS"||!Hu&&(t==="EINVAL"||t==="EPERM")},isNodeError:e=>e instanceof Error,isRetriableError:e=>{if(!de.isNodeError(e))return!1;const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCES"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!de.isNodeError(e))throw e;if(!de.isChangeErrorOk(e))throw e}};class Ju{constructor(){this.interval=25,this.intervalId=void 0,this.limit=Bu,this.queueActive=new Set,this.queueWaiting=new Set,this.init=()=>{this.intervalId||(this.intervalId=setInterval(this.tick,this.interval))},this.reset=()=>{this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId)},this.add=t=>{this.queueWaiting.add(t),this.queueActive.size<this.limit/2?this.tick():this.init()},this.remove=t=>{this.queueWaiting.delete(t),this.queueActive.delete(t)},this.schedule=()=>new Promise(t=>{const r=()=>this.remove(n),n=()=>t(r);this.add(n)}),this.tick=()=>{if(!(this.queueActive.size>=this.limit)){if(!this.queueWaiting.size)return this.reset();for(const t of this.queueWaiting){if(this.queueActive.size>=this.limit)break;this.queueWaiting.delete(t),this.queueActive.add(t),t()}}}}}const Xu=new Ju,yt=(e,t)=>function(n){return function s(...a){return Xu.schedule().then(o=>{const u=c=>(o(),c),l=c=>{if(o(),Date.now()>=n)throw c;if(t(c)){const d=Math.round(100*Math.random());return new Promise(b=>setTimeout(b,d)).then(()=>s.apply(void 0,a))}throw c};return e.apply(void 0,a).then(u,l)})}},gt=(e,t)=>function(n){return function s(...a){try{return e.apply(void 0,a)}catch(o){if(Date.now()>n)throw o;if(t(o))return s.apply(void 0,a);throw o}}},Re={attempt:{chmod:$t(ve.promisify(Z.chmod),de.onChangeError),chown:$t(ve.promisify(Z.chown),de.onChangeError),close:$t(ve.promisify(Z.close),Ve),fsync:$t(ve.promisify(Z.fsync),Ve),mkdir:$t(ve.promisify(Z.mkdir),Ve),realpath:$t(ve.promisify(Z.realpath),Ve),stat:$t(ve.promisify(Z.stat),Ve),unlink:$t(ve.promisify(Z.unlink),Ve),chmodSync:it(Z.chmodSync,de.onChangeError),chownSync:it(Z.chownSync,de.onChangeError),closeSync:it(Z.closeSync,Ve),existsSync:it(Z.existsSync,Ve),fsyncSync:it(Z.fsync,Ve),mkdirSync:it(Z.mkdirSync,Ve),realpathSync:it(Z.realpathSync,Ve),statSync:it(Z.statSync,Ve),unlinkSync:it(Z.unlinkSync,Ve)},retry:{close:yt(ve.promisify(Z.close),de.isRetriableError),fsync:yt(ve.promisify(Z.fsync),de.isRetriableError),open:yt(ve.promisify(Z.open),de.isRetriableError),readFile:yt(ve.promisify(Z.readFile),de.isRetriableError),rename:yt(ve.promisify(Z.rename),de.isRetriableError),stat:yt(ve.promisify(Z.stat),de.isRetriableError),write:yt(ve.promisify(Z.write),de.isRetriableError),writeFile:yt(ve.promisify(Z.writeFile),de.isRetriableError),closeSync:gt(Z.closeSync,de.isRetriableError),fsyncSync:gt(Z.fsyncSync,de.isRetriableError),openSync:gt(Z.openSync,de.isRetriableError),readFileSync:gt(Z.readFileSync,de.isRetriableError),renameSync:gt(Z.renameSync,de.isRetriableError),statSync:gt(Z.statSync,de.isRetriableError),writeSync:gt(Z.writeSync,de.isRetriableError),writeFileSync:gt(Z.writeFileSync,de.isRetriableError)}},Wu="utf8",ai=438,Yu=511,Qu={},Zu=Wn.userInfo().uid,xu=Wn.userInfo().gid,ed=1e3,td=!!_e.getuid;_e.getuid&&_e.getuid();const oi=128,rd=e=>e instanceof Error&&"code"in e,ii=e=>typeof e=="string",ys=e=>e===void 0,nd=_e.platform==="linux",Dc=_e.platform==="win32",na=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];Dc||na.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");nd&&na.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED");class sd{constructor(){this.callbacks=new Set,this.exited=!1,this.exit=t=>{if(!this.exited){this.exited=!0;for(const r of this.callbacks)r();t&&(Dc&&t!=="SIGINT"&&t!=="SIGTERM"&&t!=="SIGKILL"?_e.kill(_e.pid,"SIGTERM"):_e.kill(_e.pid,t))}},this.hook=()=>{_e.once("exit",()=>this.exit());for(const t of na)try{_e.once(t,()=>this.exit(t))}catch{}},this.register=t=>(this.callbacks.add(t),()=>{this.callbacks.delete(t)}),this.hook()}}const ad=new sd,od=ad.register,Oe={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=Oe.truncate(t(e));return n in Oe.store?Oe.get(e,t,r):(Oe.store[n]=r,[n,()=>delete Oe.store[n]])},purge:e=>{Oe.store[e]&&(delete Oe.store[e],Re.attempt.unlink(e))},purgeSync:e=>{Oe.store[e]&&(delete Oe.store[e],Re.attempt.unlinkSync(e))},purgeSyncAll:()=>{for(const e in Oe.store)Oe.purgeSync(e)},truncate:e=>{const t=se.basename(e);if(t.length<=oi)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-oi;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};od(Oe.purgeSyncAll);function Mc(e,t,r=Qu){if(ii(r))return Mc(e,t,{encoding:r});const n=Date.now()+((r.timeout??ed)||-1);let s=null,a=null,o=null;try{const u=Re.attempt.realpathSync(e),l=!!u;e=u||e,[a,s]=Oe.get(e,r.tmpCreate||Oe.create,r.tmpPurge!==!1);const c=td&&ys(r.chown),d=ys(r.mode);if(l&&(c||d)){const h=Re.attempt.statSync(e);h&&(r={...r},c&&(r.chown={uid:h.uid,gid:h.gid}),d&&(r.mode=h.mode))}if(!l){const h=se.dirname(e);Re.attempt.mkdirSync(h,{mode:Yu,recursive:!0})}o=Re.retry.openSync(n)(a,"w",r.mode||ai),r.tmpCreated&&r.tmpCreated(a),ii(t)?Re.retry.writeSync(n)(o,t,0,r.encoding||Wu):ys(t)||Re.retry.writeSync(n)(o,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Re.retry.fsyncSync(n)(o):Re.attempt.fsync(o)),Re.retry.closeSync(n)(o),o=null,r.chown&&(r.chown.uid!==Zu||r.chown.gid!==xu)&&Re.attempt.chownSync(a,r.chown.uid,r.chown.gid),r.mode&&r.mode!==ai&&Re.attempt.chmodSync(a,r.mode);try{Re.retry.renameSync(n)(a,e)}catch(h){if(!rd(h)||h.code!=="ENAMETOOLONG")throw h;Re.retry.renameSync(n)(a,Oe.truncate(e))}s(),a=null}finally{o&&Re.attempt.closeSync(o),a&&Oe.purge(a)}}function Vc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ms={exports:{}},Lc={},We={},yr={},nn={},W={},tn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((N,R)=>`${N}${R}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((N,R)=>(R instanceof r&&(N[R.str]=(N[R.str]||0)+1),N),{})}}e._Code=n,e.nil=new n("");function s(m,...v){const N=[m[0]];let R=0;for(;R<v.length;)u(N,v[R]),N.push(m[++R]);return new n(N)}e._=s;const a=new n("+");function o(m,...v){const N=[_(m[0])];let R=0;for(;R<v.length;)N.push(a),u(N,v[R]),N.push(a,_(m[++R]));return l(N),new n(N)}e.str=o;function u(m,v){v instanceof n?m.push(...v._items):v instanceof r?m.push(v):m.push(h(v))}e.addCodeArg=u;function l(m){let v=1;for(;v<m.length-1;){if(m[v]===a){const N=c(m[v-1],m[v+1]);if(N!==void 0){m.splice(v-1,3,N);continue}m[v++]="+"}v++}}function c(m,v){if(v==='""')return m;if(m==='""')return v;if(typeof m=="string")return v instanceof r||m[m.length-1]!=='"'?void 0:typeof v!="string"?`${m.slice(0,-1)}${v}"`:v[0]==='"'?m.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(m instanceof r))return`"${m}${v.slice(1)}`}function d(m,v){return v.emptyStr()?m:m.emptyStr()?v:o`${m}${v}`}e.strConcat=d;function h(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:_(Array.isArray(m)?m.join(","):m)}function b(m){return new n(_(m))}e.stringify=b;function _(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=_;function y(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=y;function w(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=w;function g(m){return new n(m.toString())}e.regexpCode=g})(tn);var Vs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=tn;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:c,parent:d}={}){this._names={},this._prefixes=c,this._parent=d}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const d=this._names[c]||this._nameGroup(c);return`${c}${d.index++}`}_nameGroup(c){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=s;class a extends t.Name{constructor(c,d){super(d),this.prefix=c}setValue(c,{property:d,itemIndex:h}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class u extends s{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const b=this.toName(c),{prefix:_}=b,y=(h=d.key)!==null&&h!==void 0?h:d.ref;let w=this._values[_];if(w){const v=w.get(y);if(v)return v}else w=this._values[_]=new Map;w.set(y,b);const g=this._scope[_]||(this._scope[_]=[]),m=g.length;return g[m]=d.ref,b.setValue(d,{property:_,itemIndex:m}),b}getValue(c,d){const h=this._values[c];if(h)return h.get(d)}scopeRefs(c,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${c}${h.scopePath}`})}scopeCode(c=this._values,d,h){return this._reduceValues(c,b=>{if(b.value===void 0)throw new Error(`CodeGen: name "${b}" has no value`);return b.value.code},d,h)}_reduceValues(c,d,h={},b){let _=t.nil;for(const y in c){const w=c[y];if(!w)continue;const g=h[y]=h[y]||new Map;w.forEach(m=>{if(g.has(m))return;g.set(m,n.Started);let v=d(m);if(v){const N=this.opts.es5?e.varKinds.var:e.varKinds.const;_=(0,t._)`${_}${N} ${m} = ${v};${this.opts._n}`}else if(v=b==null?void 0:b(m))_=(0,t._)`${_}${v}${this.opts._n}`;else throw new r(m);g.set(m,n.Completed)})}return _}}e.ValueScope=u})(Vs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=tn,r=Vs;var n=tn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Vs;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(i,f){return this}}class o extends a{constructor(i,f,E){super(),this.varKind=i,this.name=f,this.rhs=E}render({es5:i,_n:f}){const E=i?r.varKinds.var:this.varKind,I=this.rhs===void 0?"":` = ${this.rhs}`;return`${E} ${this.name}${I};`+f}optimizeNames(i,f){if(i[this.name.str])return this.rhs&&(this.rhs=T(this.rhs,i,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(i,f,E){super(),this.lhs=i,this.rhs=f,this.sideEffects=E}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,f){if(!(this.lhs instanceof t.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=T(this.rhs,i,f),this}get names(){const i=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ne(i,this.rhs)}}class l extends u{constructor(i,f,E,I){super(i,E,I),this.op=f}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}}class c extends a{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}}class d extends a{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}}class h extends a{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}}class b extends a{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,f){return this.code=T(this.code,i,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class _ extends a{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((f,E)=>f+E.render(i),"")}optimizeNodes(){const{nodes:i}=this;let f=i.length;for(;f--;){const E=i[f].optimizeNodes();Array.isArray(E)?i.splice(f,1,...E):E?i[f]=E:i.splice(f,1)}return i.length>0?this:void 0}optimizeNames(i,f){const{nodes:E}=this;let I=E.length;for(;I--;){const j=E[I];j.optimizeNames(i,f)||(k(i,j.names),E.splice(I,1))}return E.length>0?this:void 0}get names(){return this.nodes.reduce((i,f)=>H(i,f.names),{})}}class y extends _{render(i){return"{"+i._n+super.render(i)+"}"+i._n}}class w extends _{}class g extends y{}g.kind="else";class m extends y{constructor(i,f){super(f),this.condition=i}render(i){let f=`if(${this.condition})`+super.render(i);return this.else&&(f+="else "+this.else.render(i)),f}optimizeNodes(){super.optimizeNodes();const i=this.condition;if(i===!0)return this.nodes;let f=this.else;if(f){const E=f.optimizeNodes();f=this.else=Array.isArray(E)?new g(E):E}if(f)return i===!1?f instanceof m?f:f.nodes:this.nodes.length?this:new m(V(i),f instanceof m?[f]:f.nodes);if(!(i===!1||!this.nodes.length))return this}optimizeNames(i,f){var E;if(this.else=(E=this.else)===null||E===void 0?void 0:E.optimizeNames(i,f),!!(super.optimizeNames(i,f)||this.else))return this.condition=T(this.condition,i,f),this}get names(){const i=super.names;return ne(i,this.condition),this.else&&H(i,this.else.names),i}}m.kind="if";class v extends y{}v.kind="for";class N extends v{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,f){if(super.optimizeNames(i,f))return this.iteration=T(this.iteration,i,f),this}get names(){return H(super.names,this.iteration.names)}}class R extends v{constructor(i,f,E,I){super(),this.varKind=i,this.name=f,this.from=E,this.to=I}render(i){const f=i.es5?r.varKinds.var:this.varKind,{name:E,from:I,to:j}=this;return`for(${f} ${E}=${I}; ${E}<${j}; ${E}++)`+super.render(i)}get names(){const i=ne(super.names,this.from);return ne(i,this.to)}}class O extends v{constructor(i,f,E,I){super(),this.loop=i,this.varKind=f,this.name=E,this.iterable=I}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,f){if(super.optimizeNames(i,f))return this.iterable=T(this.iterable,i,f),this}get names(){return H(super.names,this.iterable.names)}}class G extends y{constructor(i,f,E){super(),this.name=i,this.args=f,this.async=E}render(i){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(i)}}G.kind="func";class X extends _{render(i){return"return "+super.render(i)}}X.kind="return";class le extends y{render(i){let f="try"+super.render(i);return this.catch&&(f+=this.catch.render(i)),this.finally&&(f+=this.finally.render(i)),f}optimizeNodes(){var i,f;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(i,f){var E,I;return super.optimizeNames(i,f),(E=this.catch)===null||E===void 0||E.optimizeNames(i,f),(I=this.finally)===null||I===void 0||I.optimizeNames(i,f),this}get names(){const i=super.names;return this.catch&&H(i,this.catch.names),this.finally&&H(i,this.finally.names),i}}class he extends y{constructor(i){super(),this.error=i}render(i){return`catch(${this.error})`+super.render(i)}}he.kind="catch";class $e extends y{render(i){return"finally"+super.render(i)}}$e.kind="finally";class z{constructor(i,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=i,this._scope=new r.Scope({parent:i}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,f){const E=this._extScope.value(i,f);return(this._values[E.prefix]||(this._values[E.prefix]=new Set)).add(E),E}getScopeValue(i,f){return this._extScope.getValue(i,f)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,f,E,I){const j=this._scope.toName(f);return E!==void 0&&I&&(this._constants[j.str]=E),this._leafNode(new o(i,j,E)),j}const(i,f,E){return this._def(r.varKinds.const,i,f,E)}let(i,f,E){return this._def(r.varKinds.let,i,f,E)}var(i,f,E){return this._def(r.varKinds.var,i,f,E)}assign(i,f,E){return this._leafNode(new u(i,f,E))}add(i,f){return this._leafNode(new l(i,e.operators.ADD,f))}code(i){return typeof i=="function"?i():i!==t.nil&&this._leafNode(new b(i)),this}object(...i){const f=["{"];for(const[E,I]of i)f.length>1&&f.push(","),f.push(E),(E!==I||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,I));return f.push("}"),new t._Code(f)}if(i,f,E){if(this._blockNode(new m(i)),f&&E)this.code(f).else().code(E).endIf();else if(f)this.code(f).endIf();else if(E)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new m(i))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(m,g)}_for(i,f){return this._blockNode(i),f&&this.code(f).endFor(),this}for(i,f){return this._for(new N(i),f)}forRange(i,f,E,I,j=this.opts.es5?r.varKinds.var:r.varKinds.let){const F=this._scope.toName(i);return this._for(new R(j,F,f,E),()=>I(F))}forOf(i,f,E,I=r.varKinds.const){const j=this._scope.toName(i);if(this.opts.es5){const F=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${F}.length`,L=>{this.var(j,(0,t._)`${F}[${L}]`),E(j)})}return this._for(new O("of",I,j,f),()=>E(j))}forIn(i,f,E,I=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,t._)`Object.keys(${f})`,E);const j=this._scope.toName(i);return this._for(new O("in",I,j,f),()=>E(j))}endFor(){return this._endBlockNode(v)}label(i){return this._leafNode(new c(i))}break(i){return this._leafNode(new d(i))}return(i){const f=new X;if(this._blockNode(f),this.code(i),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(X)}try(i,f,E){if(!f&&!E)throw new Error('CodeGen: "try" without "catch" and "finally"');const I=new le;if(this._blockNode(I),this.code(i),f){const j=this.name("e");this._currNode=I.catch=new he(j),f(j)}return E&&(this._currNode=I.finally=new $e,this.code(E)),this._endBlockNode(he,$e)}throw(i){return this._leafNode(new h(i))}block(i,f){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(f),this}endBlock(i){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const E=this._nodes.length-f;if(E<0||i!==void 0&&E!==i)throw new Error(`CodeGen: wrong number of nodes: ${E} vs ${i} expected`);return this._nodes.length=f,this}func(i,f=t.nil,E,I){return this._blockNode(new G(i,f,E)),I&&this.code(I).endFunc(),this}endFunc(){return this._endBlockNode(G)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,f){const E=this._currNode;if(E instanceof i||f&&E instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${i.kind}/${f.kind}`:i.kind}"`)}_elseNode(i){const f=this._currNode;if(!(f instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=i,this}get _root(){return this._nodes[0]}get _currNode(){const i=this._nodes;return i[i.length-1]}set _currNode(i){const f=this._nodes;f[f.length-1]=i}}e.CodeGen=z;function H($,i){for(const f in i)$[f]=($[f]||0)+(i[f]||0);return $}function ne($,i){return i instanceof t._CodeOrName?H($,i.names):$}function T($,i,f){if($ instanceof t.Name)return E($);if(!I($))return $;return new t._Code($._items.reduce((j,F)=>(F instanceof t.Name&&(F=E(F)),F instanceof t._Code?j.push(...F._items):j.push(F),j),[]));function E(j){const F=f[j.str];return F===void 0||i[j.str]!==1?j:(delete i[j.str],F)}function I(j){return j instanceof t._Code&&j._items.some(F=>F instanceof t.Name&&i[F.str]===1&&f[F.str]!==void 0)}}function k($,i){for(const f in i)$[f]=($[f]||0)-(i[f]||0)}function V($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,t._)`!${S($)}`}e.not=V;const D=p(e.operators.AND);function K(...$){return $.reduce(D)}e.and=K;const M=p(e.operators.OR);function P(...$){return $.reduce(M)}e.or=P;function p($){return(i,f)=>i===t.nil?f:f===t.nil?i:(0,t._)`${S(i)} ${$} ${S(f)}`}function S($){return $ instanceof t.Name?$:(0,t._)`(${$})`}})(W);var A={};Object.defineProperty(A,"__esModule",{value:!0});A.checkStrictMode=A.getErrorPath=A.Type=A.useFunc=A.setEvaluated=A.evaluatedPropsToName=A.mergeEvaluated=A.eachItem=A.unescapeJsonPointer=A.escapeJsonPointer=A.escapeFragment=A.unescapeFragment=A.schemaRefOrVal=A.schemaHasRulesButRef=A.schemaHasRules=A.checkUnknownRules=A.alwaysValidSchema=A.toHash=void 0;const ae=W,id=tn;function cd(e){const t={};for(const r of e)t[r]=!0;return t}A.toHash=cd;function ld(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Fc(e,t),!zc(t,e.self.RULES.all))}A.alwaysValidSchema=ld;function Fc(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||Gc(e,`unknown keyword: "${a}"`)}A.checkUnknownRules=Fc;function zc(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}A.schemaHasRules=zc;function ud(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}A.schemaHasRulesButRef=ud;function dd({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ae._)`${r}`}return(0,ae._)`${e}${t}${(0,ae.getProperty)(n)}`}A.schemaRefOrVal=dd;function fd(e){return Uc(decodeURIComponent(e))}A.unescapeFragment=fd;function hd(e){return encodeURIComponent(sa(e))}A.escapeFragment=hd;function sa(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}A.escapeJsonPointer=sa;function Uc(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}A.unescapeJsonPointer=Uc;function md(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}A.eachItem=md;function ci({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,u)=>{const l=o===void 0?a:o instanceof ae.Name?(a instanceof ae.Name?e(s,a,o):t(s,a,o),o):a instanceof ae.Name?(t(s,o,a),a):r(a,o);return u===ae.Name&&!(l instanceof ae.Name)?n(s,l):l}}A.mergeEvaluated={props:ci({mergeNames:(e,t,r)=>e.if((0,ae._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ae._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ae._)`${r} || {}`).code((0,ae._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ae._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ae._)`${r} || {}`),aa(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:qc}),items:ci({mergeNames:(e,t,r)=>e.if((0,ae._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ae._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ae._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ae._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function qc(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ae._)`{}`);return t!==void 0&&aa(e,r,t),r}A.evaluatedPropsToName=qc;function aa(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ae._)`${t}${(0,ae.getProperty)(n)}`,!0))}A.setEvaluated=aa;const li={};function pd(e,t){return e.scopeValue("func",{ref:t,code:li[t.code]||(li[t.code]=new id._Code(t.code))})}A.useFunc=pd;var Ls;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Ls||(A.Type=Ls={}));function $d(e,t,r){if(e instanceof ae.Name){const n=t===Ls.Num;return r?n?(0,ae._)`"[" + ${e} + "]"`:(0,ae._)`"['" + ${e} + "']"`:n?(0,ae._)`"/" + ${e}`:(0,ae._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ae.getProperty)(e).toString():"/"+sa(e)}A.getErrorPath=$d;function Gc(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}A.checkStrictMode=Gc;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});const Pe=W,yd={data:new Pe.Name("data"),valCxt:new Pe.Name("valCxt"),instancePath:new Pe.Name("instancePath"),parentData:new Pe.Name("parentData"),parentDataProperty:new Pe.Name("parentDataProperty"),rootData:new Pe.Name("rootData"),dynamicAnchors:new Pe.Name("dynamicAnchors"),vErrors:new Pe.Name("vErrors"),errors:new Pe.Name("errors"),this:new Pe.Name("this"),self:new Pe.Name("self"),scope:new Pe.Name("scope"),json:new Pe.Name("json"),jsonPos:new Pe.Name("jsonPos"),jsonLen:new Pe.Name("jsonLen"),jsonPart:new Pe.Name("jsonPart")};Fe.default=yd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=W,r=A,n=Fe;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:m})=>m?(0,t.str)`"${g}" keyword must be ${m} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function s(g,m=e.keywordError,v,N){const{it:R}=g,{gen:O,compositeRule:G,allErrors:X}=R,le=h(g,m,v);N??(G||X)?l(O,le):c(R,(0,t._)`[${le}]`)}e.reportError=s;function a(g,m=e.keywordError,v){const{it:N}=g,{gen:R,compositeRule:O,allErrors:G}=N,X=h(g,m,v);l(R,X),O||G||c(N,n.default.vErrors)}e.reportExtraError=a;function o(g,m){g.assign(n.default.errors,m),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(m,()=>g.assign((0,t._)`${n.default.vErrors}.length`,m),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function u({gen:g,keyword:m,schemaValue:v,data:N,errsCount:R,it:O}){if(R===void 0)throw new Error("ajv implementation error");const G=g.name("err");g.forRange("i",R,n.default.errors,X=>{g.const(G,(0,t._)`${n.default.vErrors}[${X}]`),g.if((0,t._)`${G}.instancePath === undefined`,()=>g.assign((0,t._)`${G}.instancePath`,(0,t.strConcat)(n.default.instancePath,O.errorPath))),g.assign((0,t._)`${G}.schemaPath`,(0,t.str)`${O.errSchemaPath}/${m}`),O.opts.verbose&&(g.assign((0,t._)`${G}.schema`,v),g.assign((0,t._)`${G}.data`,N))})}e.extendErrors=u;function l(g,m){const v=g.const("err",m);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${n.default.vErrors}.push(${v})`),g.code((0,t._)`${n.default.errors}++`)}function c(g,m){const{gen:v,validateName:N,schemaEnv:R}=g;R.$async?v.throw((0,t._)`new ${g.ValidationError}(${m})`):(v.assign((0,t._)`${N}.errors`,m),v.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(g,m,v){const{createErrors:N}=g.it;return N===!1?(0,t._)`{}`:b(g,m,v)}function b(g,m,v={}){const{gen:N,it:R}=g,O=[_(R,v),y(g,v)];return w(g,m,O),N.object(...O)}function _({errorPath:g},{instancePath:m}){const v=m?(0,t.str)`${g}${(0,r.getErrorPath)(m,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,v)]}function y({keyword:g,it:{errSchemaPath:m}},{schemaPath:v,parentSchema:N}){let R=N?m:(0,t.str)`${m}/${g}`;return v&&(R=(0,t.str)`${R}${(0,r.getErrorPath)(v,r.Type.Str)}`),[d.schemaPath,R]}function w(g,{params:m,message:v},N){const{keyword:R,data:O,schemaValue:G,it:X}=g,{opts:le,propertyName:he,topSchemaRef:$e,schemaPath:z}=X;N.push([d.keyword,R],[d.params,typeof m=="function"?m(g):m||(0,t._)`{}`]),le.messages&&N.push([d.message,typeof v=="function"?v(g):v]),le.verbose&&N.push([d.schema,G],[d.parentSchema,(0,t._)`${$e}${z}`],[n.default.data,O]),he&&N.push([d.propertyName,he])}})(nn);Object.defineProperty(yr,"__esModule",{value:!0});yr.boolOrEmptySchema=yr.topBoolOrEmptySchema=void 0;const gd=nn,_d=W,vd=Fe,wd={message:"boolean schema is false"};function Ed(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Kc(e,!1):typeof r=="object"&&r.$async===!0?t.return(vd.default.data):(t.assign((0,_d._)`${n}.errors`,null),t.return(!0))}yr.topBoolOrEmptySchema=Ed;function bd(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Kc(e)):r.var(t,!0)}yr.boolOrEmptySchema=bd;function Kc(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,gd.reportError)(s,wd,void 0,t)}var ye={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.getRules=er.isJSONType=void 0;const Sd=["string","number","integer","boolean","null","object","array"],Pd=new Set(Sd);function Nd(e){return typeof e=="string"&&Pd.has(e)}er.isJSONType=Nd;function Rd(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}er.getRules=Rd;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.shouldUseRule=ut.shouldUseGroup=ut.schemaHasRulesForType=void 0;function Od({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Hc(e,n)}ut.schemaHasRulesForType=Od;function Hc(e,t){return t.rules.some(r=>Bc(e,r))}ut.shouldUseGroup=Hc;function Bc(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}ut.shouldUseRule=Bc;Object.defineProperty(ye,"__esModule",{value:!0});ye.reportTypeError=ye.checkDataTypes=ye.checkDataType=ye.coerceAndCheckDataType=ye.getJSONTypes=ye.getSchemaTypes=ye.DataType=void 0;const Id=er,Td=ut,jd=nn,Y=W,Jc=A;var hr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(hr||(ye.DataType=hr={}));function kd(e){const t=Xc(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ye.getSchemaTypes=kd;function Xc(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Id.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ye.getJSONTypes=Xc;function Ad(e,t){const{gen:r,data:n,opts:s}=e,a=Cd(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,Td.schemaHasRulesForType)(e,t[0]));if(o){const u=oa(t,n,s.strictNumbers,hr.Wrong);r.if(u,()=>{a.length?Dd(e,t,a):ia(e)})}return o}ye.coerceAndCheckDataType=Ad;const Wc=new Set(["string","number","integer","boolean","null"]);function Cd(e,t){return t?e.filter(r=>Wc.has(r)||t==="array"&&r==="array"):[]}function Dd(e,t,r){const{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,Y._)`typeof ${s}`),u=n.let("coerced",(0,Y._)`undefined`);a.coerceTypes==="array"&&n.if((0,Y._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,Y._)`${s}[0]`).assign(o,(0,Y._)`typeof ${s}`).if(oa(t,s,a.strictNumbers),()=>n.assign(u,s))),n.if((0,Y._)`${u} !== undefined`);for(const c of r)(Wc.has(c)||c==="array"&&a.coerceTypes==="array")&&l(c);n.else(),ia(e),n.endIf(),n.if((0,Y._)`${u} !== undefined`,()=>{n.assign(s,u),Md(e,u)});function l(c){switch(c){case"string":n.elseIf((0,Y._)`${o} == "number" || ${o} == "boolean"`).assign(u,(0,Y._)`"" + ${s}`).elseIf((0,Y._)`${s} === null`).assign(u,(0,Y._)`""`);return;case"number":n.elseIf((0,Y._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(u,(0,Y._)`+${s}`);return;case"integer":n.elseIf((0,Y._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,(0,Y._)`+${s}`);return;case"boolean":n.elseIf((0,Y._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf((0,Y._)`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf((0,Y._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf((0,Y._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(u,(0,Y._)`[${s}]`)}}}function Md({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,Y._)`${t} !== undefined`,()=>e.assign((0,Y._)`${t}[${r}]`,n))}function Fs(e,t,r,n=hr.Correct){const s=n===hr.Correct?Y.operators.EQ:Y.operators.NEQ;let a;switch(e){case"null":return(0,Y._)`${t} ${s} null`;case"array":a=(0,Y._)`Array.isArray(${t})`;break;case"object":a=(0,Y._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,Y._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,Y._)`typeof ${t} ${s} ${e}`}return n===hr.Correct?a:(0,Y.not)(a);function o(u=Y.nil){return(0,Y.and)((0,Y._)`typeof ${t} == "number"`,u,r?(0,Y._)`isFinite(${t})`:Y.nil)}}ye.checkDataType=Fs;function oa(e,t,r,n){if(e.length===1)return Fs(e[0],t,r,n);let s;const a=(0,Jc.toHash)(e);if(a.array&&a.object){const o=(0,Y._)`typeof ${t} != "object"`;s=a.null?o:(0,Y._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=Y.nil;a.number&&delete a.integer;for(const o in a)s=(0,Y.and)(s,Fs(o,t,r,n));return s}ye.checkDataTypes=oa;const Vd={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Y._)`{type: ${e}}`:(0,Y._)`{type: ${t}}`};function ia(e){const t=Ld(e);(0,jd.reportError)(t,Vd)}ye.reportTypeError=ia;function Ld(e){const{gen:t,data:r,schema:n}=e,s=(0,Jc.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.assignDefaults=void 0;const nr=W,Fd=A;function zd(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)ui(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>ui(e,a,s.default))}Qn.assignDefaults=zd;function ui(e,t,r){const{gen:n,compositeRule:s,data:a,opts:o}=e;if(r===void 0)return;const u=(0,nr._)`${a}${(0,nr.getProperty)(t)}`;if(s){(0,Fd.checkStrictMode)(e,`default is ignored for: ${u}`);return}let l=(0,nr._)`${u} === undefined`;o.useDefaults==="empty"&&(l=(0,nr._)`${l} || ${u} === null || ${u} === ""`),n.if(l,(0,nr._)`${u} = ${(0,nr.stringify)(r)}`)}var nt={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.validateUnion=ee.validateArray=ee.usePattern=ee.callValidateCode=ee.schemaProperties=ee.allSchemaProperties=ee.noPropertyInData=ee.propertyInData=ee.isOwnProperty=ee.hasPropFunc=ee.reportMissingProp=ee.checkMissingProp=ee.checkReportMissingProp=void 0;const ie=W,ca=A,_t=Fe,Ud=A;function qd(e,t){const{gen:r,data:n,it:s}=e;r.if(ua(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ie._)`${t}`},!0),e.error()})}ee.checkReportMissingProp=qd;function Gd({gen:e,data:t,it:{opts:r}},n,s){return(0,ie.or)(...n.map(a=>(0,ie.and)(ua(e,t,a,r.ownProperties),(0,ie._)`${s} = ${a}`)))}ee.checkMissingProp=Gd;function Kd(e,t){e.setParams({missingProperty:t},!0),e.error()}ee.reportMissingProp=Kd;function Yc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ie._)`Object.prototype.hasOwnProperty`})}ee.hasPropFunc=Yc;function la(e,t,r){return(0,ie._)`${Yc(e)}.call(${t}, ${r})`}ee.isOwnProperty=la;function Hd(e,t,r,n){const s=(0,ie._)`${t}${(0,ie.getProperty)(r)} !== undefined`;return n?(0,ie._)`${s} && ${la(e,t,r)}`:s}ee.propertyInData=Hd;function ua(e,t,r,n){const s=(0,ie._)`${t}${(0,ie.getProperty)(r)} === undefined`;return n?(0,ie.or)(s,(0,ie.not)(la(e,t,r))):s}ee.noPropertyInData=ua;function Qc(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ee.allSchemaProperties=Qc;function Bd(e,t){return Qc(t).filter(r=>!(0,ca.alwaysValidSchema)(e,t[r]))}ee.schemaProperties=Bd;function Jd({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},u,l,c){const d=c?(0,ie._)`${e}, ${t}, ${n}${s}`:t,h=[[_t.default.instancePath,(0,ie.strConcat)(_t.default.instancePath,a)],[_t.default.parentData,o.parentData],[_t.default.parentDataProperty,o.parentDataProperty],[_t.default.rootData,_t.default.rootData]];o.opts.dynamicRef&&h.push([_t.default.dynamicAnchors,_t.default.dynamicAnchors]);const b=(0,ie._)`${d}, ${r.object(...h)}`;return l!==ie.nil?(0,ie._)`${u}.call(${l}, ${b})`:(0,ie._)`${u}(${b})`}ee.callValidateCode=Jd;const Xd=(0,ie._)`new RegExp`;function Wd({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,ie._)`${s.code==="new RegExp"?Xd:(0,Ud.useFunc)(e,s)}(${r}, ${n})`})}ee.usePattern=Wd;function Yd(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return o(()=>t.assign(u,!1)),u}return t.var(a,!0),o(()=>t.break()),a;function o(u){const l=t.const("len",(0,ie._)`${r}.length`);t.forRange("i",0,l,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:ca.Type.Num},a),t.if((0,ie.not)(a),u)})}}ee.validateArray=Yd;function Qd(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,ca.alwaysValidSchema)(s,l))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((l,c)=>{const d=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},u);t.assign(o,(0,ie._)`${o} || ${u}`),e.mergeValidEvaluated(d,u)||t.if((0,ie.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ee.validateUnion=Qd;Object.defineProperty(nt,"__esModule",{value:!0});nt.validateKeywordUsage=nt.validSchemaType=nt.funcKeywordCode=nt.macroKeywordCode=void 0;const Ie=W,Bt=Fe,Zd=ee,xd=nn;function ef(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=e,u=t.macro.call(o.self,s,a,o),l=Zc(r,n,u);o.opts.validateSchema!==!1&&o.self.validateSchema(u,!0);const c=r.name("valid");e.subschema({schema:u,schemaPath:Ie.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}nt.macroKeywordCode=ef;function tf(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:o,$data:u,it:l}=e;nf(l,t);const c=!u&&t.compile?t.compile.call(l.self,a,o,l):t.validate,d=Zc(n,s,c),h=n.let("valid");e.block$data(h,b),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function b(){if(t.errors===!1)w(),t.modifying&&di(e),g(()=>e.error());else{const m=t.async?_():y();t.modifying&&di(e),g(()=>rf(e,m))}}function _(){const m=n.let("ruleErrs",null);return n.try(()=>w((0,Ie._)`await `),v=>n.assign(h,!1).if((0,Ie._)`${v} instanceof ${l.ValidationError}`,()=>n.assign(m,(0,Ie._)`${v}.errors`),()=>n.throw(v))),m}function y(){const m=(0,Ie._)`${d}.errors`;return n.assign(m,null),w(Ie.nil),m}function w(m=t.async?(0,Ie._)`await `:Ie.nil){const v=l.opts.passContext?Bt.default.this:Bt.default.self,N=!("compile"in t&&!u||t.schema===!1);n.assign(h,(0,Ie._)`${m}${(0,Zd.callValidateCode)(e,d,v,N)}`,t.modifying)}function g(m){var v;n.if((0,Ie.not)((v=t.valid)!==null&&v!==void 0?v:h),m)}}nt.funcKeywordCode=tf;function di(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ie._)`${n.parentData}[${n.parentDataProperty}]`))}function rf(e,t){const{gen:r}=e;r.if((0,Ie._)`Array.isArray(${t})`,()=>{r.assign(Bt.default.vErrors,(0,Ie._)`${Bt.default.vErrors} === null ? ${t} : ${Bt.default.vErrors}.concat(${t})`).assign(Bt.default.errors,(0,Ie._)`${Bt.default.vErrors}.length`),(0,xd.extendErrors)(e)},()=>e.error())}function nf({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Zc(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ie.stringify)(r)})}function sf(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}nt.validSchemaType=sf;function af({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const l=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}nt.validateKeywordUsage=af;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.extendSubschemaMode=Ot.extendSubschemaData=Ot.getSubschema=void 0;const tt=W,xc=A;function of(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,tt._)`${e.schemaPath}${(0,tt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,tt._)`${e.schemaPath}${(0,tt.getProperty)(t)}${(0,tt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,xc.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Ot.getSubschema=of;function cf(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:c,dataPathArr:d,opts:h}=t,b=u.let("data",(0,tt._)`${t.data}${(0,tt.getProperty)(r)}`,!0);l(b),e.errorPath=(0,tt.str)`${c}${(0,xc.getErrorPath)(r,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,tt._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){const c=s instanceof tt.Name?s:u.let("data",s,!0);l(c),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function l(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}Ot.extendSubschemaData=cf;function lf(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Ot.extendSubschemaMode=lf;var be={},Zn=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},el={exports:{}},Nt=el.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};On(t,n,s,e,"",e)};Nt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Nt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Nt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Nt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function On(e,t,r,n,s,a,o,u,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,u,l,c);for(var d in n){var h=n[d];if(Array.isArray(h)){if(d in Nt.arrayKeywords)for(var b=0;b<h.length;b++)On(e,t,r,h[b],s+"/"+d+"/"+b,a,s,d,n,b)}else if(d in Nt.propsKeywords){if(h&&typeof h=="object")for(var _ in h)On(e,t,r,h[_],s+"/"+d+"/"+uf(_),a,s,d,n,_)}else(d in Nt.keywords||e.allKeys&&!(d in Nt.skipKeywords))&&On(e,t,r,h,s+"/"+d,a,s,d,n)}r(n,s,a,o,u,l,c)}}function uf(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var df=el.exports;Object.defineProperty(be,"__esModule",{value:!0});be.getSchemaRefs=be.resolveUrl=be.normalizeId=be._getFullPath=be.getFullPath=be.inlineRef=void 0;const ff=A,hf=Zn,mf=df,pf=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function $f(e,t=!0){return typeof e=="boolean"?!0:t===!0?!zs(e):t?tl(e)<=t:!1}be.inlineRef=$f;const yf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function zs(e){for(const t in e){if(yf.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(zs)||typeof r=="object"&&zs(r))return!0}return!1}function tl(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!pf.has(r)&&(typeof e[r]=="object"&&(0,ff.eachItem)(e[r],n=>t+=tl(n)),t===1/0))return 1/0}return t}function rl(e,t="",r){r!==!1&&(t=mr(t));const n=e.parse(t);return nl(e,n)}be.getFullPath=rl;function nl(e,t){return e.serialize(t).split("#")[0]+"#"}be._getFullPath=nl;const gf=/#\/?$/;function mr(e){return e?e.replace(gf,""):""}be.normalizeId=mr;function _f(e,t,r){return r=mr(r),e.resolve(t,r)}be.resolveUrl=_f;const vf=/^[a-z_][-a-z0-9._]*$/i;function wf(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=mr(e[r]||t),a={"":s},o=rl(n,s,!1),u={},l=new Set;return mf(e,{allKeys:!0},(h,b,_,y)=>{if(y===void 0)return;const w=o+b;let g=a[y];typeof h[r]=="string"&&(g=m.call(this,h[r])),v.call(this,h.$anchor),v.call(this,h.$dynamicAnchor),a[b]=g;function m(N){const R=this.opts.uriResolver.resolve;if(N=mr(g?R(g,N):N),l.has(N))throw d(N);l.add(N);let O=this.refs[N];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?c(h,O.schema,N):N!==mr(w)&&(N[0]==="#"?(c(h,u[N],N),u[N]=h):this.refs[N]=w),N}function v(N){if(typeof N=="string"){if(!vf.test(N))throw new Error(`invalid anchor "${N}"`);m.call(this,`#${N}`)}}}),u;function c(h,b,_){if(b!==void 0&&!hf(h,b))throw d(_)}function d(h){return new Error(`reference "${h}" resolves to more than one schema`)}}be.getSchemaRefs=wf;Object.defineProperty(We,"__esModule",{value:!0});We.getData=We.KeywordCxt=We.validateFunctionCode=void 0;const sl=yr,fi=ye,da=ut,Fn=ye,Ef=Qn,Hr=nt,gs=Ot,U=W,B=Fe,bf=be,dt=A,Mr=nn;function Sf(e){if(il(e)&&(cl(e),ol(e))){Rf(e);return}al(e,()=>(0,sl.topBoolOrEmptySchema)(e))}We.validateFunctionCode=Sf;function al({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,U._)`${B.default.data}, ${B.default.valCxt}`,n.$async,()=>{e.code((0,U._)`"use strict"; ${hi(r,s)}`),Nf(e,s),e.code(a)}):e.func(t,(0,U._)`${B.default.data}, ${Pf(s)}`,n.$async,()=>e.code(hi(r,s)).code(a))}function Pf(e){return(0,U._)`{${B.default.instancePath}="", ${B.default.parentData}, ${B.default.parentDataProperty}, ${B.default.rootData}=${B.default.data}${e.dynamicRef?(0,U._)`, ${B.default.dynamicAnchors}={}`:U.nil}}={}`}function Nf(e,t){e.if(B.default.valCxt,()=>{e.var(B.default.instancePath,(0,U._)`${B.default.valCxt}.${B.default.instancePath}`),e.var(B.default.parentData,(0,U._)`${B.default.valCxt}.${B.default.parentData}`),e.var(B.default.parentDataProperty,(0,U._)`${B.default.valCxt}.${B.default.parentDataProperty}`),e.var(B.default.rootData,(0,U._)`${B.default.valCxt}.${B.default.rootData}`),t.dynamicRef&&e.var(B.default.dynamicAnchors,(0,U._)`${B.default.valCxt}.${B.default.dynamicAnchors}`)},()=>{e.var(B.default.instancePath,(0,U._)`""`),e.var(B.default.parentData,(0,U._)`undefined`),e.var(B.default.parentDataProperty,(0,U._)`undefined`),e.var(B.default.rootData,B.default.data),t.dynamicRef&&e.var(B.default.dynamicAnchors,(0,U._)`{}`)})}function Rf(e){const{schema:t,opts:r,gen:n}=e;al(e,()=>{r.$comment&&t.$comment&&ul(e),kf(e),n.let(B.default.vErrors,null),n.let(B.default.errors,0),r.unevaluated&&Of(e),ll(e),Df(e)})}function Of(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,U._)`${r}.evaluated`),t.if((0,U._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,U._)`${e.evaluated}.props`,(0,U._)`undefined`)),t.if((0,U._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,U._)`${e.evaluated}.items`,(0,U._)`undefined`))}function hi(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,U._)`/*# sourceURL=${r} */`:U.nil}function If(e,t){if(il(e)&&(cl(e),ol(e))){Tf(e,t);return}(0,sl.boolOrEmptySchema)(e,t)}function ol({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function il(e){return typeof e.schema!="boolean"}function Tf(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&ul(e),Af(e),Cf(e);const a=n.const("_errs",B.default.errors);ll(e,a),n.var(t,(0,U._)`${a} === ${B.default.errors}`)}function cl(e){(0,dt.checkUnknownRules)(e),jf(e)}function ll(e,t){if(e.opts.jtd)return mi(e,[],!1,t);const r=(0,fi.getSchemaTypes)(e.schema),n=(0,fi.coerceAndCheckDataType)(e,r);mi(e,r,!n,t)}function jf(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,dt.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function kf(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,dt.checkStrictMode)(e,"default is ignored in the schema root")}function Af(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,bf.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Cf(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ul({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,U._)`${B.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const o=(0,U.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,U._)`${B.default.self}.opts.$comment(${a}, ${o}, ${u}.schema)`)}}function Df(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,U._)`${B.default.errors} === 0`,()=>t.return(B.default.data),()=>t.throw((0,U._)`new ${s}(${B.default.vErrors})`)):(t.assign((0,U._)`${n}.errors`,B.default.vErrors),a.unevaluated&&Mf(e),t.return((0,U._)`${B.default.errors} === 0`))}function Mf({gen:e,evaluated:t,props:r,items:n}){r instanceof U.Name&&e.assign((0,U._)`${t}.props`,r),n instanceof U.Name&&e.assign((0,U._)`${t}.items`,n)}function mi(e,t,r,n){const{gen:s,schema:a,data:o,allErrors:u,opts:l,self:c}=e,{RULES:d}=c;if(a.$ref&&(l.ignoreKeywordsWithRef||!(0,dt.schemaHasRulesButRef)(a,d))){s.block(()=>hl(e,"$ref",d.all.$ref.definition));return}l.jtd||Vf(e,t),s.block(()=>{for(const b of d.rules)h(b);h(d.post)});function h(b){(0,da.shouldUseGroup)(a,b)&&(b.type?(s.if((0,Fn.checkDataType)(b.type,o,l.strictNumbers)),pi(e,b),t.length===1&&t[0]===b.type&&r&&(s.else(),(0,Fn.reportTypeError)(e)),s.endIf()):pi(e,b),u||s.if((0,U._)`${B.default.errors} === ${n||0}`))}}function pi(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Ef.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,da.shouldUseRule)(n,a)&&hl(e,a.keyword,a.definition,t.type)})}function Vf(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Lf(e,t),e.opts.allowUnionTypes||Ff(e,t),zf(e,e.dataTypes))}function Lf(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{dl(e.dataTypes,r)||fa(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),qf(e,t)}}function Ff(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&fa(e,"use allowUnionTypes to allow union type keyword")}function zf(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,da.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(o=>Uf(t,o))&&fa(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function Uf(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function dl(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function qf(e,t){const r=[];for(const n of e.dataTypes)dl(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function fa(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,dt.checkStrictMode)(e,t,e.opts.strictTypes)}let fl=class{constructor(t,r,n){if((0,Hr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,dt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ml(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Hr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",B.default.errors))}result(t,r,n){this.failResult((0,U.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,U.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,U._)`${r} !== undefined && (${(0,U.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Mr.reportExtraError:Mr.reportError)(this,this.def.error,r)}$dataError(){(0,Mr.reportError)(this,this.def.$dataError||Mr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Mr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=U.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=U.nil,r=U.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,U.or)((0,U._)`${s} === undefined`,r)),t!==U.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==U.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,U.or)(o(),u());function o(){if(n.length){if(!(r instanceof U.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,U._)`${(0,Fn.checkDataTypes)(l,r,a.opts.strictNumbers,Fn.DataType.Wrong)}`}return U.nil}function u(){if(s.validateSchema){const l=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,U._)`!${l}(${r})`}return U.nil}}subschema(t,r){const n=(0,gs.getSubschema)(this.it,t);(0,gs.extendSubschemaData)(n,this.it,t),(0,gs.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return If(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=dt.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=dt.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,U.Name)),!0}};We.KeywordCxt=fl;function hl(e,t,r,n){const s=new fl(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Hr.funcKeywordCode)(s,r):"macro"in r?(0,Hr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Hr.funcKeywordCode)(s,r)}const Gf=/^\/(?:[^~]|~0|~1)*$/,Kf=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ml(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return B.default.rootData;if(e[0]==="/"){if(!Gf.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=B.default.rootData}else{const c=Kf.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+c[1];if(s=c[2],s==="#"){if(d>=t)throw new Error(l("property/index",d));return n[t-d]}if(d>t)throw new Error(l("data",d));if(a=r[t-d],!s)return a}let o=a;const u=s.split("/");for(const c of u)c&&(a=(0,U._)`${a}${(0,U.getProperty)((0,dt.unescapeJsonPointer)(c))}`,o=(0,U._)`${o} && ${a}`);return o;function l(c,d){return`Cannot access ${c} ${d} levels up, current level is ${t}`}}We.getData=ml;var sn={};Object.defineProperty(sn,"__esModule",{value:!0});let Hf=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};sn.default=Hf;var wr={};Object.defineProperty(wr,"__esModule",{value:!0});const _s=be;let Bf=class extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,_s.resolveUrl)(t,r,n),this.missingSchema=(0,_s.normalizeId)((0,_s.getFullPath)(t,this.missingRef))}};wr.default=Bf;var je={};Object.defineProperty(je,"__esModule",{value:!0});je.resolveSchema=je.getCompilingSchema=je.resolveRef=je.compileSchema=je.SchemaEnv=void 0;const Ge=W,Jf=sn,Kt=Fe,Je=be,$i=A,Xf=We;let xn=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Je.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};je.SchemaEnv=xn;function ha(e){const t=pl.call(this,e);if(t)return t;const r=(0,Je.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Ge.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=o.scopeValue("Error",{ref:Jf.default,code:(0,Ge._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const c={gen:o,allErrors:this.opts.allErrors,data:Kt.default.data,parentData:Kt.default.parentData,parentDataProperty:Kt.default.parentDataProperty,dataNames:[Kt.default.data],dataPathArr:[Ge.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ge.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ge.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ge._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,Xf.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);const h=o.toString();d=`${o.scopeRefs(Kt.default.scope)}return ${h}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const _=new Function(`${Kt.default.self}`,`${Kt.default.scope}`,d)(this,this.scope.get());if(this.scope.value(l,{ref:_}),_.errors=null,_.schema=e.schema,_.schemaEnv=e,e.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:l,validateCode:h,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:w}=c;_.evaluated={props:y instanceof Ge.Name?void 0:y,items:w instanceof Ge.Name?void 0:w,dynamicProps:y instanceof Ge.Name,dynamicItems:w instanceof Ge.Name},_.source&&(_.source.evaluated=(0,Ge.stringify)(_.evaluated))}return e.validate=_,e}catch(h){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),h}finally{this._compilations.delete(e)}}je.compileSchema=ha;function Wf(e,t,r){var n;r=(0,Je.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=Zf.call(this,e,r);if(a===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;o&&(a=new xn({schema:o,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=Yf.call(this,a)}je.resolveRef=Wf;function Yf(e){return(0,Je.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:ha.call(this,e)}function pl(e){for(const t of this._compilations)if(Qf(t,e))return t}je.getCompilingSchema=pl;function Qf(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Zf(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||es.call(this,e,t)}function es(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Je._getFullPath)(this.opts.uriResolver,r);let s=(0,Je.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return vs.call(this,r,e);const a=(0,Je.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const u=es.call(this,e,o);return typeof(u==null?void 0:u.schema)!="object"?void 0:vs.call(this,r,u)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||ha.call(this,o),a===(0,Je.normalizeId)(t)){const{schema:u}=o,{schemaId:l}=this.opts,c=u[l];return c&&(s=(0,Je.resolveUrl)(this.opts.uriResolver,s,c)),new xn({schema:u,schemaId:l,root:e,baseId:s})}return vs.call(this,r,o)}}je.resolveSchema=es;const xf=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function vs(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,$i.unescapeFragment)(u)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!xf.has(u)&&c&&(t=(0,Je.resolveUrl)(this.opts.uriResolver,t,c))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,$i.schemaHasRulesButRef)(r,this.RULES)){const u=(0,Je.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=es.call(this,n,u)}const{schemaId:o}=this.opts;if(a=a||new xn({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}const eh="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",th="Meta-schema for $data reference (JSON AnySchema extension proposal)",rh="object",nh=["$data"],sh={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ah=!1,oh={$id:eh,description:th,type:rh,required:nh,properties:sh,additionalProperties:ah};var ma={},ts={exports:{}};const ih={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var ch={HEX:ih};const{HEX:lh}=ch;function $l(e){if(gl(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=t;return r?{host:dh(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function Us(e,t=!1){let r="",n=!0;for(const s of e){if(lh[s]===void 0)return;s!=="0"&&n===!0&&(n=!1),n||(r+=s)}return t&&r.length===0&&(r="0"),r}function uh(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let a=!1,o=!1,u=!1;function l(){if(s.length){if(a===!1){const c=Us(s);if(c!==void 0)n.push(c);else return r.error=!0,!1}s.length=0}return!0}for(let c=0;c<e.length;c++){const d=e[c];if(!(d==="["||d==="]"))if(d===":"){if(o===!0&&(u=!0),!l())break;if(t++,n.push(":"),t>7){r.error=!0;break}c-1>=0&&e[c-1]===":"&&(o=!0);continue}else if(d==="%"){if(!l())break;a=!0}else{s.push(d);continue}}return s.length&&(a?r.zone=s.join(""):u?n.push(s.join("")):n.push(Us(s))),r.address=n.join(""),r}function yl(e,t={}){if(gl(e,":")<2)return{host:e,isIPV6:!1};const r=uh(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,s=r.address;return r.zone&&(n+="%"+r.zone,s+="%25"+r.zone),{host:n,escapedHost:s,isIPV6:!0}}}function dh(e,t){let r="",n=!0;const s=e.length;for(let a=0;a<s;a++){const o=e[a];o==="0"&&n?(a+1<=s&&e[a+1]===t||a+1===s)&&(r+=o,n=!1):(o===t?n=!0:n=!1,r+=o)}return r}function gl(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const yi=/^\.\.?\//u,gi=/^\/\.(?:\/|$)/u,_i=/^\/\.\.(?:\/|$)/u,fh=/^\/?(?:.|\n)*?(?=\/|$)/u;function hh(e){const t=[];for(;e.length;)if(e.match(yi))e=e.replace(yi,"");else if(e.match(gi))e=e.replace(gi,"/");else if(e.match(_i))e=e.replace(_i,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(fh);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function mh(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function ph(e,t){const r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host);const s=$l(n);if(s.isIPV4)n=s.host;else{const a=yl(s.host,{isIPV4:!1});a.isIPV6===!0?n=`[${a.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var $h={recomposeAuthority:ph,normalizeComponentEncoding:mh,removeDotSegments:hh,normalizeIPv4:$l,normalizeIPv6:yl,stringArrayToHexStripped:Us};const yh=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,gh=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function _l(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function vl(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function wl(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function _h(e){return e.secure=_l(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function vh(e){if((e.port===(_l(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function wh(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(gh);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const s=`${n}:${t.nid||e.nid}`,a=pa[s];e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Eh(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=pa[s];a&&(e=a.serialize(e,t));const o=e,u=e.nss;return o.path=`${n||t.nid}:${u}`,t.skipEscape=!0,o}function bh(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!yh.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Sh(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const El={scheme:"http",domainHost:!0,parse:vl,serialize:wl},Ph={scheme:"https",domainHost:El.domainHost,parse:vl,serialize:wl},In={scheme:"ws",domainHost:!0,parse:_h,serialize:vh},Nh={scheme:"wss",domainHost:In.domainHost,parse:In.parse,serialize:In.serialize},Rh={scheme:"urn",parse:wh,serialize:Eh,skipNormalize:!0},Oh={scheme:"urn:uuid",parse:bh,serialize:Sh,skipNormalize:!0},pa={http:El,https:Ph,ws:In,wss:Nh,urn:Rh,"urn:uuid":Oh};var Ih=pa;const{normalizeIPv6:Th,normalizeIPv4:jh,removeDotSegments:qr,recomposeAuthority:kh,normalizeComponentEncoding:dn}=$h,$a=Ih;function Ah(e,t){return typeof e=="string"?e=st(mt(e,t),t):typeof e=="object"&&(e=mt(st(e,t),t)),e}function Ch(e,t,r){const n=Object.assign({scheme:"null"},r),s=bl(mt(e,n),mt(t,n),n,!0);return st(s,{...n,skipEscape:!0})}function bl(e,t,r,n){const s={};return n||(e=mt(st(e,r),r),t=mt(st(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=qr(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=qr(t.path||""),s.query=t.query):(t.path?(t.path.charAt(0)==="/"?s.path=qr(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=qr(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function Dh(e,t,r){return typeof e=="string"?(e=unescape(e),e=st(dn(mt(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=st(dn(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=st(dn(mt(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=st(dn(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function st(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=$a[(n.scheme||r.scheme||"").toLowerCase()];a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");const o=kh(r,n);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path.charAt(0)!=="/"&&s.push("/")),r.path!==void 0){let u=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(u=qr(u)),o===void 0&&(u=u.replace(/^\/\//u,"/%2F")),s.push(u)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}const Mh=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function Vh(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||Mh[t])return!0;return!1}const Lh=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function mt(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=e.indexOf("%")!==-1;let a=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const o=e.match(Lh);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host){const l=jh(n.host);if(l.isIPV4===!1){const c=Th(l.host,{isIPV4:!1});n.host=c.host.toLowerCase(),a=c.isIPV6}else n.host=l.host,a=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const u=$a[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!u||!u.unicodeSupport)&&n.host&&(r.domainHost||u&&u.domainHost)&&a===!1&&Vh(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!u||u&&!u.skipNormalize)&&(s&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),s&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),u&&u.parse&&u.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const ya={SCHEMES:$a,normalize:Ah,resolve:Ch,resolveComponents:bl,equal:Dh,serialize:st,parse:mt};ts.exports=ya;ts.exports.default=ya;ts.exports.fastUri=ya;var Sl=ts.exports;Object.defineProperty(ma,"__esModule",{value:!0});const Pl=Sl;Pl.code='require("ajv/dist/runtime/uri").default';ma.default=Pl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=We;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=W;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=sn,s=wr,a=er,o=je,u=W,l=be,c=ye,d=A,h=oh,b=ma,_=(P,p)=>new RegExp(P,p);_.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function N(P){var p,S,$,i,f,E,I,j,F,L,re,Me,Tt,jt,kt,At,Ct,Dt,Mt,Vt,Lt,Ft,zt,Ut,qt;const qe=P.strict,Gt=(p=P.code)===null||p===void 0?void 0:p.optimize,Tr=Gt===!0||Gt===void 0?1:Gt||0,jr=($=(S=P.code)===null||S===void 0?void 0:S.regExp)!==null&&$!==void 0?$:_,ps=(i=P.uriResolver)!==null&&i!==void 0?i:b.default;return{strictSchema:(E=(f=P.strictSchema)!==null&&f!==void 0?f:qe)!==null&&E!==void 0?E:!0,strictNumbers:(j=(I=P.strictNumbers)!==null&&I!==void 0?I:qe)!==null&&j!==void 0?j:!0,strictTypes:(L=(F=P.strictTypes)!==null&&F!==void 0?F:qe)!==null&&L!==void 0?L:"log",strictTuples:(Me=(re=P.strictTuples)!==null&&re!==void 0?re:qe)!==null&&Me!==void 0?Me:"log",strictRequired:(jt=(Tt=P.strictRequired)!==null&&Tt!==void 0?Tt:qe)!==null&&jt!==void 0?jt:!1,code:P.code?{...P.code,optimize:Tr,regExp:jr}:{optimize:Tr,regExp:jr},loopRequired:(kt=P.loopRequired)!==null&&kt!==void 0?kt:v,loopEnum:(At=P.loopEnum)!==null&&At!==void 0?At:v,meta:(Ct=P.meta)!==null&&Ct!==void 0?Ct:!0,messages:(Dt=P.messages)!==null&&Dt!==void 0?Dt:!0,inlineRefs:(Mt=P.inlineRefs)!==null&&Mt!==void 0?Mt:!0,schemaId:(Vt=P.schemaId)!==null&&Vt!==void 0?Vt:"$id",addUsedSchema:(Lt=P.addUsedSchema)!==null&&Lt!==void 0?Lt:!0,validateSchema:(Ft=P.validateSchema)!==null&&Ft!==void 0?Ft:!0,validateFormats:(zt=P.validateFormats)!==null&&zt!==void 0?zt:!0,unicodeRegExp:(Ut=P.unicodeRegExp)!==null&&Ut!==void 0?Ut:!0,int32range:(qt=P.int32range)!==null&&qt!==void 0?qt:!0,uriResolver:ps}}class R{constructor(p={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,p=this.opts={...p,...N(p)};const{es5:S,lines:$}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:w,es5:S,lines:$}),this.logger=H(p.logger);const i=p.validateFormats;p.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,g,p,"NOT SUPPORTED"),O.call(this,m,p,"DEPRECATED","warn"),this._metaOpts=$e.call(this),p.formats&&le.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),p.keywords&&he.call(this,p.keywords),typeof p.meta=="object"&&this.addMetaSchema(p.meta),X.call(this),p.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:p,meta:S,schemaId:$}=this.opts;let i=h;$==="id"&&(i={...h},i.id=i.$id,delete i.$id),S&&p&&this.addMetaSchema(i,i[$],!1)}defaultMeta(){const{meta:p,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof p=="object"?p[S]||p:void 0}validate(p,S){let $;if(typeof p=="string"){if($=this.getSchema(p),!$)throw new Error(`no schema with key or ref "${p}"`)}else $=this.compile(p);const i=$(S);return"$async"in $||(this.errors=$.errors),i}compile(p,S){const $=this._addSchema(p,S);return $.validate||this._compileSchemaEnv($)}compileAsync(p,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return i.call(this,p,S);async function i(L,re){await f.call(this,L.$schema);const Me=this._addSchema(L,re);return Me.validate||E.call(this,Me)}async function f(L){L&&!this.getSchema(L)&&await i.call(this,{$ref:L},!0)}async function E(L){try{return this._compileSchemaEnv(L)}catch(re){if(!(re instanceof s.default))throw re;return I.call(this,re),await j.call(this,re.missingSchema),E.call(this,L)}}function I({missingSchema:L,missingRef:re}){if(this.refs[L])throw new Error(`AnySchema ${L} is loaded but ${re} cannot be resolved`)}async function j(L){const re=await F.call(this,L);this.refs[L]||await f.call(this,re.$schema),this.refs[L]||this.addSchema(re,L,S)}async function F(L){const re=this._loading[L];if(re)return re;try{return await(this._loading[L]=$(L))}finally{delete this._loading[L]}}}addSchema(p,S,$,i=this.opts.validateSchema){if(Array.isArray(p)){for(const E of p)this.addSchema(E,void 0,$,i);return this}let f;if(typeof p=="object"){const{schemaId:E}=this.opts;if(f=p[E],f!==void 0&&typeof f!="string")throw new Error(`schema ${E} must be string`)}return S=(0,l.normalizeId)(S||f),this._checkUnique(S),this.schemas[S]=this._addSchema(p,$,S,i,!0),this}addMetaSchema(p,S,$=this.opts.validateSchema){return this.addSchema(p,S,!0,$),this}validateSchema(p,S){if(typeof p=="boolean")return!0;let $;if($=p.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate($,p);if(!i&&S){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return i}getSchema(p){let S;for(;typeof(S=G.call(this,p))=="string";)p=S;if(S===void 0){const{schemaId:$}=this.opts,i=new o.SchemaEnv({schema:{},schemaId:$});if(S=o.resolveSchema.call(this,i,p),!S)return;this.refs[p]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(p){if(p instanceof RegExp)return this._removeAllSchemas(this.schemas,p),this._removeAllSchemas(this.refs,p),this;switch(typeof p){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=G.call(this,p);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[p],delete this.refs[p],this}case"object":{const S=p;this._cache.delete(S);let $=p[this.opts.schemaId];return $&&($=(0,l.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(p){for(const S of p)this.addKeyword(S);return this}addKeyword(p,S){let $;if(typeof p=="string")$=p,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=$);else if(typeof p=="object"&&S===void 0){if(S=p,$=S.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(T.call(this,$,S),!S)return(0,d.eachItem)($,f=>k.call(this,f)),this;D.call(this,S);const i={...S,type:(0,c.getJSONTypes)(S.type),schemaType:(0,c.getJSONTypes)(S.schemaType)};return(0,d.eachItem)($,i.type.length===0?f=>k.call(this,f,i):f=>i.type.forEach(E=>k.call(this,f,i,E))),this}getKeyword(p){const S=this.RULES.all[p];return typeof S=="object"?S.definition:!!S}removeKeyword(p){const{RULES:S}=this;delete S.keywords[p],delete S.all[p];for(const $ of S.rules){const i=$.rules.findIndex(f=>f.keyword===p);i>=0&&$.rules.splice(i,1)}return this}addFormat(p,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[p]=S,this}errorsText(p=this.errors,{separator:S=", ",dataVar:$="data"}={}){return!p||p.length===0?"No errors":p.map(i=>`${$}${i.instancePath} ${i.message}`).reduce((i,f)=>i+S+f)}$dataMetaSchema(p,S){const $=this.RULES.all;p=JSON.parse(JSON.stringify(p));for(const i of S){const f=i.split("/").slice(1);let E=p;for(const I of f)E=E[I];for(const I in $){const j=$[I];if(typeof j!="object")continue;const{$data:F}=j.definition,L=E[I];F&&L&&(E[I]=M(L))}}return p}_removeAllSchemas(p,S){for(const $ in p){const i=p[$];(!S||S.test($))&&(typeof i=="string"?delete p[$]:i&&!i.meta&&(this._cache.delete(i.schema),delete p[$]))}}_addSchema(p,S,$,i=this.opts.validateSchema,f=this.opts.addUsedSchema){let E;const{schemaId:I}=this.opts;if(typeof p=="object")E=p[I];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof p!="boolean")throw new Error("schema must be object or boolean")}let j=this._cache.get(p);if(j!==void 0)return j;$=(0,l.normalizeId)(E||$);const F=l.getSchemaRefs.call(this,p,$);return j=new o.SchemaEnv({schema:p,schemaId:I,meta:S,baseId:$,localRefs:F}),this._cache.set(j.schema,j),f&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=j),i&&this.validateSchema(p,!0),j}_checkUnique(p){if(this.schemas[p]||this.refs[p])throw new Error(`schema with key or id "${p}" already exists`)}_compileSchemaEnv(p){if(p.meta?this._compileMetaSchema(p):o.compileSchema.call(this,p),!p.validate)throw new Error("ajv implementation error");return p.validate}_compileMetaSchema(p){const S=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,p)}finally{this.opts=S}}}R.ValidationError=n.default,R.MissingRefError=s.default,e.default=R;function O(P,p,S,$="error"){for(const i in P){const f=i;f in p&&this.logger[$](`${S}: option ${i}. ${P[f]}`)}}function G(P){return P=(0,l.normalizeId)(P),this.schemas[P]||this.refs[P]}function X(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const p in P)this.addSchema(P[p],p)}function le(){for(const P in this.opts.formats){const p=this.opts.formats[P];p&&this.addFormat(P,p)}}function he(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const p in P){const S=P[p];S.keyword||(S.keyword=p),this.addKeyword(S)}}function $e(){const P={...this.opts};for(const p of y)delete P[p];return P}const z={log(){},warn(){},error(){}};function H(P){if(P===!1)return z;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const ne=/^[a-z_$][a-z0-9_$:-]*$/i;function T(P,p){const{RULES:S}=this;if((0,d.eachItem)(P,$=>{if(S.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!ne.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!p&&p.$data&&!("code"in p||"validate"in p))throw new Error('$data keyword must have "code" or "validate" function')}function k(P,p,S){var $;const i=p==null?void 0:p.post;if(S&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let E=i?f.post:f.rules.find(({type:j})=>j===S);if(E||(E={type:S,rules:[]},f.rules.push(E)),f.keywords[P]=!0,!p)return;const I={keyword:P,definition:{...p,type:(0,c.getJSONTypes)(p.type),schemaType:(0,c.getJSONTypes)(p.schemaType)}};p.before?V.call(this,E,I,p.before):E.rules.push(I),f.all[P]=I,($=p.implements)===null||$===void 0||$.forEach(j=>this.addKeyword(j))}function V(P,p,S){const $=P.rules.findIndex(i=>i.keyword===S);$>=0?P.rules.splice($,0,p):(P.rules.push(p),this.logger.warn(`rule ${S} is not defined`))}function D(P){let{metaSchema:p}=P;p!==void 0&&(P.$data&&this.opts.$data&&(p=M(p)),P.validateSchema=this.compile(p,!0))}const K={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(P){return{anyOf:[P,K]}}})(Lc);var ga={},_a={},va={};Object.defineProperty(va,"__esModule",{value:!0});const Fh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};va.default=Fh;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.callRef=pt.getValidate=void 0;const zh=wr,vi=ee,Ae=W,sr=Fe,wi=je,fn=A,Uh={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:u,self:l}=n,{root:c}=a;if((r==="#"||r==="#/")&&s===c.baseId)return h();const d=wi.resolveRef.call(l,c,s,r);if(d===void 0)throw new zh.default(n.opts.uriResolver,s,r);if(d instanceof wi.SchemaEnv)return b(d);return _(d);function h(){if(a===c)return Tn(e,o,a,a.$async);const y=t.scopeValue("root",{ref:c});return Tn(e,(0,Ae._)`${y}.validate`,c,c.$async)}function b(y){const w=Nl(e,y);Tn(e,w,y,y.$async)}function _(y){const w=t.scopeValue("schema",u.code.source===!0?{ref:y,code:(0,Ae.stringify)(y)}:{ref:y}),g=t.name("valid"),m=e.subschema({schema:y,dataTypes:[],schemaPath:Ae.nil,topSchemaRef:w,errSchemaPath:r},g);e.mergeEvaluated(m),e.ok(g)}}};function Nl(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ae._)`${r.scopeValue("wrapper",{ref:t})}.validate`}pt.getValidate=Nl;function Tn(e,t,r,n){const{gen:s,it:a}=e,{allErrors:o,schemaEnv:u,opts:l}=a,c=l.passContext?sr.default.this:Ae.nil;n?d():h();function d(){if(!u.$async)throw new Error("async schema referenced by sync schema");const y=s.let("valid");s.try(()=>{s.code((0,Ae._)`await ${(0,vi.callValidateCode)(e,t,c)}`),_(t),o||s.assign(y,!0)},w=>{s.if((0,Ae._)`!(${w} instanceof ${a.ValidationError})`,()=>s.throw(w)),b(w),o||s.assign(y,!1)}),e.ok(y)}function h(){e.result((0,vi.callValidateCode)(e,t,c),()=>_(t),()=>b(t))}function b(y){const w=(0,Ae._)`${y}.errors`;s.assign(sr.default.vErrors,(0,Ae._)`${sr.default.vErrors} === null ? ${w} : ${sr.default.vErrors}.concat(${w})`),s.assign(sr.default.errors,(0,Ae._)`${sr.default.vErrors}.length`)}function _(y){var w;if(!a.opts.unevaluated)return;const g=(w=r==null?void 0:r.validate)===null||w===void 0?void 0:w.evaluated;if(a.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(a.props=fn.mergeEvaluated.props(s,g.props,a.props));else{const m=s.var("props",(0,Ae._)`${y}.evaluated.props`);a.props=fn.mergeEvaluated.props(s,m,a.props,Ae.Name)}if(a.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(a.items=fn.mergeEvaluated.items(s,g.items,a.items));else{const m=s.var("items",(0,Ae._)`${y}.evaluated.items`);a.items=fn.mergeEvaluated.items(s,m,a.items,Ae.Name)}}}pt.callRef=Tn;pt.default=Uh;Object.defineProperty(_a,"__esModule",{value:!0});const qh=va,Gh=pt,Kh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",qh.default,Gh.default];_a.default=Kh;var wa={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});const zn=W,vt=zn.operators,Un={maximum:{okStr:"<=",ok:vt.LTE,fail:vt.GT},minimum:{okStr:">=",ok:vt.GTE,fail:vt.LT},exclusiveMaximum:{okStr:"<",ok:vt.LT,fail:vt.GTE},exclusiveMinimum:{okStr:">",ok:vt.GT,fail:vt.LTE}},Hh={message:({keyword:e,schemaCode:t})=>(0,zn.str)`must be ${Un[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,zn._)`{comparison: ${Un[e].okStr}, limit: ${t}}`},Bh={keyword:Object.keys(Un),type:"number",schemaType:"number",$data:!0,error:Hh,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,zn._)`${r} ${Un[t].fail} ${n} || isNaN(${r})`)}};Ea.default=Bh;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});const Br=W,Jh={message:({schemaCode:e})=>(0,Br.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Br._)`{multipleOf: ${e}}`},Xh={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Jh,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),u=a?(0,Br._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,Br._)`${o} !== parseInt(${o})`;e.fail$data((0,Br._)`(${n} === 0 || (${o} = ${r}/${n}, ${u}))`)}};ba.default=Xh;var Sa={},Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});function Rl(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Pa.default=Rl;Rl.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Sa,"__esModule",{value:!0});const Jt=W,Wh=A,Yh=Pa,Qh={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Jt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Jt._)`{limit: ${e}}`},Zh={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Qh,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Jt.operators.GT:Jt.operators.LT,o=s.opts.unicode===!1?(0,Jt._)`${r}.length`:(0,Jt._)`${(0,Wh.useFunc)(e.gen,Yh.default)}(${r})`;e.fail$data((0,Jt._)`${o} ${a} ${n}`)}};Sa.default=Zh;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});const xh=ee,qn=W,em={message:({schemaCode:e})=>(0,qn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,qn._)`{pattern: ${e}}`},tm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:em,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",u=r?(0,qn._)`(new RegExp(${s}, ${o}))`:(0,xh.usePattern)(e,n);e.fail$data((0,qn._)`!${u}.test(${t})`)}};Na.default=tm;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});const Jr=W,rm={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Jr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Jr._)`{limit: ${e}}`},nm={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:rm,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Jr.operators.GT:Jr.operators.LT;e.fail$data((0,Jr._)`Object.keys(${r}).length ${s} ${n}`)}};Ra.default=nm;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});const Vr=ee,Xr=W,sm=A,am={message:({params:{missingProperty:e}})=>(0,Xr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Xr._)`{missingProperty: ${e}}`},om={keyword:"required",type:"object",schemaType:"array",$data:!0,error:am,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:u}=o;if(!a&&r.length===0)return;const l=r.length>=u.loopRequired;if(o.allErrors?c():d(),u.strictRequired){const _=e.parentSchema.properties,{definedProperties:y}=e.it;for(const w of r)if((_==null?void 0:_[w])===void 0&&!y.has(w)){const g=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${w}" is not defined at "${g}" (strictRequired)`;(0,sm.checkStrictMode)(o,m,o.opts.strictRequired)}}function c(){if(l||a)e.block$data(Xr.nil,h);else for(const _ of r)(0,Vr.checkReportMissingProp)(e,_)}function d(){const _=t.let("missing");if(l||a){const y=t.let("valid",!0);e.block$data(y,()=>b(_,y)),e.ok(y)}else t.if((0,Vr.checkMissingProp)(e,r,_)),(0,Vr.reportMissingProp)(e,_),t.else()}function h(){t.forOf("prop",n,_=>{e.setParams({missingProperty:_}),t.if((0,Vr.noPropertyInData)(t,s,_,u.ownProperties),()=>e.error())})}function b(_,y){e.setParams({missingProperty:_}),t.forOf(_,n,()=>{t.assign(y,(0,Vr.propertyInData)(t,s,_,u.ownProperties)),t.if((0,Xr.not)(y),()=>{e.error(),t.break()})},Xr.nil)}}};Oa.default=om;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});const Wr=W,im={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Wr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Wr._)`{limit: ${e}}`},cm={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:im,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?Wr.operators.GT:Wr.operators.LT;e.fail$data((0,Wr._)`${r}.length ${s} ${n}`)}};Ia.default=cm;var Ta={},an={};Object.defineProperty(an,"__esModule",{value:!0});const Ol=Zn;Ol.code='require("ajv/dist/runtime/equal").default';an.default=Ol;Object.defineProperty(Ta,"__esModule",{value:!0});const ws=ye,we=W,lm=A,um=an,dm={message:({params:{i:e,j:t}})=>(0,we.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,we._)`{i: ${e}, j: ${t}}`},fm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:dm,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:u}=e;if(!n&&!s)return;const l=t.let("valid"),c=a.items?(0,ws.getSchemaTypes)(a.items):[];e.block$data(l,d,(0,we._)`${o} === false`),e.ok(l);function d(){const y=t.let("i",(0,we._)`${r}.length`),w=t.let("j");e.setParams({i:y,j:w}),t.assign(l,!0),t.if((0,we._)`${y} > 1`,()=>(h()?b:_)(y,w))}function h(){return c.length>0&&!c.some(y=>y==="object"||y==="array")}function b(y,w){const g=t.name("item"),m=(0,ws.checkDataTypes)(c,g,u.opts.strictNumbers,ws.DataType.Wrong),v=t.const("indices",(0,we._)`{}`);t.for((0,we._)`;${y}--;`,()=>{t.let(g,(0,we._)`${r}[${y}]`),t.if(m,(0,we._)`continue`),c.length>1&&t.if((0,we._)`typeof ${g} == "string"`,(0,we._)`${g} += "_"`),t.if((0,we._)`typeof ${v}[${g}] == "number"`,()=>{t.assign(w,(0,we._)`${v}[${g}]`),e.error(),t.assign(l,!1).break()}).code((0,we._)`${v}[${g}] = ${y}`)})}function _(y,w){const g=(0,lm.useFunc)(t,um.default),m=t.name("outer");t.label(m).for((0,we._)`;${y}--;`,()=>t.for((0,we._)`${w} = ${y}; ${w}--;`,()=>t.if((0,we._)`${g}(${r}[${y}], ${r}[${w}])`,()=>{e.error(),t.assign(l,!1).break(m)})))}}};Ta.default=fm;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});const qs=W,hm=A,mm=an,pm={message:"must be equal to constant",params:({schemaCode:e})=>(0,qs._)`{allowedValue: ${e}}`},$m={keyword:"const",$data:!0,error:pm,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,qs._)`!${(0,hm.useFunc)(t,mm.default)}(${r}, ${s})`):e.fail((0,qs._)`${a} !== ${r}`)}};ja.default=$m;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});const Gr=W,ym=A,gm=an,_m={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Gr._)`{allowedValues: ${e}}`},vm={keyword:"enum",schemaType:"array",$data:!0,error:_m,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=o.opts.loopEnum;let l;const c=()=>l??(l=(0,ym.useFunc)(t,gm.default));let d;if(u||n)d=t.let("valid"),e.block$data(d,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const _=t.const("vSchema",a);d=(0,Gr.or)(...s.map((y,w)=>b(_,w)))}e.pass(d);function h(){t.assign(d,!1),t.forOf("v",a,_=>t.if((0,Gr._)`${c()}(${r}, ${_})`,()=>t.assign(d,!0).break()))}function b(_,y){const w=s[y];return typeof w=="object"&&w!==null?(0,Gr._)`${c()}(${r}, ${_}[${y}])`:(0,Gr._)`${r} === ${w}`}}};ka.default=vm;Object.defineProperty(wa,"__esModule",{value:!0});const wm=Ea,Em=ba,bm=Sa,Sm=Na,Pm=Ra,Nm=Oa,Rm=Ia,Om=Ta,Im=ja,Tm=ka,jm=[wm.default,Em.default,bm.default,Sm.default,Pm.default,Nm.default,Rm.default,Om.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Im.default,Tm.default];wa.default=jm;var Aa={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.validateAdditionalItems=void 0;const Xt=W,Gs=A,km={message:({params:{len:e}})=>(0,Xt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Xt._)`{limit: ${e}}`},Am={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:km,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Gs.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Il(e,n)}};function Il(e,t){const{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;const u=r.const("len",(0,Xt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Xt._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,Gs.alwaysValidSchema)(o,n)){const c=r.var("valid",(0,Xt._)`${u} <= ${t.length}`);r.if((0,Xt.not)(c),()=>l(c)),e.ok(c)}function l(c){r.forRange("i",t.length,u,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:Gs.Type.Num},c),o.allErrors||r.if((0,Xt.not)(c),()=>r.break())})}}Er.validateAdditionalItems=Il;Er.default=Am;var Ca={},br={};Object.defineProperty(br,"__esModule",{value:!0});br.validateTuple=void 0;const Ei=W,jn=A,Cm=ee,Dm={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Tl(e,"additionalItems",t);r.items=!0,!(0,jn.alwaysValidSchema)(r,t)&&e.ok((0,Cm.validateArray)(e))}};function Tl(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:u}=e;d(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=jn.mergeEvaluated.items(n,r.length,u.items));const l=n.name("valid"),c=n.const("len",(0,Ei._)`${a}.length`);r.forEach((h,b)=>{(0,jn.alwaysValidSchema)(u,h)||(n.if((0,Ei._)`${c} > ${b}`,()=>e.subschema({keyword:o,schemaProp:b,dataProp:b},l)),e.ok(l))});function d(h){const{opts:b,errSchemaPath:_}=u,y=r.length,w=y===h.minItems&&(y===h.maxItems||h[t]===!1);if(b.strictTuples&&!w){const g=`"${o}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${_}"`;(0,jn.checkStrictMode)(u,g,b.strictTuples)}}}br.validateTuple=Tl;br.default=Dm;Object.defineProperty(Ca,"__esModule",{value:!0});const Mm=br,Vm={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Mm.validateTuple)(e,"items")};Ca.default=Vm;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});const bi=W,Lm=A,Fm=ee,zm=Er,Um={message:({params:{len:e}})=>(0,bi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,bi._)`{limit: ${e}}`},qm={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Um,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Lm.alwaysValidSchema)(n,t)&&(s?(0,zm.validateAdditionalItems)(e,s):e.ok((0,Fm.validateArray)(e)))}};Da.default=qm;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});const ze=W,hn=A,Gm={message:({params:{min:e,max:t}})=>t===void 0?(0,ze.str)`must contain at least ${e} valid item(s)`:(0,ze.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ze._)`{minContains: ${e}}`:(0,ze._)`{minContains: ${e}, maxContains: ${t}}`},Km={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Gm,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let o,u;const{minContains:l,maxContains:c}=n;a.opts.next?(o=l===void 0?1:l,u=c):o=1;const d=t.const("len",(0,ze._)`${s}.length`);if(e.setParams({min:o,max:u}),u===void 0&&o===0){(0,hn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&o>u){(0,hn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,hn.alwaysValidSchema)(a,r)){let w=(0,ze._)`${d} >= ${o}`;u!==void 0&&(w=(0,ze._)`${w} && ${d} <= ${u}`),e.pass(w);return}a.items=!0;const h=t.name("valid");u===void 0&&o===1?_(h,()=>t.if(h,()=>t.break())):o===0?(t.let(h,!0),u!==void 0&&t.if((0,ze._)`${s}.length > 0`,b)):(t.let(h,!1),b()),e.result(h,()=>e.reset());function b(){const w=t.name("_valid"),g=t.let("count",0);_(w,()=>t.if(w,()=>y(g)))}function _(w,g){t.forRange("i",0,d,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:hn.Type.Num,compositeRule:!0},w),g()})}function y(w){t.code((0,ze._)`${w}++`),u===void 0?t.if((0,ze._)`${w} >= ${o}`,()=>t.assign(h,!0).break()):(t.if((0,ze._)`${w} > ${u}`,()=>t.assign(h,!1).break()),o===1?t.assign(h,!0):t.if((0,ze._)`${w} >= ${o}`,()=>t.assign(h,!0)))}}};Ma.default=Km;var rs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=W,r=A,n=ee;e.error={message:({params:{property:l,depsCount:c,deps:d}})=>{const h=c===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:d,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,d]=a(l);o(l,c),u(l,d)}};function a({schema:l}){const c={},d={};for(const h in l){if(h==="__proto__")continue;const b=Array.isArray(l[h])?c:d;b[h]=l[h]}return[c,d]}function o(l,c=l.schema){const{gen:d,data:h,it:b}=l;if(Object.keys(c).length===0)return;const _=d.let("missing");for(const y in c){const w=c[y];if(w.length===0)continue;const g=(0,n.propertyInData)(d,h,y,b.opts.ownProperties);l.setParams({property:y,depsCount:w.length,deps:w.join(", ")}),b.allErrors?d.if(g,()=>{for(const m of w)(0,n.checkReportMissingProp)(l,m)}):(d.if((0,t._)`${g} && (${(0,n.checkMissingProp)(l,w,_)})`),(0,n.reportMissingProp)(l,_),d.else())}}e.validatePropertyDeps=o;function u(l,c=l.schema){const{gen:d,data:h,keyword:b,it:_}=l,y=d.name("valid");for(const w in c)(0,r.alwaysValidSchema)(_,c[w])||(d.if((0,n.propertyInData)(d,h,w,_.opts.ownProperties),()=>{const g=l.subschema({keyword:b,schemaProp:w},y);l.mergeValidEvaluated(g,y)},()=>d.var(y,!0)),l.ok(y))}e.validateSchemaDeps=u,e.default=s})(rs);var Va={};Object.defineProperty(Va,"__esModule",{value:!0});const jl=W,Hm=A,Bm={message:"property name must be valid",params:({params:e})=>(0,jl._)`{propertyName: ${e.propertyName}}`},Jm={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Bm,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,Hm.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,jl.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Va.default=Jm;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});const mn=ee,He=W,Xm=Fe,pn=A,Wm={message:"must NOT have additional properties",params:({params:e})=>(0,He._)`{additionalProperty: ${e.additionalProperty}}`},Ym={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Wm,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,pn.alwaysValidSchema)(o,r))return;const c=(0,mn.allSchemaProperties)(n.properties),d=(0,mn.allSchemaProperties)(n.patternProperties);h(),e.ok((0,He._)`${a} === ${Xm.default.errors}`);function h(){t.forIn("key",s,g=>{!c.length&&!d.length?y(g):t.if(b(g),()=>y(g))})}function b(g){let m;if(c.length>8){const v=(0,pn.schemaRefOrVal)(o,n.properties,"properties");m=(0,mn.isOwnProperty)(t,v,g)}else c.length?m=(0,He.or)(...c.map(v=>(0,He._)`${g} === ${v}`)):m=He.nil;return d.length&&(m=(0,He.or)(m,...d.map(v=>(0,He._)`${(0,mn.usePattern)(e,v)}.test(${g})`))),(0,He.not)(m)}function _(g){t.code((0,He._)`delete ${s}[${g}]`)}function y(g){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){_(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,pn.alwaysValidSchema)(o,r)){const m=t.name("valid");l.removeAdditional==="failing"?(w(g,m,!1),t.if((0,He.not)(m),()=>{e.reset(),_(g)})):(w(g,m),u||t.if((0,He.not)(m),()=>t.break()))}}function w(g,m,v){const N={keyword:"additionalProperties",dataProp:g,dataPropType:pn.Type.Str};v===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(N,m)}}};ns.default=Ym;var La={};Object.defineProperty(La,"__esModule",{value:!0});const Qm=We,Si=ee,Es=A,Pi=ns,Zm={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Pi.default.code(new Qm.KeywordCxt(a,Pi.default,"additionalProperties"));const o=(0,Si.allSchemaProperties)(r);for(const h of o)a.definedProperties.add(h);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=Es.mergeEvaluated.props(t,(0,Es.toHash)(o),a.props));const u=o.filter(h=>!(0,Es.alwaysValidSchema)(a,r[h]));if(u.length===0)return;const l=t.name("valid");for(const h of u)c(h)?d(h):(t.if((0,Si.propertyInData)(t,s,h,a.opts.ownProperties)),d(h),a.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(l);function c(h){return a.opts.useDefaults&&!a.compositeRule&&r[h].default!==void 0}function d(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};La.default=Zm;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});const Ni=ee,$n=W,Ri=A,Oi=A,xm={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,u=(0,Ni.allSchemaProperties)(r),l=u.filter(w=>(0,Ri.alwaysValidSchema)(a,r[w]));if(u.length===0||l.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const c=o.strictSchema&&!o.allowMatchingProperties&&s.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof $n.Name)&&(a.props=(0,Oi.evaluatedPropsToName)(t,a.props));const{props:h}=a;b();function b(){for(const w of u)c&&_(w),a.allErrors?y(w):(t.var(d,!0),y(w),t.if(d))}function _(w){for(const g in c)new RegExp(w).test(g)&&(0,Ri.checkStrictMode)(a,`property ${g} matches pattern ${w} (use allowMatchingProperties)`)}function y(w){t.forIn("key",n,g=>{t.if((0,$n._)`${(0,Ni.usePattern)(e,w)}.test(${g})`,()=>{const m=l.includes(w);m||e.subschema({keyword:"patternProperties",schemaProp:w,dataProp:g,dataPropType:Oi.Type.Str},d),a.opts.unevaluated&&h!==!0?t.assign((0,$n._)`${h}[${g}]`,!0):!m&&!a.allErrors&&t.if((0,$n.not)(d),()=>t.break())})})}}};Fa.default=xm;var za={};Object.defineProperty(za,"__esModule",{value:!0});const ep=A,tp={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,ep.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};za.default=tp;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});const rp=ee,np={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:rp.validateUnion,error:{message:"must match a schema in anyOf"}};Ua.default=np;var qa={};Object.defineProperty(qa,"__esModule",{value:!0});const kn=W,sp=A,ap={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,kn._)`{passingSchemas: ${e.passing}}`},op={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:ap,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=t.let("valid",!1),u=t.let("passing",null),l=t.name("_valid");e.setParams({passing:u}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){a.forEach((d,h)=>{let b;(0,sp.alwaysValidSchema)(s,d)?t.var(l,!0):b=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&t.if((0,kn._)`${l} && ${o}`).assign(o,!1).assign(u,(0,kn._)`[${u}, ${h}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(u,h),b&&e.mergeEvaluated(b,kn.Name)})})}}};qa.default=op;var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});const ip=A,cp={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,o)=>{if((0,ip.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(u)})}};Ga.default=cp;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});const Gn=W,kl=A,lp={message:({params:e})=>(0,Gn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Gn._)`{failingKeyword: ${e.ifClause}}`},up={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:lp,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,kl.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Ii(n,"then"),a=Ii(n,"else");if(!s&&!a)return;const o=t.let("valid",!0),u=t.name("_valid");if(l(),e.reset(),s&&a){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(u,c("then",d),c("else",d))}else s?t.if(u,c("then")):t.if((0,Gn.not)(u),c("else"));e.pass(o,()=>e.error(!0));function l(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(d)}function c(d,h){return()=>{const b=e.subschema({keyword:d},u);t.assign(o,u),e.mergeValidEvaluated(b,o),h?t.assign(h,(0,Gn._)`${d}`):e.setParams({ifClause:d})}}}};function Ii(e,t){const r=e.schema[t];return r!==void 0&&!(0,kl.alwaysValidSchema)(e,r)}Ka.default=up;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const dp=A,fp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,dp.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ha.default=fp;Object.defineProperty(Aa,"__esModule",{value:!0});const hp=Er,mp=Ca,pp=br,$p=Da,yp=Ma,gp=rs,_p=Va,vp=ns,wp=La,Ep=Fa,bp=za,Sp=Ua,Pp=qa,Np=Ga,Rp=Ka,Op=Ha;function Ip(e=!1){const t=[bp.default,Sp.default,Pp.default,Np.default,Rp.default,Op.default,_p.default,vp.default,gp.default,wp.default,Ep.default];return e?t.push(mp.default,$p.default):t.push(hp.default,pp.default),t.push(yp.default),t}Aa.default=Ip;var Ba={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.dynamicAnchor=void 0;const bs=W,Tp=Fe,Ti=je,jp=pt,kp={keyword:"$dynamicAnchor",schemaType:"string",code:e=>Al(e,e.schema)};function Al(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const s=(0,bs._)`${Tp.default.dynamicAnchors}${(0,bs.getProperty)(t)}`,a=n.errSchemaPath==="#"?n.validateName:Ap(e);r.if((0,bs._)`!${s}`,()=>r.assign(s,a))}Sr.dynamicAnchor=Al;function Ap(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:s,baseId:a,localRefs:o,meta:u}=t.root,{schemaId:l}=n.opts,c=new Ti.SchemaEnv({schema:r,schemaId:l,root:s,baseId:a,localRefs:o,meta:u});return Ti.compileSchema.call(n,c),(0,jp.getValidate)(e,c)}Sr.default=kp;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.dynamicRef=void 0;const ji=W,Cp=Fe,ki=pt,Dp={keyword:"$dynamicRef",schemaType:"string",code:e=>Cl(e,e.schema)};function Cl(e,t){const{gen:r,keyword:n,it:s}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const a=t.slice(1);if(s.allErrors)o();else{const l=r.let("valid",!1);o(l),e.ok(l)}function o(l){if(s.schemaEnv.root.dynamicAnchors[a]){const c=r.let("_v",(0,ji._)`${Cp.default.dynamicAnchors}${(0,ji.getProperty)(a)}`);r.if(c,u(c,l),u(s.validateName,l))}else u(s.validateName,l)()}function u(l,c){return c?()=>r.block(()=>{(0,ki.callRef)(e,l),r.let(c,!0)}):()=>(0,ki.callRef)(e,l)}}Pr.dynamicRef=Cl;Pr.default=Dp;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});const Mp=Sr,Vp=A,Lp={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,Mp.dynamicAnchor)(e,""):(0,Vp.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};Ja.default=Lp;var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});const Fp=Pr,zp={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Fp.dynamicRef)(e,e.schema)};Xa.default=zp;Object.defineProperty(Ba,"__esModule",{value:!0});const Up=Sr,qp=Pr,Gp=Ja,Kp=Xa,Hp=[Up.default,qp.default,Gp.default,Kp.default];Ba.default=Hp;var Wa={},Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});const Ai=rs,Bp={keyword:"dependentRequired",type:"object",schemaType:"object",error:Ai.error,code:e=>(0,Ai.validatePropertyDeps)(e)};Ya.default=Bp;var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});const Jp=rs,Xp={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,Jp.validateSchemaDeps)(e)};Qa.default=Xp;var Za={};Object.defineProperty(Za,"__esModule",{value:!0});const Wp=A,Yp={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,Wp.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};Za.default=Yp;Object.defineProperty(Wa,"__esModule",{value:!0});const Qp=Ya,Zp=Qa,xp=Za,e$=[Qp.default,Zp.default,xp.default];Wa.default=e$;var xa={},eo={};Object.defineProperty(eo,"__esModule",{value:!0});const bt=W,Ci=A,t$=Fe,r$={message:"must NOT have unevaluated properties",params:({params:e})=>(0,bt._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},n$={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:r$,code(e){const{gen:t,schema:r,data:n,errsCount:s,it:a}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,props:u}=a;u instanceof bt.Name?t.if((0,bt._)`${u} !== true`,()=>t.forIn("key",n,h=>t.if(c(u,h),()=>l(h)))):u!==!0&&t.forIn("key",n,h=>u===void 0?l(h):t.if(d(u,h),()=>l(h))),a.props=!0,e.ok((0,bt._)`${s} === ${t$.default.errors}`);function l(h){if(r===!1){e.setParams({unevaluatedProperty:h}),e.error(),o||t.break();return}if(!(0,Ci.alwaysValidSchema)(a,r)){const b=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:h,dataPropType:Ci.Type.Str},b),o||t.if((0,bt.not)(b),()=>t.break())}}function c(h,b){return(0,bt._)`!${h} || !${h}[${b}]`}function d(h,b){const _=[];for(const y in h)h[y]===!0&&_.push((0,bt._)`${b} !== ${y}`);return(0,bt.and)(..._)}}};eo.default=n$;var to={};Object.defineProperty(to,"__esModule",{value:!0});const Wt=W,Di=A,s$={message:({params:{len:e}})=>(0,Wt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Wt._)`{limit: ${e}}`},a$={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:s$,code(e){const{gen:t,schema:r,data:n,it:s}=e,a=s.items||0;if(a===!0)return;const o=t.const("len",(0,Wt._)`${n}.length`);if(r===!1)e.setParams({len:a}),e.fail((0,Wt._)`${o} > ${a}`);else if(typeof r=="object"&&!(0,Di.alwaysValidSchema)(s,r)){const l=t.var("valid",(0,Wt._)`${o} <= ${a}`);t.if((0,Wt.not)(l),()=>u(l,a)),e.ok(l)}s.items=!0;function u(l,c){t.forRange("i",c,o,d=>{e.subschema({keyword:"unevaluatedItems",dataProp:d,dataPropType:Di.Type.Num},l),s.allErrors||t.if((0,Wt.not)(l),()=>t.break())})}}};to.default=a$;Object.defineProperty(xa,"__esModule",{value:!0});const o$=eo,i$=to,c$=[o$.default,i$.default];xa.default=c$;var ro={},no={};Object.defineProperty(no,"__esModule",{value:!0});const me=W,l$={message:({schemaCode:e})=>(0,me.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,me._)`{format: ${e}}`},u$={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:l$,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:u}=e,{opts:l,errSchemaPath:c,schemaEnv:d,self:h}=u;if(!l.validateFormats)return;s?b():_();function b(){const y=r.scopeValue("formats",{ref:h.formats,code:l.code.formats}),w=r.const("fDef",(0,me._)`${y}[${o}]`),g=r.let("fType"),m=r.let("format");r.if((0,me._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign(g,(0,me._)`${w}.type || "string"`).assign(m,(0,me._)`${w}.validate`),()=>r.assign(g,(0,me._)`"string"`).assign(m,w)),e.fail$data((0,me.or)(v(),N()));function v(){return l.strictSchema===!1?me.nil:(0,me._)`${o} && !${m}`}function N(){const R=d.$async?(0,me._)`(${w}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,me._)`${m}(${n})`,O=(0,me._)`(typeof ${m} == "function" ? ${R} : ${m}.test(${n}))`;return(0,me._)`${m} && ${m} !== true && ${g} === ${t} && !${O}`}}function _(){const y=h.formats[a];if(!y){v();return}if(y===!0)return;const[w,g,m]=N(y);w===t&&e.pass(R());function v(){if(l.strictSchema===!1){h.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${a}" ignored in schema at path "${c}"`}}function N(O){const G=O instanceof RegExp?(0,me.regexpCode)(O):l.code.formats?(0,me._)`${l.code.formats}${(0,me.getProperty)(a)}`:void 0,X=r.scopeValue("formats",{key:a,ref:O,code:G});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,me._)`${X}.validate`]:["string",O,X]}function R(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!d.$async)throw new Error("async format in sync schema");return(0,me._)`await ${m}(${n})`}return typeof g=="function"?(0,me._)`${m}(${n})`:(0,me._)`${m}.test(${n})`}}}};no.default=u$;Object.defineProperty(ro,"__esModule",{value:!0});const d$=no,f$=[d$.default];ro.default=f$;var gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.contentVocabulary=gr.metadataVocabulary=void 0;gr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];gr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ga,"__esModule",{value:!0});const h$=_a,m$=wa,p$=Aa,$$=Ba,y$=Wa,g$=xa,_$=ro,Mi=gr,v$=[$$.default,h$.default,m$.default,(0,p$.default)(!0),_$.default,Mi.metadataVocabulary,Mi.contentVocabulary,y$.default,g$.default];ga.default=v$;var so={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.DiscrError=void 0;var Vi;(function(e){e.Tag="tag",e.Mapping="mapping"})(Vi||(ss.DiscrError=Vi={}));Object.defineProperty(so,"__esModule",{value:!0});const ur=W,Ks=ss,Li=je,w$=wr,E$=A,b$={message:({params:{discrError:e,tagName:t}})=>e===Ks.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,ur._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},S$={keyword:"discriminator",type:"object",schemaType:"object",error:b$,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),c=t.const("tag",(0,ur._)`${r}${(0,ur.getProperty)(u)}`);t.if((0,ur._)`typeof ${c} == "string"`,()=>d(),()=>e.error(!1,{discrError:Ks.DiscrError.Tag,tag:c,tagName:u})),e.ok(l);function d(){const _=b();t.if(!1);for(const y in _)t.elseIf((0,ur._)`${c} === ${y}`),t.assign(l,h(_[y]));t.else(),e.error(!1,{discrError:Ks.DiscrError.Mapping,tag:c,tagName:u}),t.endIf()}function h(_){const y=t.name("valid"),w=e.subschema({keyword:"oneOf",schemaProp:_},y);return e.mergeEvaluated(w,ur.Name),y}function b(){var _;const y={},w=m(s);let g=!0;for(let R=0;R<o.length;R++){let O=o[R];if(O!=null&&O.$ref&&!(0,E$.schemaHasRulesButRef)(O,a.self.RULES)){const X=O.$ref;if(O=Li.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,X),O instanceof Li.SchemaEnv&&(O=O.schema),O===void 0)throw new w$.default(a.opts.uriResolver,a.baseId,X)}const G=(_=O==null?void 0:O.properties)===null||_===void 0?void 0:_[u];if(typeof G!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);g=g&&(w||m(O)),v(G,R)}if(!g)throw new Error(`discriminator: "${u}" must be required`);return y;function m({required:R}){return Array.isArray(R)&&R.includes(u)}function v(R,O){if(R.const)N(R.const,O);else if(R.enum)for(const G of R.enum)N(G,O);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function N(R,O){if(typeof R!="string"||R in y)throw new Error(`discriminator: "${u}" values must be unique strings`);y[R]=O}}}};so.default=S$;var ao={};const P$="https://json-schema.org/draft/2020-12/schema",N$="https://json-schema.org/draft/2020-12/schema",R$={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},O$="meta",I$="Core and Validation specifications meta-schema",T$=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],j$=["object","boolean"],k$="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",A$={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},C$={$schema:P$,$id:N$,$vocabulary:R$,$dynamicAnchor:O$,title:I$,allOf:T$,type:j$,$comment:k$,properties:A$},D$="https://json-schema.org/draft/2020-12/schema",M$="https://json-schema.org/draft/2020-12/meta/applicator",V$={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},L$="meta",F$="Applicator vocabulary meta-schema",z$=["object","boolean"],U$={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},q$={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},G$={$schema:D$,$id:M$,$vocabulary:V$,$dynamicAnchor:L$,title:F$,type:z$,properties:U$,$defs:q$},K$="https://json-schema.org/draft/2020-12/schema",H$="https://json-schema.org/draft/2020-12/meta/unevaluated",B$={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},J$="meta",X$="Unevaluated applicator vocabulary meta-schema",W$=["object","boolean"],Y$={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},Q$={$schema:K$,$id:H$,$vocabulary:B$,$dynamicAnchor:J$,title:X$,type:W$,properties:Y$},Z$="https://json-schema.org/draft/2020-12/schema",x$="https://json-schema.org/draft/2020-12/meta/content",ey={"https://json-schema.org/draft/2020-12/vocab/content":!0},ty="meta",ry="Content vocabulary meta-schema",ny=["object","boolean"],sy={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},ay={$schema:Z$,$id:x$,$vocabulary:ey,$dynamicAnchor:ty,title:ry,type:ny,properties:sy},oy="https://json-schema.org/draft/2020-12/schema",iy="https://json-schema.org/draft/2020-12/meta/core",cy={"https://json-schema.org/draft/2020-12/vocab/core":!0},ly="meta",uy="Core vocabulary meta-schema",dy=["object","boolean"],fy={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},hy={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},my={$schema:oy,$id:iy,$vocabulary:cy,$dynamicAnchor:ly,title:uy,type:dy,properties:fy,$defs:hy},py="https://json-schema.org/draft/2020-12/schema",$y="https://json-schema.org/draft/2020-12/meta/format-annotation",yy={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},gy="meta",_y="Format vocabulary meta-schema for annotation results",vy=["object","boolean"],wy={format:{type:"string"}},Ey={$schema:py,$id:$y,$vocabulary:yy,$dynamicAnchor:gy,title:_y,type:vy,properties:wy},by="https://json-schema.org/draft/2020-12/schema",Sy="https://json-schema.org/draft/2020-12/meta/meta-data",Py={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},Ny="meta",Ry="Meta-data vocabulary meta-schema",Oy=["object","boolean"],Iy={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},Ty={$schema:by,$id:Sy,$vocabulary:Py,$dynamicAnchor:Ny,title:Ry,type:Oy,properties:Iy},jy="https://json-schema.org/draft/2020-12/schema",ky="https://json-schema.org/draft/2020-12/meta/validation",Ay={"https://json-schema.org/draft/2020-12/vocab/validation":!0},Cy="meta",Dy="Validation vocabulary meta-schema",My=["object","boolean"],Vy={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},Ly={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Fy={$schema:jy,$id:ky,$vocabulary:Ay,$dynamicAnchor:Cy,title:Dy,type:My,properties:Vy,$defs:Ly};Object.defineProperty(ao,"__esModule",{value:!0});const zy=C$,Uy=G$,qy=Q$,Gy=ay,Ky=my,Hy=Ey,By=Ty,Jy=Fy,Xy=["/properties"];function Wy(e){return[zy,Uy,qy,Gy,Ky,t(this,Hy),By,t(this,Jy)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,Xy):n}}ao.default=Wy;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const r=Lc,n=ga,s=so,a=ao,o="https://json-schema.org/draft/2020-12/schema";class u extends r.default{constructor(_={}){super({..._,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:_,meta:y}=this.opts;y&&(a.default.call(this,_),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv2020=u,e.exports=t=u,e.exports.Ajv2020=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=We;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=W;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var d=sn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=wr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(Ms,Ms.exports);var Yy=Ms.exports,Hs={exports:{}},Dl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(z,H){return{validate:z,compare:H}}e.fullFormats={date:t(a,o),time:t(l(!0),c),"date-time":t(b(!0),_),"iso-time":t(l(),d),"iso-date-time":t(b(),y),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:m,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:$e,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:N,int32:{type:"number",validate:G},int64:{type:"number",validate:X},float:{type:"number",validate:le},double:{type:"number",validate:le},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,c),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,_),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,y),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(z){return z%4===0&&(z%100!==0||z%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(z){const H=n.exec(z);if(!H)return!1;const ne=+H[1],T=+H[2],k=+H[3];return T>=1&&T<=12&&k>=1&&k<=(T===2&&r(ne)?29:s[T])}function o(z,H){if(z&&H)return z>H?1:z<H?-1:0}const u=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(z){return function(ne){const T=u.exec(ne);if(!T)return!1;const k=+T[1],V=+T[2],D=+T[3],K=T[4],M=T[5]==="-"?-1:1,P=+(T[6]||0),p=+(T[7]||0);if(P>23||p>59||z&&!K)return!1;if(k<=23&&V<=59&&D<60)return!0;const S=V-p*M,$=k-P*M-(S<0?1:0);return($===23||$===-1)&&(S===59||S===-1)&&D<61}}function c(z,H){if(!(z&&H))return;const ne=new Date("2020-01-01T"+z).valueOf(),T=new Date("2020-01-01T"+H).valueOf();if(ne&&T)return ne-T}function d(z,H){if(!(z&&H))return;const ne=u.exec(z),T=u.exec(H);if(ne&&T)return z=ne[1]+ne[2]+ne[3],H=T[1]+T[2]+T[3],z>H?1:z<H?-1:0}const h=/t|\s/i;function b(z){const H=l(z);return function(T){const k=T.split(h);return k.length===2&&a(k[0])&&H(k[1])}}function _(z,H){if(!(z&&H))return;const ne=new Date(z).valueOf(),T=new Date(H).valueOf();if(ne&&T)return ne-T}function y(z,H){if(!(z&&H))return;const[ne,T]=z.split(h),[k,V]=H.split(h),D=o(ne,k);if(D!==void 0)return D||c(T,V)}const w=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function m(z){return w.test(z)&&g.test(z)}const v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function N(z){return v.lastIndex=0,v.test(z)}const R=-(2**31),O=2**31-1;function G(z){return Number.isInteger(z)&&z<=O&&z>=R}function X(z){return Number.isInteger(z)}function le(){return!0}const he=/[^\\]\\Z/;function $e(z){if(he.test(z))return!1;try{return new RegExp(z),!0}catch{return!1}}})(Dl);var Ml={},Bs={exports:{}},Vl={},Ye={},_r={},on={},x={},rn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((N,R)=>`${N}${R}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((N,R)=>(R instanceof r&&(N[R.str]=(N[R.str]||0)+1),N),{})}}e._Code=n,e.nil=new n("");function s(m,...v){const N=[m[0]];let R=0;for(;R<v.length;)u(N,v[R]),N.push(m[++R]);return new n(N)}e._=s;const a=new n("+");function o(m,...v){const N=[_(m[0])];let R=0;for(;R<v.length;)N.push(a),u(N,v[R]),N.push(a,_(m[++R]));return l(N),new n(N)}e.str=o;function u(m,v){v instanceof n?m.push(...v._items):v instanceof r?m.push(v):m.push(h(v))}e.addCodeArg=u;function l(m){let v=1;for(;v<m.length-1;){if(m[v]===a){const N=c(m[v-1],m[v+1]);if(N!==void 0){m.splice(v-1,3,N);continue}m[v++]="+"}v++}}function c(m,v){if(v==='""')return m;if(m==='""')return v;if(typeof m=="string")return v instanceof r||m[m.length-1]!=='"'?void 0:typeof v!="string"?`${m.slice(0,-1)}${v}"`:v[0]==='"'?m.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(m instanceof r))return`"${m}${v.slice(1)}`}function d(m,v){return v.emptyStr()?m:m.emptyStr()?v:o`${m}${v}`}e.strConcat=d;function h(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:_(Array.isArray(m)?m.join(","):m)}function b(m){return new n(_(m))}e.stringify=b;function _(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=_;function y(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=y;function w(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=w;function g(m){return new n(m.toString())}e.regexpCode=g})(rn);var Js={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=rn;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:c,parent:d}={}){this._names={},this._prefixes=c,this._parent=d}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const d=this._names[c]||this._nameGroup(c);return`${c}${d.index++}`}_nameGroup(c){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=s;class a extends t.Name{constructor(c,d){super(d),this.prefix=c}setValue(c,{property:d,itemIndex:h}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class u extends s{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const b=this.toName(c),{prefix:_}=b,y=(h=d.key)!==null&&h!==void 0?h:d.ref;let w=this._values[_];if(w){const v=w.get(y);if(v)return v}else w=this._values[_]=new Map;w.set(y,b);const g=this._scope[_]||(this._scope[_]=[]),m=g.length;return g[m]=d.ref,b.setValue(d,{property:_,itemIndex:m}),b}getValue(c,d){const h=this._values[c];if(h)return h.get(d)}scopeRefs(c,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${c}${h.scopePath}`})}scopeCode(c=this._values,d,h){return this._reduceValues(c,b=>{if(b.value===void 0)throw new Error(`CodeGen: name "${b}" has no value`);return b.value.code},d,h)}_reduceValues(c,d,h={},b){let _=t.nil;for(const y in c){const w=c[y];if(!w)continue;const g=h[y]=h[y]||new Map;w.forEach(m=>{if(g.has(m))return;g.set(m,n.Started);let v=d(m);if(v){const N=this.opts.es5?e.varKinds.var:e.varKinds.const;_=(0,t._)`${_}${N} ${m} = ${v};${this.opts._n}`}else if(v=b==null?void 0:b(m))_=(0,t._)`${_}${v}${this.opts._n}`;else throw new r(m);g.set(m,n.Completed)})}return _}}e.ValueScope=u})(Js);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=rn,r=Js;var n=rn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Js;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(i,f){return this}}class o extends a{constructor(i,f,E){super(),this.varKind=i,this.name=f,this.rhs=E}render({es5:i,_n:f}){const E=i?r.varKinds.var:this.varKind,I=this.rhs===void 0?"":` = ${this.rhs}`;return`${E} ${this.name}${I};`+f}optimizeNames(i,f){if(i[this.name.str])return this.rhs&&(this.rhs=T(this.rhs,i,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(i,f,E){super(),this.lhs=i,this.rhs=f,this.sideEffects=E}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,f){if(!(this.lhs instanceof t.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=T(this.rhs,i,f),this}get names(){const i=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ne(i,this.rhs)}}class l extends u{constructor(i,f,E,I){super(i,E,I),this.op=f}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}}class c extends a{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}}class d extends a{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}}class h extends a{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}}class b extends a{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,f){return this.code=T(this.code,i,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class _ extends a{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((f,E)=>f+E.render(i),"")}optimizeNodes(){const{nodes:i}=this;let f=i.length;for(;f--;){const E=i[f].optimizeNodes();Array.isArray(E)?i.splice(f,1,...E):E?i[f]=E:i.splice(f,1)}return i.length>0?this:void 0}optimizeNames(i,f){const{nodes:E}=this;let I=E.length;for(;I--;){const j=E[I];j.optimizeNames(i,f)||(k(i,j.names),E.splice(I,1))}return E.length>0?this:void 0}get names(){return this.nodes.reduce((i,f)=>H(i,f.names),{})}}class y extends _{render(i){return"{"+i._n+super.render(i)+"}"+i._n}}class w extends _{}class g extends y{}g.kind="else";class m extends y{constructor(i,f){super(f),this.condition=i}render(i){let f=`if(${this.condition})`+super.render(i);return this.else&&(f+="else "+this.else.render(i)),f}optimizeNodes(){super.optimizeNodes();const i=this.condition;if(i===!0)return this.nodes;let f=this.else;if(f){const E=f.optimizeNodes();f=this.else=Array.isArray(E)?new g(E):E}if(f)return i===!1?f instanceof m?f:f.nodes:this.nodes.length?this:new m(V(i),f instanceof m?[f]:f.nodes);if(!(i===!1||!this.nodes.length))return this}optimizeNames(i,f){var E;if(this.else=(E=this.else)===null||E===void 0?void 0:E.optimizeNames(i,f),!!(super.optimizeNames(i,f)||this.else))return this.condition=T(this.condition,i,f),this}get names(){const i=super.names;return ne(i,this.condition),this.else&&H(i,this.else.names),i}}m.kind="if";class v extends y{}v.kind="for";class N extends v{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,f){if(super.optimizeNames(i,f))return this.iteration=T(this.iteration,i,f),this}get names(){return H(super.names,this.iteration.names)}}class R extends v{constructor(i,f,E,I){super(),this.varKind=i,this.name=f,this.from=E,this.to=I}render(i){const f=i.es5?r.varKinds.var:this.varKind,{name:E,from:I,to:j}=this;return`for(${f} ${E}=${I}; ${E}<${j}; ${E}++)`+super.render(i)}get names(){const i=ne(super.names,this.from);return ne(i,this.to)}}class O extends v{constructor(i,f,E,I){super(),this.loop=i,this.varKind=f,this.name=E,this.iterable=I}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,f){if(super.optimizeNames(i,f))return this.iterable=T(this.iterable,i,f),this}get names(){return H(super.names,this.iterable.names)}}class G extends y{constructor(i,f,E){super(),this.name=i,this.args=f,this.async=E}render(i){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(i)}}G.kind="func";class X extends _{render(i){return"return "+super.render(i)}}X.kind="return";class le extends y{render(i){let f="try"+super.render(i);return this.catch&&(f+=this.catch.render(i)),this.finally&&(f+=this.finally.render(i)),f}optimizeNodes(){var i,f;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(i,f){var E,I;return super.optimizeNames(i,f),(E=this.catch)===null||E===void 0||E.optimizeNames(i,f),(I=this.finally)===null||I===void 0||I.optimizeNames(i,f),this}get names(){const i=super.names;return this.catch&&H(i,this.catch.names),this.finally&&H(i,this.finally.names),i}}class he extends y{constructor(i){super(),this.error=i}render(i){return`catch(${this.error})`+super.render(i)}}he.kind="catch";class $e extends y{render(i){return"finally"+super.render(i)}}$e.kind="finally";class z{constructor(i,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=i,this._scope=new r.Scope({parent:i}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,f){const E=this._extScope.value(i,f);return(this._values[E.prefix]||(this._values[E.prefix]=new Set)).add(E),E}getScopeValue(i,f){return this._extScope.getValue(i,f)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,f,E,I){const j=this._scope.toName(f);return E!==void 0&&I&&(this._constants[j.str]=E),this._leafNode(new o(i,j,E)),j}const(i,f,E){return this._def(r.varKinds.const,i,f,E)}let(i,f,E){return this._def(r.varKinds.let,i,f,E)}var(i,f,E){return this._def(r.varKinds.var,i,f,E)}assign(i,f,E){return this._leafNode(new u(i,f,E))}add(i,f){return this._leafNode(new l(i,e.operators.ADD,f))}code(i){return typeof i=="function"?i():i!==t.nil&&this._leafNode(new b(i)),this}object(...i){const f=["{"];for(const[E,I]of i)f.length>1&&f.push(","),f.push(E),(E!==I||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,I));return f.push("}"),new t._Code(f)}if(i,f,E){if(this._blockNode(new m(i)),f&&E)this.code(f).else().code(E).endIf();else if(f)this.code(f).endIf();else if(E)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new m(i))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(m,g)}_for(i,f){return this._blockNode(i),f&&this.code(f).endFor(),this}for(i,f){return this._for(new N(i),f)}forRange(i,f,E,I,j=this.opts.es5?r.varKinds.var:r.varKinds.let){const F=this._scope.toName(i);return this._for(new R(j,F,f,E),()=>I(F))}forOf(i,f,E,I=r.varKinds.const){const j=this._scope.toName(i);if(this.opts.es5){const F=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${F}.length`,L=>{this.var(j,(0,t._)`${F}[${L}]`),E(j)})}return this._for(new O("of",I,j,f),()=>E(j))}forIn(i,f,E,I=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,t._)`Object.keys(${f})`,E);const j=this._scope.toName(i);return this._for(new O("in",I,j,f),()=>E(j))}endFor(){return this._endBlockNode(v)}label(i){return this._leafNode(new c(i))}break(i){return this._leafNode(new d(i))}return(i){const f=new X;if(this._blockNode(f),this.code(i),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(X)}try(i,f,E){if(!f&&!E)throw new Error('CodeGen: "try" without "catch" and "finally"');const I=new le;if(this._blockNode(I),this.code(i),f){const j=this.name("e");this._currNode=I.catch=new he(j),f(j)}return E&&(this._currNode=I.finally=new $e,this.code(E)),this._endBlockNode(he,$e)}throw(i){return this._leafNode(new h(i))}block(i,f){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(f),this}endBlock(i){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const E=this._nodes.length-f;if(E<0||i!==void 0&&E!==i)throw new Error(`CodeGen: wrong number of nodes: ${E} vs ${i} expected`);return this._nodes.length=f,this}func(i,f=t.nil,E,I){return this._blockNode(new G(i,f,E)),I&&this.code(I).endFunc(),this}endFunc(){return this._endBlockNode(G)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,f){const E=this._currNode;if(E instanceof i||f&&E instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${i.kind}/${f.kind}`:i.kind}"`)}_elseNode(i){const f=this._currNode;if(!(f instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=i,this}get _root(){return this._nodes[0]}get _currNode(){const i=this._nodes;return i[i.length-1]}set _currNode(i){const f=this._nodes;f[f.length-1]=i}}e.CodeGen=z;function H($,i){for(const f in i)$[f]=($[f]||0)+(i[f]||0);return $}function ne($,i){return i instanceof t._CodeOrName?H($,i.names):$}function T($,i,f){if($ instanceof t.Name)return E($);if(!I($))return $;return new t._Code($._items.reduce((j,F)=>(F instanceof t.Name&&(F=E(F)),F instanceof t._Code?j.push(...F._items):j.push(F),j),[]));function E(j){const F=f[j.str];return F===void 0||i[j.str]!==1?j:(delete i[j.str],F)}function I(j){return j instanceof t._Code&&j._items.some(F=>F instanceof t.Name&&i[F.str]===1&&f[F.str]!==void 0)}}function k($,i){for(const f in i)$[f]=($[f]||0)-(i[f]||0)}function V($){return typeof $=="boolean"||typeof $=="number"||$===null?!$:(0,t._)`!${S($)}`}e.not=V;const D=p(e.operators.AND);function K(...$){return $.reduce(D)}e.and=K;const M=p(e.operators.OR);function P(...$){return $.reduce(M)}e.or=P;function p($){return(i,f)=>i===t.nil?f:f===t.nil?i:(0,t._)`${S(i)} ${$} ${S(f)}`}function S($){return $ instanceof t.Name?$:(0,t._)`(${$})`}})(x);var C={};Object.defineProperty(C,"__esModule",{value:!0});C.checkStrictMode=C.getErrorPath=C.Type=C.useFunc=C.setEvaluated=C.evaluatedPropsToName=C.mergeEvaluated=C.eachItem=C.unescapeJsonPointer=C.escapeJsonPointer=C.escapeFragment=C.unescapeFragment=C.schemaRefOrVal=C.schemaHasRulesButRef=C.schemaHasRules=C.checkUnknownRules=C.alwaysValidSchema=C.toHash=void 0;const oe=x,Qy=rn;function Zy(e){const t={};for(const r of e)t[r]=!0;return t}C.toHash=Zy;function xy(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Ll(e,t),!Fl(t,e.self.RULES.all))}C.alwaysValidSchema=xy;function Ll(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||ql(e,`unknown keyword: "${a}"`)}C.checkUnknownRules=Ll;function Fl(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}C.schemaHasRules=Fl;function e0(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}C.schemaHasRulesButRef=e0;function t0({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,oe._)`${r}`}return(0,oe._)`${e}${t}${(0,oe.getProperty)(n)}`}C.schemaRefOrVal=t0;function r0(e){return zl(decodeURIComponent(e))}C.unescapeFragment=r0;function n0(e){return encodeURIComponent(oo(e))}C.escapeFragment=n0;function oo(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}C.escapeJsonPointer=oo;function zl(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}C.unescapeJsonPointer=zl;function s0(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}C.eachItem=s0;function Fi({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,u)=>{const l=o===void 0?a:o instanceof oe.Name?(a instanceof oe.Name?e(s,a,o):t(s,a,o),o):a instanceof oe.Name?(t(s,o,a),a):r(a,o);return u===oe.Name&&!(l instanceof oe.Name)?n(s,l):l}}C.mergeEvaluated={props:Fi({mergeNames:(e,t,r)=>e.if((0,oe._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,oe._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,oe._)`${r} || {}`).code((0,oe._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,oe._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,oe._)`${r} || {}`),io(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Ul}),items:Fi({mergeNames:(e,t,r)=>e.if((0,oe._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,oe._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,oe._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,oe._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Ul(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,oe._)`{}`);return t!==void 0&&io(e,r,t),r}C.evaluatedPropsToName=Ul;function io(e,t,r){Object.keys(r).forEach(n=>e.assign((0,oe._)`${t}${(0,oe.getProperty)(n)}`,!0))}C.setEvaluated=io;const zi={};function a0(e,t){return e.scopeValue("func",{ref:t,code:zi[t.code]||(zi[t.code]=new Qy._Code(t.code))})}C.useFunc=a0;var Xs;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Xs||(C.Type=Xs={}));function o0(e,t,r){if(e instanceof oe.Name){const n=t===Xs.Num;return r?n?(0,oe._)`"[" + ${e} + "]"`:(0,oe._)`"['" + ${e} + "']"`:n?(0,oe._)`"/" + ${e}`:(0,oe._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,oe.getProperty)(e).toString():"/"+oo(e)}C.getErrorPath=o0;function ql(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}C.checkStrictMode=ql;var ot={};Object.defineProperty(ot,"__esModule",{value:!0});const Ne=x,i0={data:new Ne.Name("data"),valCxt:new Ne.Name("valCxt"),instancePath:new Ne.Name("instancePath"),parentData:new Ne.Name("parentData"),parentDataProperty:new Ne.Name("parentDataProperty"),rootData:new Ne.Name("rootData"),dynamicAnchors:new Ne.Name("dynamicAnchors"),vErrors:new Ne.Name("vErrors"),errors:new Ne.Name("errors"),this:new Ne.Name("this"),self:new Ne.Name("self"),scope:new Ne.Name("scope"),json:new Ne.Name("json"),jsonPos:new Ne.Name("jsonPos"),jsonLen:new Ne.Name("jsonLen"),jsonPart:new Ne.Name("jsonPart")};ot.default=i0;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=x,r=C,n=ot;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:m})=>m?(0,t.str)`"${g}" keyword must be ${m} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function s(g,m=e.keywordError,v,N){const{it:R}=g,{gen:O,compositeRule:G,allErrors:X}=R,le=h(g,m,v);N??(G||X)?l(O,le):c(R,(0,t._)`[${le}]`)}e.reportError=s;function a(g,m=e.keywordError,v){const{it:N}=g,{gen:R,compositeRule:O,allErrors:G}=N,X=h(g,m,v);l(R,X),O||G||c(N,n.default.vErrors)}e.reportExtraError=a;function o(g,m){g.assign(n.default.errors,m),g.if((0,t._)`${n.default.vErrors} !== null`,()=>g.if(m,()=>g.assign((0,t._)`${n.default.vErrors}.length`,m),()=>g.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function u({gen:g,keyword:m,schemaValue:v,data:N,errsCount:R,it:O}){if(R===void 0)throw new Error("ajv implementation error");const G=g.name("err");g.forRange("i",R,n.default.errors,X=>{g.const(G,(0,t._)`${n.default.vErrors}[${X}]`),g.if((0,t._)`${G}.instancePath === undefined`,()=>g.assign((0,t._)`${G}.instancePath`,(0,t.strConcat)(n.default.instancePath,O.errorPath))),g.assign((0,t._)`${G}.schemaPath`,(0,t.str)`${O.errSchemaPath}/${m}`),O.opts.verbose&&(g.assign((0,t._)`${G}.schema`,v),g.assign((0,t._)`${G}.data`,N))})}e.extendErrors=u;function l(g,m){const v=g.const("err",m);g.if((0,t._)`${n.default.vErrors} === null`,()=>g.assign(n.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${n.default.vErrors}.push(${v})`),g.code((0,t._)`${n.default.errors}++`)}function c(g,m){const{gen:v,validateName:N,schemaEnv:R}=g;R.$async?v.throw((0,t._)`new ${g.ValidationError}(${m})`):(v.assign((0,t._)`${N}.errors`,m),v.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(g,m,v){const{createErrors:N}=g.it;return N===!1?(0,t._)`{}`:b(g,m,v)}function b(g,m,v={}){const{gen:N,it:R}=g,O=[_(R,v),y(g,v)];return w(g,m,O),N.object(...O)}function _({errorPath:g},{instancePath:m}){const v=m?(0,t.str)`${g}${(0,r.getErrorPath)(m,r.Type.Str)}`:g;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,v)]}function y({keyword:g,it:{errSchemaPath:m}},{schemaPath:v,parentSchema:N}){let R=N?m:(0,t.str)`${m}/${g}`;return v&&(R=(0,t.str)`${R}${(0,r.getErrorPath)(v,r.Type.Str)}`),[d.schemaPath,R]}function w(g,{params:m,message:v},N){const{keyword:R,data:O,schemaValue:G,it:X}=g,{opts:le,propertyName:he,topSchemaRef:$e,schemaPath:z}=X;N.push([d.keyword,R],[d.params,typeof m=="function"?m(g):m||(0,t._)`{}`]),le.messages&&N.push([d.message,typeof v=="function"?v(g):v]),le.verbose&&N.push([d.schema,G],[d.parentSchema,(0,t._)`${$e}${z}`],[n.default.data,O]),he&&N.push([d.propertyName,he])}})(on);Object.defineProperty(_r,"__esModule",{value:!0});_r.boolOrEmptySchema=_r.topBoolOrEmptySchema=void 0;const c0=on,l0=x,u0=ot,d0={message:"boolean schema is false"};function f0(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Gl(e,!1):typeof r=="object"&&r.$async===!0?t.return(u0.default.data):(t.assign((0,l0._)`${n}.errors`,null),t.return(!0))}_r.topBoolOrEmptySchema=f0;function h0(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Gl(e)):r.var(t,!0)}_r.boolOrEmptySchema=h0;function Gl(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,c0.reportError)(s,d0,void 0,t)}var ge={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.getRules=tr.isJSONType=void 0;const m0=["string","number","integer","boolean","null","object","array"],p0=new Set(m0);function $0(e){return typeof e=="string"&&p0.has(e)}tr.isJSONType=$0;function y0(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}tr.getRules=y0;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.shouldUseRule=ft.shouldUseGroup=ft.schemaHasRulesForType=void 0;function g0({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Kl(e,n)}ft.schemaHasRulesForType=g0;function Kl(e,t){return t.rules.some(r=>Hl(e,r))}ft.shouldUseGroup=Kl;function Hl(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}ft.shouldUseRule=Hl;Object.defineProperty(ge,"__esModule",{value:!0});ge.reportTypeError=ge.checkDataTypes=ge.checkDataType=ge.coerceAndCheckDataType=ge.getJSONTypes=ge.getSchemaTypes=ge.DataType=void 0;const _0=tr,v0=ft,w0=on,Q=x,Bl=C;var pr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(pr||(ge.DataType=pr={}));function E0(e){const t=Jl(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ge.getSchemaTypes=E0;function Jl(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(_0.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ge.getJSONTypes=Jl;function b0(e,t){const{gen:r,data:n,opts:s}=e,a=S0(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,v0.schemaHasRulesForType)(e,t[0]));if(o){const u=co(t,n,s.strictNumbers,pr.Wrong);r.if(u,()=>{a.length?P0(e,t,a):lo(e)})}return o}ge.coerceAndCheckDataType=b0;const Xl=new Set(["string","number","integer","boolean","null"]);function S0(e,t){return t?e.filter(r=>Xl.has(r)||t==="array"&&r==="array"):[]}function P0(e,t,r){const{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,Q._)`typeof ${s}`),u=n.let("coerced",(0,Q._)`undefined`);a.coerceTypes==="array"&&n.if((0,Q._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,Q._)`${s}[0]`).assign(o,(0,Q._)`typeof ${s}`).if(co(t,s,a.strictNumbers),()=>n.assign(u,s))),n.if((0,Q._)`${u} !== undefined`);for(const c of r)(Xl.has(c)||c==="array"&&a.coerceTypes==="array")&&l(c);n.else(),lo(e),n.endIf(),n.if((0,Q._)`${u} !== undefined`,()=>{n.assign(s,u),N0(e,u)});function l(c){switch(c){case"string":n.elseIf((0,Q._)`${o} == "number" || ${o} == "boolean"`).assign(u,(0,Q._)`"" + ${s}`).elseIf((0,Q._)`${s} === null`).assign(u,(0,Q._)`""`);return;case"number":n.elseIf((0,Q._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(u,(0,Q._)`+${s}`);return;case"integer":n.elseIf((0,Q._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,(0,Q._)`+${s}`);return;case"boolean":n.elseIf((0,Q._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf((0,Q._)`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf((0,Q._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf((0,Q._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(u,(0,Q._)`[${s}]`)}}}function N0({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,Q._)`${t} !== undefined`,()=>e.assign((0,Q._)`${t}[${r}]`,n))}function Ws(e,t,r,n=pr.Correct){const s=n===pr.Correct?Q.operators.EQ:Q.operators.NEQ;let a;switch(e){case"null":return(0,Q._)`${t} ${s} null`;case"array":a=(0,Q._)`Array.isArray(${t})`;break;case"object":a=(0,Q._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,Q._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,Q._)`typeof ${t} ${s} ${e}`}return n===pr.Correct?a:(0,Q.not)(a);function o(u=Q.nil){return(0,Q.and)((0,Q._)`typeof ${t} == "number"`,u,r?(0,Q._)`isFinite(${t})`:Q.nil)}}ge.checkDataType=Ws;function co(e,t,r,n){if(e.length===1)return Ws(e[0],t,r,n);let s;const a=(0,Bl.toHash)(e);if(a.array&&a.object){const o=(0,Q._)`typeof ${t} != "object"`;s=a.null?o:(0,Q._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=Q.nil;a.number&&delete a.integer;for(const o in a)s=(0,Q.and)(s,Ws(o,t,r,n));return s}ge.checkDataTypes=co;const R0={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Q._)`{type: ${e}}`:(0,Q._)`{type: ${t}}`};function lo(e){const t=O0(e);(0,w0.reportError)(t,R0)}ge.reportTypeError=lo;function O0(e){const{gen:t,data:r,schema:n}=e,s=(0,Bl.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var as={};Object.defineProperty(as,"__esModule",{value:!0});as.assignDefaults=void 0;const ar=x,I0=C;function T0(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Ui(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Ui(e,a,s.default))}as.assignDefaults=T0;function Ui(e,t,r){const{gen:n,compositeRule:s,data:a,opts:o}=e;if(r===void 0)return;const u=(0,ar._)`${a}${(0,ar.getProperty)(t)}`;if(s){(0,I0.checkStrictMode)(e,`default is ignored for: ${u}`);return}let l=(0,ar._)`${u} === undefined`;o.useDefaults==="empty"&&(l=(0,ar._)`${l} || ${u} === null || ${u} === ""`),n.if(l,(0,ar._)`${u} = ${(0,ar.stringify)(r)}`)}var at={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.validateUnion=te.validateArray=te.usePattern=te.callValidateCode=te.schemaProperties=te.allSchemaProperties=te.noPropertyInData=te.propertyInData=te.isOwnProperty=te.hasPropFunc=te.reportMissingProp=te.checkMissingProp=te.checkReportMissingProp=void 0;const ce=x,uo=C,wt=ot,j0=C;function k0(e,t){const{gen:r,data:n,it:s}=e;r.if(ho(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ce._)`${t}`},!0),e.error()})}te.checkReportMissingProp=k0;function A0({gen:e,data:t,it:{opts:r}},n,s){return(0,ce.or)(...n.map(a=>(0,ce.and)(ho(e,t,a,r.ownProperties),(0,ce._)`${s} = ${a}`)))}te.checkMissingProp=A0;function C0(e,t){e.setParams({missingProperty:t},!0),e.error()}te.reportMissingProp=C0;function Wl(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ce._)`Object.prototype.hasOwnProperty`})}te.hasPropFunc=Wl;function fo(e,t,r){return(0,ce._)`${Wl(e)}.call(${t}, ${r})`}te.isOwnProperty=fo;function D0(e,t,r,n){const s=(0,ce._)`${t}${(0,ce.getProperty)(r)} !== undefined`;return n?(0,ce._)`${s} && ${fo(e,t,r)}`:s}te.propertyInData=D0;function ho(e,t,r,n){const s=(0,ce._)`${t}${(0,ce.getProperty)(r)} === undefined`;return n?(0,ce.or)(s,(0,ce.not)(fo(e,t,r))):s}te.noPropertyInData=ho;function Yl(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}te.allSchemaProperties=Yl;function M0(e,t){return Yl(t).filter(r=>!(0,uo.alwaysValidSchema)(e,t[r]))}te.schemaProperties=M0;function V0({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},u,l,c){const d=c?(0,ce._)`${e}, ${t}, ${n}${s}`:t,h=[[wt.default.instancePath,(0,ce.strConcat)(wt.default.instancePath,a)],[wt.default.parentData,o.parentData],[wt.default.parentDataProperty,o.parentDataProperty],[wt.default.rootData,wt.default.rootData]];o.opts.dynamicRef&&h.push([wt.default.dynamicAnchors,wt.default.dynamicAnchors]);const b=(0,ce._)`${d}, ${r.object(...h)}`;return l!==ce.nil?(0,ce._)`${u}.call(${l}, ${b})`:(0,ce._)`${u}(${b})`}te.callValidateCode=V0;const L0=(0,ce._)`new RegExp`;function F0({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,ce._)`${s.code==="new RegExp"?L0:(0,j0.useFunc)(e,s)}(${r}, ${n})`})}te.usePattern=F0;function z0(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const u=t.let("valid",!0);return o(()=>t.assign(u,!1)),u}return t.var(a,!0),o(()=>t.break()),a;function o(u){const l=t.const("len",(0,ce._)`${r}.length`);t.forRange("i",0,l,c=>{e.subschema({keyword:n,dataProp:c,dataPropType:uo.Type.Num},a),t.if((0,ce.not)(a),u)})}}te.validateArray=z0;function U0(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,uo.alwaysValidSchema)(s,l))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((l,c)=>{const d=e.subschema({keyword:n,schemaProp:c,compositeRule:!0},u);t.assign(o,(0,ce._)`${o} || ${u}`),e.mergeValidEvaluated(d,u)||t.if((0,ce.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}te.validateUnion=U0;Object.defineProperty(at,"__esModule",{value:!0});at.validateKeywordUsage=at.validSchemaType=at.funcKeywordCode=at.macroKeywordCode=void 0;const Te=x,Yt=ot,q0=te,G0=on;function K0(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=e,u=t.macro.call(o.self,s,a,o),l=Ql(r,n,u);o.opts.validateSchema!==!1&&o.self.validateSchema(u,!0);const c=r.name("valid");e.subschema({schema:u,schemaPath:Te.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}at.macroKeywordCode=K0;function H0(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:o,$data:u,it:l}=e;J0(l,t);const c=!u&&t.compile?t.compile.call(l.self,a,o,l):t.validate,d=Ql(n,s,c),h=n.let("valid");e.block$data(h,b),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function b(){if(t.errors===!1)w(),t.modifying&&qi(e),g(()=>e.error());else{const m=t.async?_():y();t.modifying&&qi(e),g(()=>B0(e,m))}}function _(){const m=n.let("ruleErrs",null);return n.try(()=>w((0,Te._)`await `),v=>n.assign(h,!1).if((0,Te._)`${v} instanceof ${l.ValidationError}`,()=>n.assign(m,(0,Te._)`${v}.errors`),()=>n.throw(v))),m}function y(){const m=(0,Te._)`${d}.errors`;return n.assign(m,null),w(Te.nil),m}function w(m=t.async?(0,Te._)`await `:Te.nil){const v=l.opts.passContext?Yt.default.this:Yt.default.self,N=!("compile"in t&&!u||t.schema===!1);n.assign(h,(0,Te._)`${m}${(0,q0.callValidateCode)(e,d,v,N)}`,t.modifying)}function g(m){var v;n.if((0,Te.not)((v=t.valid)!==null&&v!==void 0?v:h),m)}}at.funcKeywordCode=H0;function qi(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Te._)`${n.parentData}[${n.parentDataProperty}]`))}function B0(e,t){const{gen:r}=e;r.if((0,Te._)`Array.isArray(${t})`,()=>{r.assign(Yt.default.vErrors,(0,Te._)`${Yt.default.vErrors} === null ? ${t} : ${Yt.default.vErrors}.concat(${t})`).assign(Yt.default.errors,(0,Te._)`${Yt.default.vErrors}.length`),(0,G0.extendErrors)(e)},()=>e.error())}function J0({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Ql(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Te.stringify)(r)})}function X0(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}at.validSchemaType=X0;function W0({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(u=>!Object.prototype.hasOwnProperty.call(e,u)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const l=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}at.validateKeywordUsage=W0;var It={};Object.defineProperty(It,"__esModule",{value:!0});It.extendSubschemaMode=It.extendSubschemaData=It.getSubschema=void 0;const rt=x,Zl=C;function Y0(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const u=e.schema[t];return r===void 0?{schema:u,schemaPath:(0,rt._)`${e.schemaPath}${(0,rt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:u[r],schemaPath:(0,rt._)`${e.schemaPath}${(0,rt.getProperty)(t)}${(0,rt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Zl.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}It.getSubschema=Y0;function Q0(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(r!==void 0){const{errorPath:c,dataPathArr:d,opts:h}=t,b=u.let("data",(0,rt._)`${t.data}${(0,rt.getProperty)(r)}`,!0);l(b),e.errorPath=(0,rt.str)`${c}${(0,Zl.getErrorPath)(r,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,rt._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){const c=s instanceof rt.Name?s:u.let("data",s,!0);l(c),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function l(c){e.data=c,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,c]}}It.extendSubschemaData=Q0;function Z0(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}It.extendSubschemaMode=Z0;var Se={},xl={exports:{}},Rt=xl.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};An(t,n,s,e,"",e)};Rt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Rt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Rt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Rt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function An(e,t,r,n,s,a,o,u,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,u,l,c);for(var d in n){var h=n[d];if(Array.isArray(h)){if(d in Rt.arrayKeywords)for(var b=0;b<h.length;b++)An(e,t,r,h[b],s+"/"+d+"/"+b,a,s,d,n,b)}else if(d in Rt.propsKeywords){if(h&&typeof h=="object")for(var _ in h)An(e,t,r,h[_],s+"/"+d+"/"+x0(_),a,s,d,n,_)}else(d in Rt.keywords||e.allKeys&&!(d in Rt.skipKeywords))&&An(e,t,r,h,s+"/"+d,a,s,d,n)}r(n,s,a,o,u,l,c)}}function x0(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var eg=xl.exports;Object.defineProperty(Se,"__esModule",{value:!0});Se.getSchemaRefs=Se.resolveUrl=Se.normalizeId=Se._getFullPath=Se.getFullPath=Se.inlineRef=void 0;const tg=C,rg=Zn,ng=eg,sg=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function ag(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Ys(e):t?eu(e)<=t:!1}Se.inlineRef=ag;const og=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ys(e){for(const t in e){if(og.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Ys)||typeof r=="object"&&Ys(r))return!0}return!1}function eu(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!sg.has(r)&&(typeof e[r]=="object"&&(0,tg.eachItem)(e[r],n=>t+=eu(n)),t===1/0))return 1/0}return t}function tu(e,t="",r){r!==!1&&(t=$r(t));const n=e.parse(t);return ru(e,n)}Se.getFullPath=tu;function ru(e,t){return e.serialize(t).split("#")[0]+"#"}Se._getFullPath=ru;const ig=/#\/?$/;function $r(e){return e?e.replace(ig,""):""}Se.normalizeId=$r;function cg(e,t,r){return r=$r(r),e.resolve(t,r)}Se.resolveUrl=cg;const lg=/^[a-z_][-a-z0-9._]*$/i;function ug(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=$r(e[r]||t),a={"":s},o=tu(n,s,!1),u={},l=new Set;return ng(e,{allKeys:!0},(h,b,_,y)=>{if(y===void 0)return;const w=o+b;let g=a[y];typeof h[r]=="string"&&(g=m.call(this,h[r])),v.call(this,h.$anchor),v.call(this,h.$dynamicAnchor),a[b]=g;function m(N){const R=this.opts.uriResolver.resolve;if(N=$r(g?R(g,N):N),l.has(N))throw d(N);l.add(N);let O=this.refs[N];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?c(h,O.schema,N):N!==$r(w)&&(N[0]==="#"?(c(h,u[N],N),u[N]=h):this.refs[N]=w),N}function v(N){if(typeof N=="string"){if(!lg.test(N))throw new Error(`invalid anchor "${N}"`);m.call(this,`#${N}`)}}}),u;function c(h,b,_){if(b!==void 0&&!rg(h,b))throw d(_)}function d(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Se.getSchemaRefs=ug;Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getData=Ye.KeywordCxt=Ye.validateFunctionCode=void 0;const nu=_r,Gi=ge,mo=ft,Kn=ge,dg=as,Yr=at,Ss=It,q=x,J=ot,fg=Se,ht=C,Lr=on;function hg(e){if(ou(e)&&(iu(e),au(e))){$g(e);return}su(e,()=>(0,nu.topBoolOrEmptySchema)(e))}Ye.validateFunctionCode=hg;function su({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,q._)`${J.default.data}, ${J.default.valCxt}`,n.$async,()=>{e.code((0,q._)`"use strict"; ${Ki(r,s)}`),pg(e,s),e.code(a)}):e.func(t,(0,q._)`${J.default.data}, ${mg(s)}`,n.$async,()=>e.code(Ki(r,s)).code(a))}function mg(e){return(0,q._)`{${J.default.instancePath}="", ${J.default.parentData}, ${J.default.parentDataProperty}, ${J.default.rootData}=${J.default.data}${e.dynamicRef?(0,q._)`, ${J.default.dynamicAnchors}={}`:q.nil}}={}`}function pg(e,t){e.if(J.default.valCxt,()=>{e.var(J.default.instancePath,(0,q._)`${J.default.valCxt}.${J.default.instancePath}`),e.var(J.default.parentData,(0,q._)`${J.default.valCxt}.${J.default.parentData}`),e.var(J.default.parentDataProperty,(0,q._)`${J.default.valCxt}.${J.default.parentDataProperty}`),e.var(J.default.rootData,(0,q._)`${J.default.valCxt}.${J.default.rootData}`),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,q._)`${J.default.valCxt}.${J.default.dynamicAnchors}`)},()=>{e.var(J.default.instancePath,(0,q._)`""`),e.var(J.default.parentData,(0,q._)`undefined`),e.var(J.default.parentDataProperty,(0,q._)`undefined`),e.var(J.default.rootData,J.default.data),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,q._)`{}`)})}function $g(e){const{schema:t,opts:r,gen:n}=e;su(e,()=>{r.$comment&&t.$comment&&lu(e),wg(e),n.let(J.default.vErrors,null),n.let(J.default.errors,0),r.unevaluated&&yg(e),cu(e),Sg(e)})}function yg(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,q._)`${r}.evaluated`),t.if((0,q._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,q._)`${e.evaluated}.props`,(0,q._)`undefined`)),t.if((0,q._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,q._)`${e.evaluated}.items`,(0,q._)`undefined`))}function Ki(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,q._)`/*# sourceURL=${r} */`:q.nil}function gg(e,t){if(ou(e)&&(iu(e),au(e))){_g(e,t);return}(0,nu.boolOrEmptySchema)(e,t)}function au({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function ou(e){return typeof e.schema!="boolean"}function _g(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&lu(e),Eg(e),bg(e);const a=n.const("_errs",J.default.errors);cu(e,a),n.var(t,(0,q._)`${a} === ${J.default.errors}`)}function iu(e){(0,ht.checkUnknownRules)(e),vg(e)}function cu(e,t){if(e.opts.jtd)return Hi(e,[],!1,t);const r=(0,Gi.getSchemaTypes)(e.schema),n=(0,Gi.coerceAndCheckDataType)(e,r);Hi(e,r,!n,t)}function vg(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,ht.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function wg(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ht.checkStrictMode)(e,"default is ignored in the schema root")}function Eg(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,fg.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function bg(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function lu({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,q._)`${J.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const o=(0,q.str)`${n}/$comment`,u=e.scopeValue("root",{ref:t.root});e.code((0,q._)`${J.default.self}.opts.$comment(${a}, ${o}, ${u}.schema)`)}}function Sg(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,q._)`${J.default.errors} === 0`,()=>t.return(J.default.data),()=>t.throw((0,q._)`new ${s}(${J.default.vErrors})`)):(t.assign((0,q._)`${n}.errors`,J.default.vErrors),a.unevaluated&&Pg(e),t.return((0,q._)`${J.default.errors} === 0`))}function Pg({gen:e,evaluated:t,props:r,items:n}){r instanceof q.Name&&e.assign((0,q._)`${t}.props`,r),n instanceof q.Name&&e.assign((0,q._)`${t}.items`,n)}function Hi(e,t,r,n){const{gen:s,schema:a,data:o,allErrors:u,opts:l,self:c}=e,{RULES:d}=c;if(a.$ref&&(l.ignoreKeywordsWithRef||!(0,ht.schemaHasRulesButRef)(a,d))){s.block(()=>fu(e,"$ref",d.all.$ref.definition));return}l.jtd||Ng(e,t),s.block(()=>{for(const b of d.rules)h(b);h(d.post)});function h(b){(0,mo.shouldUseGroup)(a,b)&&(b.type?(s.if((0,Kn.checkDataType)(b.type,o,l.strictNumbers)),Bi(e,b),t.length===1&&t[0]===b.type&&r&&(s.else(),(0,Kn.reportTypeError)(e)),s.endIf()):Bi(e,b),u||s.if((0,q._)`${J.default.errors} === ${n||0}`))}}function Bi(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,dg.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,mo.shouldUseRule)(n,a)&&fu(e,a.keyword,a.definition,t.type)})}function Ng(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Rg(e,t),e.opts.allowUnionTypes||Og(e,t),Ig(e,e.dataTypes))}function Rg(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{uu(e.dataTypes,r)||po(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),jg(e,t)}}function Og(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&po(e,"use allowUnionTypes to allow union type keyword")}function Ig(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,mo.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(o=>Tg(t,o))&&po(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function Tg(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function uu(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function jg(e,t){const r=[];for(const n of e.dataTypes)uu(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function po(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ht.checkStrictMode)(e,t,e.opts.strictTypes)}class du{constructor(t,r,n){if((0,Yr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ht.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",hu(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Yr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",J.default.errors))}result(t,r,n){this.failResult((0,q.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,q.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,q._)`${r} !== undefined && (${(0,q.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Lr.reportExtraError:Lr.reportError)(this,this.def.error,r)}$dataError(){(0,Lr.reportError)(this,this.def.$dataError||Lr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Lr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=q.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=q.nil,r=q.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,q.or)((0,q._)`${s} === undefined`,r)),t!==q.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==q.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,q.or)(o(),u());function o(){if(n.length){if(!(r instanceof q.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,q._)`${(0,Kn.checkDataTypes)(l,r,a.opts.strictNumbers,Kn.DataType.Wrong)}`}return q.nil}function u(){if(s.validateSchema){const l=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,q._)`!${l}(${r})`}return q.nil}}subschema(t,r){const n=(0,Ss.getSubschema)(this.it,t);(0,Ss.extendSubschemaData)(n,this.it,t),(0,Ss.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return gg(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=ht.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=ht.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,q.Name)),!0}}Ye.KeywordCxt=du;function fu(e,t,r,n){const s=new du(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Yr.funcKeywordCode)(s,r):"macro"in r?(0,Yr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Yr.funcKeywordCode)(s,r)}const kg=/^\/(?:[^~]|~0|~1)*$/,Ag=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function hu(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return J.default.rootData;if(e[0]==="/"){if(!kg.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=J.default.rootData}else{const c=Ag.exec(e);if(!c)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+c[1];if(s=c[2],s==="#"){if(d>=t)throw new Error(l("property/index",d));return n[t-d]}if(d>t)throw new Error(l("data",d));if(a=r[t-d],!s)return a}let o=a;const u=s.split("/");for(const c of u)c&&(a=(0,q._)`${a}${(0,q.getProperty)((0,ht.unescapeJsonPointer)(c))}`,o=(0,q._)`${o} && ${a}`);return o;function l(c,d){return`Cannot access ${c} ${d} levels up, current level is ${t}`}}Ye.getData=hu;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});class Cg extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}cn.default=Cg;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});const Ps=Se;class Dg extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Ps.resolveUrl)(t,r,n),this.missingSchema=(0,Ps.normalizeId)((0,Ps.getFullPath)(t,this.missingRef))}}Nr.default=Dg;var De={};Object.defineProperty(De,"__esModule",{value:!0});De.resolveSchema=De.getCompilingSchema=De.resolveRef=De.compileSchema=De.SchemaEnv=void 0;const Ke=x,Mg=cn,Ht=ot,Xe=Se,Ji=C,Vg=Ye;class os{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Xe.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}De.SchemaEnv=os;function $o(e){const t=mu.call(this,e);if(t)return t;const r=(0,Xe.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Ke.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let u;e.$async&&(u=o.scopeValue("Error",{ref:Mg.default,code:(0,Ke._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const c={gen:o,allErrors:this.opts.allErrors,data:Ht.default.data,parentData:Ht.default.parentData,parentDataProperty:Ht.default.parentDataProperty,dataNames:[Ht.default.data],dataPathArr:[Ke.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ke.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ke.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ke._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,Vg.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);const h=o.toString();d=`${o.scopeRefs(Ht.default.scope)}return ${h}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const _=new Function(`${Ht.default.self}`,`${Ht.default.scope}`,d)(this,this.scope.get());if(this.scope.value(l,{ref:_}),_.errors=null,_.schema=e.schema,_.schemaEnv=e,e.$async&&(_.$async=!0),this.opts.code.source===!0&&(_.source={validateName:l,validateCode:h,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:w}=c;_.evaluated={props:y instanceof Ke.Name?void 0:y,items:w instanceof Ke.Name?void 0:w,dynamicProps:y instanceof Ke.Name,dynamicItems:w instanceof Ke.Name},_.source&&(_.source.evaluated=(0,Ke.stringify)(_.evaluated))}return e.validate=_,e}catch(h){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),h}finally{this._compilations.delete(e)}}De.compileSchema=$o;function Lg(e,t,r){var n;r=(0,Xe.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=Ug.call(this,e,r);if(a===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;o&&(a=new os({schema:o,schemaId:u,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=Fg.call(this,a)}De.resolveRef=Lg;function Fg(e){return(0,Xe.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:$o.call(this,e)}function mu(e){for(const t of this._compilations)if(zg(t,e))return t}De.getCompilingSchema=mu;function zg(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Ug(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||is.call(this,e,t)}function is(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Xe._getFullPath)(this.opts.uriResolver,r);let s=(0,Xe.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Ns.call(this,r,e);const a=(0,Xe.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const u=is.call(this,e,o);return typeof(u==null?void 0:u.schema)!="object"?void 0:Ns.call(this,r,u)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||$o.call(this,o),a===(0,Xe.normalizeId)(t)){const{schema:u}=o,{schemaId:l}=this.opts,c=u[l];return c&&(s=(0,Xe.resolveUrl)(this.opts.uriResolver,s,c)),new os({schema:u,schemaId:l,root:e,baseId:s})}return Ns.call(this,r,o)}}De.resolveSchema=is;const qg=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ns(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Ji.unescapeFragment)(u)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!qg.has(u)&&c&&(t=(0,Xe.resolveUrl)(this.opts.uriResolver,t,c))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Ji.schemaHasRulesButRef)(r,this.RULES)){const u=(0,Xe.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=is.call(this,n,u)}const{schemaId:o}=this.opts;if(a=a||new os({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}const Gg="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Kg="Meta-schema for $data reference (JSON AnySchema extension proposal)",Hg="object",Bg=["$data"],Jg={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Xg=!1,Wg={$id:Gg,description:Kg,type:Hg,required:Bg,properties:Jg,additionalProperties:Xg};var yo={};Object.defineProperty(yo,"__esModule",{value:!0});const pu=Sl;pu.code='require("ajv/dist/runtime/uri").default';yo.default=pu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ye;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=x;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=cn,s=Nr,a=tr,o=De,u=x,l=Se,c=ge,d=C,h=Wg,b=yo,_=(P,p)=>new RegExp(P,p);_.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function N(P){var p,S,$,i,f,E,I,j,F,L,re,Me,Tt,jt,kt,At,Ct,Dt,Mt,Vt,Lt,Ft,zt,Ut,qt;const qe=P.strict,Gt=(p=P.code)===null||p===void 0?void 0:p.optimize,Tr=Gt===!0||Gt===void 0?1:Gt||0,jr=($=(S=P.code)===null||S===void 0?void 0:S.regExp)!==null&&$!==void 0?$:_,ps=(i=P.uriResolver)!==null&&i!==void 0?i:b.default;return{strictSchema:(E=(f=P.strictSchema)!==null&&f!==void 0?f:qe)!==null&&E!==void 0?E:!0,strictNumbers:(j=(I=P.strictNumbers)!==null&&I!==void 0?I:qe)!==null&&j!==void 0?j:!0,strictTypes:(L=(F=P.strictTypes)!==null&&F!==void 0?F:qe)!==null&&L!==void 0?L:"log",strictTuples:(Me=(re=P.strictTuples)!==null&&re!==void 0?re:qe)!==null&&Me!==void 0?Me:"log",strictRequired:(jt=(Tt=P.strictRequired)!==null&&Tt!==void 0?Tt:qe)!==null&&jt!==void 0?jt:!1,code:P.code?{...P.code,optimize:Tr,regExp:jr}:{optimize:Tr,regExp:jr},loopRequired:(kt=P.loopRequired)!==null&&kt!==void 0?kt:v,loopEnum:(At=P.loopEnum)!==null&&At!==void 0?At:v,meta:(Ct=P.meta)!==null&&Ct!==void 0?Ct:!0,messages:(Dt=P.messages)!==null&&Dt!==void 0?Dt:!0,inlineRefs:(Mt=P.inlineRefs)!==null&&Mt!==void 0?Mt:!0,schemaId:(Vt=P.schemaId)!==null&&Vt!==void 0?Vt:"$id",addUsedSchema:(Lt=P.addUsedSchema)!==null&&Lt!==void 0?Lt:!0,validateSchema:(Ft=P.validateSchema)!==null&&Ft!==void 0?Ft:!0,validateFormats:(zt=P.validateFormats)!==null&&zt!==void 0?zt:!0,unicodeRegExp:(Ut=P.unicodeRegExp)!==null&&Ut!==void 0?Ut:!0,int32range:(qt=P.int32range)!==null&&qt!==void 0?qt:!0,uriResolver:ps}}class R{constructor(p={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,p=this.opts={...p,...N(p)};const{es5:S,lines:$}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:w,es5:S,lines:$}),this.logger=H(p.logger);const i=p.validateFormats;p.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,g,p,"NOT SUPPORTED"),O.call(this,m,p,"DEPRECATED","warn"),this._metaOpts=$e.call(this),p.formats&&le.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),p.keywords&&he.call(this,p.keywords),typeof p.meta=="object"&&this.addMetaSchema(p.meta),X.call(this),p.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:p,meta:S,schemaId:$}=this.opts;let i=h;$==="id"&&(i={...h},i.id=i.$id,delete i.$id),S&&p&&this.addMetaSchema(i,i[$],!1)}defaultMeta(){const{meta:p,schemaId:S}=this.opts;return this.opts.defaultMeta=typeof p=="object"?p[S]||p:void 0}validate(p,S){let $;if(typeof p=="string"){if($=this.getSchema(p),!$)throw new Error(`no schema with key or ref "${p}"`)}else $=this.compile(p);const i=$(S);return"$async"in $||(this.errors=$.errors),i}compile(p,S){const $=this._addSchema(p,S);return $.validate||this._compileSchemaEnv($)}compileAsync(p,S){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:$}=this.opts;return i.call(this,p,S);async function i(L,re){await f.call(this,L.$schema);const Me=this._addSchema(L,re);return Me.validate||E.call(this,Me)}async function f(L){L&&!this.getSchema(L)&&await i.call(this,{$ref:L},!0)}async function E(L){try{return this._compileSchemaEnv(L)}catch(re){if(!(re instanceof s.default))throw re;return I.call(this,re),await j.call(this,re.missingSchema),E.call(this,L)}}function I({missingSchema:L,missingRef:re}){if(this.refs[L])throw new Error(`AnySchema ${L} is loaded but ${re} cannot be resolved`)}async function j(L){const re=await F.call(this,L);this.refs[L]||await f.call(this,re.$schema),this.refs[L]||this.addSchema(re,L,S)}async function F(L){const re=this._loading[L];if(re)return re;try{return await(this._loading[L]=$(L))}finally{delete this._loading[L]}}}addSchema(p,S,$,i=this.opts.validateSchema){if(Array.isArray(p)){for(const E of p)this.addSchema(E,void 0,$,i);return this}let f;if(typeof p=="object"){const{schemaId:E}=this.opts;if(f=p[E],f!==void 0&&typeof f!="string")throw new Error(`schema ${E} must be string`)}return S=(0,l.normalizeId)(S||f),this._checkUnique(S),this.schemas[S]=this._addSchema(p,$,S,i,!0),this}addMetaSchema(p,S,$=this.opts.validateSchema){return this.addSchema(p,S,!0,$),this}validateSchema(p,S){if(typeof p=="boolean")return!0;let $;if($=p.$schema,$!==void 0&&typeof $!="string")throw new Error("$schema must be a string");if($=$||this.opts.defaultMeta||this.defaultMeta(),!$)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate($,p);if(!i&&S){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return i}getSchema(p){let S;for(;typeof(S=G.call(this,p))=="string";)p=S;if(S===void 0){const{schemaId:$}=this.opts,i=new o.SchemaEnv({schema:{},schemaId:$});if(S=o.resolveSchema.call(this,i,p),!S)return;this.refs[p]=S}return S.validate||this._compileSchemaEnv(S)}removeSchema(p){if(p instanceof RegExp)return this._removeAllSchemas(this.schemas,p),this._removeAllSchemas(this.refs,p),this;switch(typeof p){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const S=G.call(this,p);return typeof S=="object"&&this._cache.delete(S.schema),delete this.schemas[p],delete this.refs[p],this}case"object":{const S=p;this._cache.delete(S);let $=p[this.opts.schemaId];return $&&($=(0,l.normalizeId)($),delete this.schemas[$],delete this.refs[$]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(p){for(const S of p)this.addKeyword(S);return this}addKeyword(p,S){let $;if(typeof p=="string")$=p,typeof S=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),S.keyword=$);else if(typeof p=="object"&&S===void 0){if(S=p,$=S.keyword,Array.isArray($)&&!$.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(T.call(this,$,S),!S)return(0,d.eachItem)($,f=>k.call(this,f)),this;D.call(this,S);const i={...S,type:(0,c.getJSONTypes)(S.type),schemaType:(0,c.getJSONTypes)(S.schemaType)};return(0,d.eachItem)($,i.type.length===0?f=>k.call(this,f,i):f=>i.type.forEach(E=>k.call(this,f,i,E))),this}getKeyword(p){const S=this.RULES.all[p];return typeof S=="object"?S.definition:!!S}removeKeyword(p){const{RULES:S}=this;delete S.keywords[p],delete S.all[p];for(const $ of S.rules){const i=$.rules.findIndex(f=>f.keyword===p);i>=0&&$.rules.splice(i,1)}return this}addFormat(p,S){return typeof S=="string"&&(S=new RegExp(S)),this.formats[p]=S,this}errorsText(p=this.errors,{separator:S=", ",dataVar:$="data"}={}){return!p||p.length===0?"No errors":p.map(i=>`${$}${i.instancePath} ${i.message}`).reduce((i,f)=>i+S+f)}$dataMetaSchema(p,S){const $=this.RULES.all;p=JSON.parse(JSON.stringify(p));for(const i of S){const f=i.split("/").slice(1);let E=p;for(const I of f)E=E[I];for(const I in $){const j=$[I];if(typeof j!="object")continue;const{$data:F}=j.definition,L=E[I];F&&L&&(E[I]=M(L))}}return p}_removeAllSchemas(p,S){for(const $ in p){const i=p[$];(!S||S.test($))&&(typeof i=="string"?delete p[$]:i&&!i.meta&&(this._cache.delete(i.schema),delete p[$]))}}_addSchema(p,S,$,i=this.opts.validateSchema,f=this.opts.addUsedSchema){let E;const{schemaId:I}=this.opts;if(typeof p=="object")E=p[I];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof p!="boolean")throw new Error("schema must be object or boolean")}let j=this._cache.get(p);if(j!==void 0)return j;$=(0,l.normalizeId)(E||$);const F=l.getSchemaRefs.call(this,p,$);return j=new o.SchemaEnv({schema:p,schemaId:I,meta:S,baseId:$,localRefs:F}),this._cache.set(j.schema,j),f&&!$.startsWith("#")&&($&&this._checkUnique($),this.refs[$]=j),i&&this.validateSchema(p,!0),j}_checkUnique(p){if(this.schemas[p]||this.refs[p])throw new Error(`schema with key or id "${p}" already exists`)}_compileSchemaEnv(p){if(p.meta?this._compileMetaSchema(p):o.compileSchema.call(this,p),!p.validate)throw new Error("ajv implementation error");return p.validate}_compileMetaSchema(p){const S=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,p)}finally{this.opts=S}}}R.ValidationError=n.default,R.MissingRefError=s.default,e.default=R;function O(P,p,S,$="error"){for(const i in P){const f=i;f in p&&this.logger[$](`${S}: option ${i}. ${P[f]}`)}}function G(P){return P=(0,l.normalizeId)(P),this.schemas[P]||this.refs[P]}function X(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const p in P)this.addSchema(P[p],p)}function le(){for(const P in this.opts.formats){const p=this.opts.formats[P];p&&this.addFormat(P,p)}}function he(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const p in P){const S=P[p];S.keyword||(S.keyword=p),this.addKeyword(S)}}function $e(){const P={...this.opts};for(const p of y)delete P[p];return P}const z={log(){},warn(){},error(){}};function H(P){if(P===!1)return z;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const ne=/^[a-z_$][a-z0-9_$:-]*$/i;function T(P,p){const{RULES:S}=this;if((0,d.eachItem)(P,$=>{if(S.keywords[$])throw new Error(`Keyword ${$} is already defined`);if(!ne.test($))throw new Error(`Keyword ${$} has invalid name`)}),!!p&&p.$data&&!("code"in p||"validate"in p))throw new Error('$data keyword must have "code" or "validate" function')}function k(P,p,S){var $;const i=p==null?void 0:p.post;if(S&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let E=i?f.post:f.rules.find(({type:j})=>j===S);if(E||(E={type:S,rules:[]},f.rules.push(E)),f.keywords[P]=!0,!p)return;const I={keyword:P,definition:{...p,type:(0,c.getJSONTypes)(p.type),schemaType:(0,c.getJSONTypes)(p.schemaType)}};p.before?V.call(this,E,I,p.before):E.rules.push(I),f.all[P]=I,($=p.implements)===null||$===void 0||$.forEach(j=>this.addKeyword(j))}function V(P,p,S){const $=P.rules.findIndex(i=>i.keyword===S);$>=0?P.rules.splice($,0,p):(P.rules.push(p),this.logger.warn(`rule ${S} is not defined`))}function D(P){let{metaSchema:p}=P;p!==void 0&&(P.$data&&this.opts.$data&&(p=M(p)),P.validateSchema=this.compile(p,!0))}const K={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function M(P){return{anyOf:[P,K]}}})(Vl);var go={},_o={},vo={};Object.defineProperty(vo,"__esModule",{value:!0});const Yg={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};vo.default=Yg;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.callRef=rr.getValidate=void 0;const Qg=Nr,Xi=te,Ce=x,or=ot,Wi=De,yn=C,Zg={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:u,self:l}=n,{root:c}=a;if((r==="#"||r==="#/")&&s===c.baseId)return h();const d=Wi.resolveRef.call(l,c,s,r);if(d===void 0)throw new Qg.default(n.opts.uriResolver,s,r);if(d instanceof Wi.SchemaEnv)return b(d);return _(d);function h(){if(a===c)return Cn(e,o,a,a.$async);const y=t.scopeValue("root",{ref:c});return Cn(e,(0,Ce._)`${y}.validate`,c,c.$async)}function b(y){const w=$u(e,y);Cn(e,w,y,y.$async)}function _(y){const w=t.scopeValue("schema",u.code.source===!0?{ref:y,code:(0,Ce.stringify)(y)}:{ref:y}),g=t.name("valid"),m=e.subschema({schema:y,dataTypes:[],schemaPath:Ce.nil,topSchemaRef:w,errSchemaPath:r},g);e.mergeEvaluated(m),e.ok(g)}}};function $u(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ce._)`${r.scopeValue("wrapper",{ref:t})}.validate`}rr.getValidate=$u;function Cn(e,t,r,n){const{gen:s,it:a}=e,{allErrors:o,schemaEnv:u,opts:l}=a,c=l.passContext?or.default.this:Ce.nil;n?d():h();function d(){if(!u.$async)throw new Error("async schema referenced by sync schema");const y=s.let("valid");s.try(()=>{s.code((0,Ce._)`await ${(0,Xi.callValidateCode)(e,t,c)}`),_(t),o||s.assign(y,!0)},w=>{s.if((0,Ce._)`!(${w} instanceof ${a.ValidationError})`,()=>s.throw(w)),b(w),o||s.assign(y,!1)}),e.ok(y)}function h(){e.result((0,Xi.callValidateCode)(e,t,c),()=>_(t),()=>b(t))}function b(y){const w=(0,Ce._)`${y}.errors`;s.assign(or.default.vErrors,(0,Ce._)`${or.default.vErrors} === null ? ${w} : ${or.default.vErrors}.concat(${w})`),s.assign(or.default.errors,(0,Ce._)`${or.default.vErrors}.length`)}function _(y){var w;if(!a.opts.unevaluated)return;const g=(w=r==null?void 0:r.validate)===null||w===void 0?void 0:w.evaluated;if(a.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(a.props=yn.mergeEvaluated.props(s,g.props,a.props));else{const m=s.var("props",(0,Ce._)`${y}.evaluated.props`);a.props=yn.mergeEvaluated.props(s,m,a.props,Ce.Name)}if(a.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(a.items=yn.mergeEvaluated.items(s,g.items,a.items));else{const m=s.var("items",(0,Ce._)`${y}.evaluated.items`);a.items=yn.mergeEvaluated.items(s,m,a.items,Ce.Name)}}}rr.callRef=Cn;rr.default=Zg;Object.defineProperty(_o,"__esModule",{value:!0});const xg=vo,e_=rr,t_=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",xg.default,e_.default];_o.default=t_;var wo={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});const Hn=x,Et=Hn.operators,Bn={maximum:{okStr:"<=",ok:Et.LTE,fail:Et.GT},minimum:{okStr:">=",ok:Et.GTE,fail:Et.LT},exclusiveMaximum:{okStr:"<",ok:Et.LT,fail:Et.GTE},exclusiveMinimum:{okStr:">",ok:Et.GT,fail:Et.LTE}},r_={message:({keyword:e,schemaCode:t})=>(0,Hn.str)`must be ${Bn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Hn._)`{comparison: ${Bn[e].okStr}, limit: ${t}}`},n_={keyword:Object.keys(Bn),type:"number",schemaType:"number",$data:!0,error:r_,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Hn._)`${r} ${Bn[t].fail} ${n} || isNaN(${r})`)}};Eo.default=n_;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});const Qr=x,s_={message:({schemaCode:e})=>(0,Qr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Qr._)`{multipleOf: ${e}}`},a_={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:s_,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),u=a?(0,Qr._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,Qr._)`${o} !== parseInt(${o})`;e.fail$data((0,Qr._)`(${n} === 0 || (${o} = ${r}/${n}, ${u}))`)}};bo.default=a_;var So={},Po={};Object.defineProperty(Po,"__esModule",{value:!0});function yu(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Po.default=yu;yu.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(So,"__esModule",{value:!0});const Qt=x,o_=C,i_=Po,c_={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Qt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Qt._)`{limit: ${e}}`},l_={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:c_,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?Qt.operators.GT:Qt.operators.LT,o=s.opts.unicode===!1?(0,Qt._)`${r}.length`:(0,Qt._)`${(0,o_.useFunc)(e.gen,i_.default)}(${r})`;e.fail$data((0,Qt._)`${o} ${a} ${n}`)}};So.default=l_;var No={};Object.defineProperty(No,"__esModule",{value:!0});const u_=te,Jn=x,d_={message:({schemaCode:e})=>(0,Jn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Jn._)`{pattern: ${e}}`},f_={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:d_,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",u=r?(0,Jn._)`(new RegExp(${s}, ${o}))`:(0,u_.usePattern)(e,n);e.fail$data((0,Jn._)`!${u}.test(${t})`)}};No.default=f_;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});const Zr=x,h_={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Zr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Zr._)`{limit: ${e}}`},m_={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:h_,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Zr.operators.GT:Zr.operators.LT;e.fail$data((0,Zr._)`Object.keys(${r}).length ${s} ${n}`)}};Ro.default=m_;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});const Fr=te,xr=x,p_=C,$_={message:({params:{missingProperty:e}})=>(0,xr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,xr._)`{missingProperty: ${e}}`},y_={keyword:"required",type:"object",schemaType:"array",$data:!0,error:$_,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:u}=o;if(!a&&r.length===0)return;const l=r.length>=u.loopRequired;if(o.allErrors?c():d(),u.strictRequired){const _=e.parentSchema.properties,{definedProperties:y}=e.it;for(const w of r)if((_==null?void 0:_[w])===void 0&&!y.has(w)){const g=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${w}" is not defined at "${g}" (strictRequired)`;(0,p_.checkStrictMode)(o,m,o.opts.strictRequired)}}function c(){if(l||a)e.block$data(xr.nil,h);else for(const _ of r)(0,Fr.checkReportMissingProp)(e,_)}function d(){const _=t.let("missing");if(l||a){const y=t.let("valid",!0);e.block$data(y,()=>b(_,y)),e.ok(y)}else t.if((0,Fr.checkMissingProp)(e,r,_)),(0,Fr.reportMissingProp)(e,_),t.else()}function h(){t.forOf("prop",n,_=>{e.setParams({missingProperty:_}),t.if((0,Fr.noPropertyInData)(t,s,_,u.ownProperties),()=>e.error())})}function b(_,y){e.setParams({missingProperty:_}),t.forOf(_,n,()=>{t.assign(y,(0,Fr.propertyInData)(t,s,_,u.ownProperties)),t.if((0,xr.not)(y),()=>{e.error(),t.break()})},xr.nil)}}};Oo.default=y_;var Io={};Object.defineProperty(Io,"__esModule",{value:!0});const en=x,g_={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,en.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,en._)`{limit: ${e}}`},__={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:g_,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?en.operators.GT:en.operators.LT;e.fail$data((0,en._)`${r}.length ${s} ${n}`)}};Io.default=__;var To={},ln={};Object.defineProperty(ln,"__esModule",{value:!0});const gu=Zn;gu.code='require("ajv/dist/runtime/equal").default';ln.default=gu;Object.defineProperty(To,"__esModule",{value:!0});const Rs=ge,Ee=x,v_=C,w_=ln,E_={message:({params:{i:e,j:t}})=>(0,Ee.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ee._)`{i: ${e}, j: ${t}}`},b_={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:E_,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:u}=e;if(!n&&!s)return;const l=t.let("valid"),c=a.items?(0,Rs.getSchemaTypes)(a.items):[];e.block$data(l,d,(0,Ee._)`${o} === false`),e.ok(l);function d(){const y=t.let("i",(0,Ee._)`${r}.length`),w=t.let("j");e.setParams({i:y,j:w}),t.assign(l,!0),t.if((0,Ee._)`${y} > 1`,()=>(h()?b:_)(y,w))}function h(){return c.length>0&&!c.some(y=>y==="object"||y==="array")}function b(y,w){const g=t.name("item"),m=(0,Rs.checkDataTypes)(c,g,u.opts.strictNumbers,Rs.DataType.Wrong),v=t.const("indices",(0,Ee._)`{}`);t.for((0,Ee._)`;${y}--;`,()=>{t.let(g,(0,Ee._)`${r}[${y}]`),t.if(m,(0,Ee._)`continue`),c.length>1&&t.if((0,Ee._)`typeof ${g} == "string"`,(0,Ee._)`${g} += "_"`),t.if((0,Ee._)`typeof ${v}[${g}] == "number"`,()=>{t.assign(w,(0,Ee._)`${v}[${g}]`),e.error(),t.assign(l,!1).break()}).code((0,Ee._)`${v}[${g}] = ${y}`)})}function _(y,w){const g=(0,v_.useFunc)(t,w_.default),m=t.name("outer");t.label(m).for((0,Ee._)`;${y}--;`,()=>t.for((0,Ee._)`${w} = ${y}; ${w}--;`,()=>t.if((0,Ee._)`${g}(${r}[${y}], ${r}[${w}])`,()=>{e.error(),t.assign(l,!1).break(m)})))}}};To.default=b_;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});const Qs=x,S_=C,P_=ln,N_={message:"must be equal to constant",params:({schemaCode:e})=>(0,Qs._)`{allowedValue: ${e}}`},R_={keyword:"const",$data:!0,error:N_,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,Qs._)`!${(0,S_.useFunc)(t,P_.default)}(${r}, ${s})`):e.fail((0,Qs._)`${a} !== ${r}`)}};jo.default=R_;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});const Kr=x,O_=C,I_=ln,T_={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Kr._)`{allowedValues: ${e}}`},j_={keyword:"enum",schemaType:"array",$data:!0,error:T_,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const u=s.length>=o.opts.loopEnum;let l;const c=()=>l??(l=(0,O_.useFunc)(t,I_.default));let d;if(u||n)d=t.let("valid"),e.block$data(d,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const _=t.const("vSchema",a);d=(0,Kr.or)(...s.map((y,w)=>b(_,w)))}e.pass(d);function h(){t.assign(d,!1),t.forOf("v",a,_=>t.if((0,Kr._)`${c()}(${r}, ${_})`,()=>t.assign(d,!0).break()))}function b(_,y){const w=s[y];return typeof w=="object"&&w!==null?(0,Kr._)`${c()}(${r}, ${_}[${y}])`:(0,Kr._)`${r} === ${w}`}}};ko.default=j_;Object.defineProperty(wo,"__esModule",{value:!0});const k_=Eo,A_=bo,C_=So,D_=No,M_=Ro,V_=Oo,L_=Io,F_=To,z_=jo,U_=ko,q_=[k_.default,A_.default,C_.default,D_.default,M_.default,V_.default,L_.default,F_.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},z_.default,U_.default];wo.default=q_;var Ao={},Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.validateAdditionalItems=void 0;const Zt=x,Zs=C,G_={message:({params:{len:e}})=>(0,Zt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Zt._)`{limit: ${e}}`},K_={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:G_,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Zs.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}_u(e,n)}};function _u(e,t){const{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;const u=r.const("len",(0,Zt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Zt._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,Zs.alwaysValidSchema)(o,n)){const c=r.var("valid",(0,Zt._)`${u} <= ${t.length}`);r.if((0,Zt.not)(c),()=>l(c)),e.ok(c)}function l(c){r.forRange("i",t.length,u,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:Zs.Type.Num},c),o.allErrors||r.if((0,Zt.not)(c),()=>r.break())})}}Rr.validateAdditionalItems=_u;Rr.default=K_;var Co={},Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.validateTuple=void 0;const Yi=x,Dn=C,H_=te,B_={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return vu(e,"additionalItems",t);r.items=!0,!(0,Dn.alwaysValidSchema)(r,t)&&e.ok((0,H_.validateArray)(e))}};function vu(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:u}=e;d(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Dn.mergeEvaluated.items(n,r.length,u.items));const l=n.name("valid"),c=n.const("len",(0,Yi._)`${a}.length`);r.forEach((h,b)=>{(0,Dn.alwaysValidSchema)(u,h)||(n.if((0,Yi._)`${c} > ${b}`,()=>e.subschema({keyword:o,schemaProp:b,dataProp:b},l)),e.ok(l))});function d(h){const{opts:b,errSchemaPath:_}=u,y=r.length,w=y===h.minItems&&(y===h.maxItems||h[t]===!1);if(b.strictTuples&&!w){const g=`"${o}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${_}"`;(0,Dn.checkStrictMode)(u,g,b.strictTuples)}}}Or.validateTuple=vu;Or.default=B_;Object.defineProperty(Co,"__esModule",{value:!0});const J_=Or,X_={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,J_.validateTuple)(e,"items")};Co.default=X_;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});const Qi=x,W_=C,Y_=te,Q_=Rr,Z_={message:({params:{len:e}})=>(0,Qi.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Qi._)`{limit: ${e}}`},x_={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Z_,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,W_.alwaysValidSchema)(n,t)&&(s?(0,Q_.validateAdditionalItems)(e,s):e.ok((0,Y_.validateArray)(e)))}};Do.default=x_;var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});const Ue=x,gn=C,ev={message:({params:{min:e,max:t}})=>t===void 0?(0,Ue.str)`must contain at least ${e} valid item(s)`:(0,Ue.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ue._)`{minContains: ${e}}`:(0,Ue._)`{minContains: ${e}, maxContains: ${t}}`},tv={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ev,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let o,u;const{minContains:l,maxContains:c}=n;a.opts.next?(o=l===void 0?1:l,u=c):o=1;const d=t.const("len",(0,Ue._)`${s}.length`);if(e.setParams({min:o,max:u}),u===void 0&&o===0){(0,gn.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&o>u){(0,gn.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,gn.alwaysValidSchema)(a,r)){let w=(0,Ue._)`${d} >= ${o}`;u!==void 0&&(w=(0,Ue._)`${w} && ${d} <= ${u}`),e.pass(w);return}a.items=!0;const h=t.name("valid");u===void 0&&o===1?_(h,()=>t.if(h,()=>t.break())):o===0?(t.let(h,!0),u!==void 0&&t.if((0,Ue._)`${s}.length > 0`,b)):(t.let(h,!1),b()),e.result(h,()=>e.reset());function b(){const w=t.name("_valid"),g=t.let("count",0);_(w,()=>t.if(w,()=>y(g)))}function _(w,g){t.forRange("i",0,d,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:gn.Type.Num,compositeRule:!0},w),g()})}function y(w){t.code((0,Ue._)`${w}++`),u===void 0?t.if((0,Ue._)`${w} >= ${o}`,()=>t.assign(h,!0).break()):(t.if((0,Ue._)`${w} > ${u}`,()=>t.assign(h,!1).break()),o===1?t.assign(h,!0):t.if((0,Ue._)`${w} >= ${o}`,()=>t.assign(h,!0)))}}};Mo.default=tv;var wu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=x,r=C,n=te;e.error={message:({params:{property:l,depsCount:c,deps:d}})=>{const h=c===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:d,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,d]=a(l);o(l,c),u(l,d)}};function a({schema:l}){const c={},d={};for(const h in l){if(h==="__proto__")continue;const b=Array.isArray(l[h])?c:d;b[h]=l[h]}return[c,d]}function o(l,c=l.schema){const{gen:d,data:h,it:b}=l;if(Object.keys(c).length===0)return;const _=d.let("missing");for(const y in c){const w=c[y];if(w.length===0)continue;const g=(0,n.propertyInData)(d,h,y,b.opts.ownProperties);l.setParams({property:y,depsCount:w.length,deps:w.join(", ")}),b.allErrors?d.if(g,()=>{for(const m of w)(0,n.checkReportMissingProp)(l,m)}):(d.if((0,t._)`${g} && (${(0,n.checkMissingProp)(l,w,_)})`),(0,n.reportMissingProp)(l,_),d.else())}}e.validatePropertyDeps=o;function u(l,c=l.schema){const{gen:d,data:h,keyword:b,it:_}=l,y=d.name("valid");for(const w in c)(0,r.alwaysValidSchema)(_,c[w])||(d.if((0,n.propertyInData)(d,h,w,_.opts.ownProperties),()=>{const g=l.subschema({keyword:b,schemaProp:w},y);l.mergeValidEvaluated(g,y)},()=>d.var(y,!0)),l.ok(y))}e.validateSchemaDeps=u,e.default=s})(wu);var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});const Eu=x,rv=C,nv={message:"property name must be valid",params:({params:e})=>(0,Eu._)`{propertyName: ${e.propertyName}}`},sv={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:nv,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,rv.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,Eu.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Vo.default=sv;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});const _n=te,Be=x,av=ot,vn=C,ov={message:"must NOT have additional properties",params:({params:e})=>(0,Be._)`{additionalProperty: ${e.additionalProperty}}`},iv={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:ov,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:u,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,vn.alwaysValidSchema)(o,r))return;const c=(0,_n.allSchemaProperties)(n.properties),d=(0,_n.allSchemaProperties)(n.patternProperties);h(),e.ok((0,Be._)`${a} === ${av.default.errors}`);function h(){t.forIn("key",s,g=>{!c.length&&!d.length?y(g):t.if(b(g),()=>y(g))})}function b(g){let m;if(c.length>8){const v=(0,vn.schemaRefOrVal)(o,n.properties,"properties");m=(0,_n.isOwnProperty)(t,v,g)}else c.length?m=(0,Be.or)(...c.map(v=>(0,Be._)`${g} === ${v}`)):m=Be.nil;return d.length&&(m=(0,Be.or)(m,...d.map(v=>(0,Be._)`${(0,_n.usePattern)(e,v)}.test(${g})`))),(0,Be.not)(m)}function _(g){t.code((0,Be._)`delete ${s}[${g}]`)}function y(g){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){_(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,vn.alwaysValidSchema)(o,r)){const m=t.name("valid");l.removeAdditional==="failing"?(w(g,m,!1),t.if((0,Be.not)(m),()=>{e.reset(),_(g)})):(w(g,m),u||t.if((0,Be.not)(m),()=>t.break()))}}function w(g,m,v){const N={keyword:"additionalProperties",dataProp:g,dataPropType:vn.Type.Str};v===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(N,m)}}};cs.default=iv;var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});const cv=Ye,Zi=te,Os=C,xi=cs,lv={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&xi.default.code(new cv.KeywordCxt(a,xi.default,"additionalProperties"));const o=(0,Zi.allSchemaProperties)(r);for(const h of o)a.definedProperties.add(h);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=Os.mergeEvaluated.props(t,(0,Os.toHash)(o),a.props));const u=o.filter(h=>!(0,Os.alwaysValidSchema)(a,r[h]));if(u.length===0)return;const l=t.name("valid");for(const h of u)c(h)?d(h):(t.if((0,Zi.propertyInData)(t,s,h,a.opts.ownProperties)),d(h),a.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(l);function c(h){return a.opts.useDefaults&&!a.compositeRule&&r[h].default!==void 0}function d(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};Lo.default=lv;var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});const ec=te,wn=x,tc=C,rc=C,uv={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,u=(0,ec.allSchemaProperties)(r),l=u.filter(w=>(0,tc.alwaysValidSchema)(a,r[w]));if(u.length===0||l.length===u.length&&(!a.opts.unevaluated||a.props===!0))return;const c=o.strictSchema&&!o.allowMatchingProperties&&s.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof wn.Name)&&(a.props=(0,rc.evaluatedPropsToName)(t,a.props));const{props:h}=a;b();function b(){for(const w of u)c&&_(w),a.allErrors?y(w):(t.var(d,!0),y(w),t.if(d))}function _(w){for(const g in c)new RegExp(w).test(g)&&(0,tc.checkStrictMode)(a,`property ${g} matches pattern ${w} (use allowMatchingProperties)`)}function y(w){t.forIn("key",n,g=>{t.if((0,wn._)`${(0,ec.usePattern)(e,w)}.test(${g})`,()=>{const m=l.includes(w);m||e.subschema({keyword:"patternProperties",schemaProp:w,dataProp:g,dataPropType:rc.Type.Str},d),a.opts.unevaluated&&h!==!0?t.assign((0,wn._)`${h}[${g}]`,!0):!m&&!a.allErrors&&t.if((0,wn.not)(d),()=>t.break())})})}}};Fo.default=uv;var zo={};Object.defineProperty(zo,"__esModule",{value:!0});const dv=C,fv={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,dv.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};zo.default=fv;var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});const hv=te,mv={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:hv.validateUnion,error:{message:"must match a schema in anyOf"}};Uo.default=mv;var qo={};Object.defineProperty(qo,"__esModule",{value:!0});const Mn=x,pv=C,$v={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Mn._)`{passingSchemas: ${e.passing}}`},yv={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:$v,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=t.let("valid",!1),u=t.let("passing",null),l=t.name("_valid");e.setParams({passing:u}),t.block(c),e.result(o,()=>e.reset(),()=>e.error(!0));function c(){a.forEach((d,h)=>{let b;(0,pv.alwaysValidSchema)(s,d)?t.var(l,!0):b=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&t.if((0,Mn._)`${l} && ${o}`).assign(o,!1).assign(u,(0,Mn._)`[${u}, ${h}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(u,h),b&&e.mergeEvaluated(b,Mn.Name)})})}}};qo.default=yv;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});const gv=C,_v={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,o)=>{if((0,gv.alwaysValidSchema)(n,a))return;const u=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(u)})}};Go.default=_v;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});const Xn=x,bu=C,vv={message:({params:e})=>(0,Xn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Xn._)`{failingKeyword: ${e.ifClause}}`},wv={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:vv,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,bu.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=nc(n,"then"),a=nc(n,"else");if(!s&&!a)return;const o=t.let("valid",!0),u=t.name("_valid");if(l(),e.reset(),s&&a){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(u,c("then",d),c("else",d))}else s?t.if(u,c("then")):t.if((0,Xn.not)(u),c("else"));e.pass(o,()=>e.error(!0));function l(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(d)}function c(d,h){return()=>{const b=e.subschema({keyword:d},u);t.assign(o,u),e.mergeValidEvaluated(b,o),h?t.assign(h,(0,Xn._)`${d}`):e.setParams({ifClause:d})}}}};function nc(e,t){const r=e.schema[t];return r!==void 0&&!(0,bu.alwaysValidSchema)(e,r)}Ko.default=wv;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});const Ev=C,bv={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Ev.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ho.default=bv;Object.defineProperty(Ao,"__esModule",{value:!0});const Sv=Rr,Pv=Co,Nv=Or,Rv=Do,Ov=Mo,Iv=wu,Tv=Vo,jv=cs,kv=Lo,Av=Fo,Cv=zo,Dv=Uo,Mv=qo,Vv=Go,Lv=Ko,Fv=Ho;function zv(e=!1){const t=[Cv.default,Dv.default,Mv.default,Vv.default,Lv.default,Fv.default,Tv.default,jv.default,Iv.default,kv.default,Av.default];return e?t.push(Pv.default,Rv.default):t.push(Sv.default,Nv.default),t.push(Ov.default),t}Ao.default=zv;var Bo={},Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});const pe=x,Uv={message:({schemaCode:e})=>(0,pe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,pe._)`{format: ${e}}`},qv={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Uv,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:u}=e,{opts:l,errSchemaPath:c,schemaEnv:d,self:h}=u;if(!l.validateFormats)return;s?b():_();function b(){const y=r.scopeValue("formats",{ref:h.formats,code:l.code.formats}),w=r.const("fDef",(0,pe._)`${y}[${o}]`),g=r.let("fType"),m=r.let("format");r.if((0,pe._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>r.assign(g,(0,pe._)`${w}.type || "string"`).assign(m,(0,pe._)`${w}.validate`),()=>r.assign(g,(0,pe._)`"string"`).assign(m,w)),e.fail$data((0,pe.or)(v(),N()));function v(){return l.strictSchema===!1?pe.nil:(0,pe._)`${o} && !${m}`}function N(){const R=d.$async?(0,pe._)`(${w}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,pe._)`${m}(${n})`,O=(0,pe._)`(typeof ${m} == "function" ? ${R} : ${m}.test(${n}))`;return(0,pe._)`${m} && ${m} !== true && ${g} === ${t} && !${O}`}}function _(){const y=h.formats[a];if(!y){v();return}if(y===!0)return;const[w,g,m]=N(y);w===t&&e.pass(R());function v(){if(l.strictSchema===!1){h.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${a}" ignored in schema at path "${c}"`}}function N(O){const G=O instanceof RegExp?(0,pe.regexpCode)(O):l.code.formats?(0,pe._)`${l.code.formats}${(0,pe.getProperty)(a)}`:void 0,X=r.scopeValue("formats",{key:a,ref:O,code:G});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,pe._)`${X}.validate`]:["string",O,X]}function R(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!d.$async)throw new Error("async format in sync schema");return(0,pe._)`await ${m}(${n})`}return typeof g=="function"?(0,pe._)`${m}(${n})`:(0,pe._)`${m}.test(${n})`}}}};Jo.default=qv;Object.defineProperty(Bo,"__esModule",{value:!0});const Gv=Jo,Kv=[Gv.default];Bo.default=Kv;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.contentVocabulary=vr.metadataVocabulary=void 0;vr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];vr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(go,"__esModule",{value:!0});const Hv=_o,Bv=wo,Jv=Ao,Xv=Bo,sc=vr,Wv=[Hv.default,Bv.default,(0,Jv.default)(),Xv.default,sc.metadataVocabulary,sc.contentVocabulary];go.default=Wv;var Xo={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.DiscrError=void 0;var ac;(function(e){e.Tag="tag",e.Mapping="mapping"})(ac||(ls.DiscrError=ac={}));Object.defineProperty(Xo,"__esModule",{value:!0});const dr=x,xs=ls,oc=De,Yv=Nr,Qv=C,Zv={message:({params:{discrError:e,tagName:t}})=>e===xs.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,dr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},xv={keyword:"discriminator",type:"object",schemaType:"object",error:Zv,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),c=t.const("tag",(0,dr._)`${r}${(0,dr.getProperty)(u)}`);t.if((0,dr._)`typeof ${c} == "string"`,()=>d(),()=>e.error(!1,{discrError:xs.DiscrError.Tag,tag:c,tagName:u})),e.ok(l);function d(){const _=b();t.if(!1);for(const y in _)t.elseIf((0,dr._)`${c} === ${y}`),t.assign(l,h(_[y]));t.else(),e.error(!1,{discrError:xs.DiscrError.Mapping,tag:c,tagName:u}),t.endIf()}function h(_){const y=t.name("valid"),w=e.subschema({keyword:"oneOf",schemaProp:_},y);return e.mergeEvaluated(w,dr.Name),y}function b(){var _;const y={},w=m(s);let g=!0;for(let R=0;R<o.length;R++){let O=o[R];if(O!=null&&O.$ref&&!(0,Qv.schemaHasRulesButRef)(O,a.self.RULES)){const X=O.$ref;if(O=oc.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,X),O instanceof oc.SchemaEnv&&(O=O.schema),O===void 0)throw new Yv.default(a.opts.uriResolver,a.baseId,X)}const G=(_=O==null?void 0:O.properties)===null||_===void 0?void 0:_[u];if(typeof G!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);g=g&&(w||m(O)),v(G,R)}if(!g)throw new Error(`discriminator: "${u}" must be required`);return y;function m({required:R}){return Array.isArray(R)&&R.includes(u)}function v(R,O){if(R.const)N(R.const,O);else if(R.enum)for(const G of R.enum)N(G,O);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function N(R,O){if(typeof R!="string"||R in y)throw new Error(`discriminator: "${u}" values must be unique strings`);y[R]=O}}}};Xo.default=xv;const ew="http://json-schema.org/draft-07/schema#",tw="http://json-schema.org/draft-07/schema#",rw="Core schema meta-schema",nw={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},sw=["object","boolean"],aw={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ow={$schema:ew,$id:tw,title:rw,definitions:nw,type:sw,properties:aw,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Vl,n=go,s=Xo,a=ow,o=["/properties"],u="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(y,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=Ye;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=x;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=cn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var b=Nr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return b.default}})})(Bs,Bs.exports);var iw=Bs.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=iw,r=x,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:u,schemaCode:l})=>(0,r.str)`should be ${s[u].okStr} ${l}`,params:({keyword:u,schemaCode:l})=>(0,r._)`{comparison: ${s[u].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(u){const{gen:l,data:c,schemaCode:d,keyword:h,it:b}=u,{opts:_,self:y}=b;if(!_.validateFormats)return;const w=new t.KeywordCxt(b,y.RULES.all.format.definition,"format");w.$data?g():m();function g(){const N=l.scopeValue("formats",{ref:y.formats,code:_.code.formats}),R=l.const("fmt",(0,r._)`${N}[${w.schemaCode}]`);u.fail$data((0,r.or)((0,r._)`typeof ${R} != "object"`,(0,r._)`${R} instanceof RegExp`,(0,r._)`typeof ${R}.compare != "function"`,v(R)))}function m(){const N=w.schema,R=y.formats[N];if(!R||R===!0)return;if(typeof R!="object"||R instanceof RegExp||typeof R.compare!="function")throw new Error(`"${h}": format "${N}" does not define "compare" function`);const O=l.scopeValue("formats",{key:N,ref:R,code:_.code.formats?(0,r._)`${_.code.formats}${(0,r.getProperty)(N)}`:void 0});u.fail$data(v(O))}function v(N){return(0,r._)`${N}.compare(${c}, ${d}) ${s[h].fail} 0`}},dependencies:["format"]};const o=u=>(u.addKeyword(e.formatLimitDefinition),u);e.default=o})(Ml);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Dl,n=Ml,s=x,a=new s.Name("fullFormats"),o=new s.Name("fastFormats"),u=(c,d={keywords:!0})=>{if(Array.isArray(d))return l(c,d,r.fullFormats,a),c;const[h,b]=d.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,a],_=d.formats||r.formatNames;return l(c,_,h,b),d.keywords&&(0,n.default)(c),c};u.get=(c,d="full")=>{const b=(d==="fast"?r.fastFormats:r.fullFormats)[c];if(!b)throw new Error(`Unknown format "${c}"`);return b};function l(c,d,h,b){var _,y;(_=(y=c.opts.code).formats)!==null&&_!==void 0||(y.formats=(0,s._)`require("ajv-formats/dist/formats").${b}`);for(const w of d)c.addFormat(w,h[w])}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u})(Hs,Hs.exports);var cw=Hs.exports;const lw=Vc(cw),uw=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!dw(s,a)&&n||Object.defineProperty(e,r,a)},dw=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},fw=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},hw=(e,t)=>`/* Wrapped ${e}*/
${t}`,mw=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),pw=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),$w=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=hw.bind(null,n,t.toString());Object.defineProperty(s,"name",pw);const{writable:a,enumerable:o,configurable:u}=mw;Object.defineProperty(e,"toString",{value:s,writable:a,enumerable:o,configurable:u})};function yw(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const s of Reflect.ownKeys(t))uw(e,t,s,r);return fw(e,t),$w(e,t,n),e}const ic=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:s=!1,after:a=!0}=t;if(r<0||n<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!s&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,u,l;const c=function(...d){const h=this,b=()=>{o=void 0,u&&(clearTimeout(u),u=void 0),a&&(l=e.apply(h,d))},_=()=>{u=void 0,o&&(clearTimeout(o),o=void 0),a&&(l=e.apply(h,d))},y=s&&!o;return clearTimeout(o),o=setTimeout(b,r),n>0&&n!==Number.POSITIVE_INFINITY&&!u&&(u=setTimeout(_,n)),y&&(l=e.apply(h,d)),l};return yw(c,e),c.cancel=()=>{o&&(clearTimeout(o),o=void 0),u&&(clearTimeout(u),u=void 0)},c};var ea={exports:{}};const gw="2.0.0",Su=256,_w=Number.MAX_SAFE_INTEGER||9007199254740991,vw=16,ww=Su-6,Ew=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var us={MAX_LENGTH:Su,MAX_SAFE_COMPONENT_LENGTH:vw,MAX_SAFE_BUILD_LENGTH:ww,MAX_SAFE_INTEGER:_w,RELEASE_TYPES:Ew,SEMVER_SPEC_VERSION:gw,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const bw=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ds=bw;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=us,a=ds;t=e.exports={};const o=t.re=[],u=t.safeRe=[],l=t.src=[],c=t.t={};let d=0;const h="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",s],[h,n]],_=w=>{for(const[g,m]of b)w=w.split(`${g}*`).join(`${g}{0,${m}}`).split(`${g}+`).join(`${g}{1,${m}}`);return w},y=(w,g,m)=>{const v=_(g),N=d++;a(w,N,g),c[w]=N,l[N]=g,o[N]=new RegExp(g,m?"g":void 0),u[N]=new RegExp(v,m?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),y("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),y("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${h}+`),y("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),y("FULL",`^${l[c.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),y("LOOSE",`^${l[c.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),y("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),y("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",l[c.COERCE],!0),y("COERCERTLFULL",l[c.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",y("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",y("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ea,ea.exports);var un=ea.exports;const Sw=Object.freeze({loose:!0}),Pw=Object.freeze({}),Nw=e=>e?typeof e!="object"?Sw:e:Pw;var Wo=Nw;const cc=/^[0-9]+$/,Pu=(e,t)=>{const r=cc.test(e),n=cc.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},Rw=(e,t)=>Pu(t,e);var Nu={compareIdentifiers:Pu,rcompareIdentifiers:Rw};const En=ds,{MAX_LENGTH:lc,MAX_SAFE_INTEGER:bn}=us,{safeRe:uc,t:dc}=un,Ow=Wo,{compareIdentifiers:ir}=Nu;let Iw=class xe{constructor(t,r){if(r=Ow(r),t instanceof xe){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>lc)throw new TypeError(`version is longer than ${lc} characters`);En("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?uc[dc.LOOSE]:uc[dc.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>bn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<bn)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(En("SemVer.compare",this.version,this.options,t),!(t instanceof xe)){if(typeof t=="string"&&t===this.version)return 0;t=new xe(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof xe||(t=new xe(t,this.options)),ir(this.major,t.major)||ir(this.minor,t.minor)||ir(this.patch,t.patch)}comparePre(t){if(t instanceof xe||(t=new xe(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(En("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ir(n,s)}while(++r)}compareBuild(t){t instanceof xe||(t=new xe(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(En("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return ir(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),ir(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ke=Iw;const fc=ke,Tw=(e,t,r=!1)=>{if(e instanceof fc)return e;try{return new fc(e,t)}catch(n){if(!r)return null;throw n}};var Ir=Tw;const jw=Ir,kw=(e,t)=>{const r=jw(e,t);return r?r.version:null};var Aw=kw;const Cw=Ir,Dw=(e,t)=>{const r=Cw(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Mw=Dw;const hc=ke,Vw=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new hc(e instanceof hc?e.version:e,r).inc(t,n,s).version}catch{return null}};var Lw=Vw;const mc=Ir,Fw=(e,t)=>{const r=mc(e,null,!0),n=mc(t,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,o=a?r:n,u=a?n:r,l=!!o.prerelease.length;if(!!u.prerelease.length&&!l)return!u.patch&&!u.minor?"major":o.patch?"patch":o.minor?"minor":"major";const d=l?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"};var zw=Fw;const Uw=ke,qw=(e,t)=>new Uw(e,t).major;var Gw=qw;const Kw=ke,Hw=(e,t)=>new Kw(e,t).minor;var Bw=Hw;const Jw=ke,Xw=(e,t)=>new Jw(e,t).patch;var Ww=Xw;const Yw=Ir,Qw=(e,t)=>{const r=Yw(e,t);return r&&r.prerelease.length?r.prerelease:null};var Zw=Qw;const pc=ke,xw=(e,t,r)=>new pc(e,r).compare(new pc(t,r));var Qe=xw;const eE=Qe,tE=(e,t,r)=>eE(t,e,r);var rE=tE;const nE=Qe,sE=(e,t)=>nE(e,t,!0);var aE=sE;const $c=ke,oE=(e,t,r)=>{const n=new $c(e,r),s=new $c(t,r);return n.compare(s)||n.compareBuild(s)};var Yo=oE;const iE=Yo,cE=(e,t)=>e.sort((r,n)=>iE(r,n,t));var lE=cE;const uE=Yo,dE=(e,t)=>e.sort((r,n)=>uE(n,r,t));var fE=dE;const hE=Qe,mE=(e,t,r)=>hE(e,t,r)>0;var fs=mE;const pE=Qe,$E=(e,t,r)=>pE(e,t,r)<0;var Qo=$E;const yE=Qe,gE=(e,t,r)=>yE(e,t,r)===0;var Ru=gE;const _E=Qe,vE=(e,t,r)=>_E(e,t,r)!==0;var Ou=vE;const wE=Qe,EE=(e,t,r)=>wE(e,t,r)>=0;var Zo=EE;const bE=Qe,SE=(e,t,r)=>bE(e,t,r)<=0;var xo=SE;const PE=Ru,NE=Ou,RE=fs,OE=Zo,IE=Qo,TE=xo,jE=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return PE(e,r,n);case"!=":return NE(e,r,n);case">":return RE(e,r,n);case">=":return OE(e,r,n);case"<":return IE(e,r,n);case"<=":return TE(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Iu=jE;const kE=ke,AE=Ir,{safeRe:Sn,t:Pn}=un,CE=(e,t)=>{if(e instanceof kE)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Sn[Pn.COERCEFULL]:Sn[Pn.COERCE]);else{const l=t.includePrerelease?Sn[Pn.COERCERTLFULL]:Sn[Pn.COERCERTL];let c;for(;(c=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",a=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",u=t.includePrerelease&&r[6]?`+${r[6]}`:"";return AE(`${n}.${s}.${a}${o}${u}`,t)};var DE=CE;class ME{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var VE=ME,Is,yc;function Ze(){if(yc)return Is;yc=1;const e=/\s+/g;class t{constructor(k,V){if(V=s(V),k instanceof t)return k.loose===!!V.loose&&k.includePrerelease===!!V.includePrerelease?k:new t(k.raw,V);if(k instanceof a)return this.raw=k.value,this.set=[[k]],this.formatted=void 0,this;if(this.options=V,this.loose=!!V.loose,this.includePrerelease=!!V.includePrerelease,this.raw=k.trim().replace(e," "),this.set=this.raw.split("||").map(D=>this.parseRange(D.trim())).filter(D=>D.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const D=this.set[0];if(this.set=this.set.filter(K=>!w(K[0])),this.set.length===0)this.set=[D];else if(this.set.length>1){for(const K of this.set)if(K.length===1&&g(K[0])){this.set=[K];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let k=0;k<this.set.length;k++){k>0&&(this.formatted+="||");const V=this.set[k];for(let D=0;D<V.length;D++)D>0&&(this.formatted+=" "),this.formatted+=V[D].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(k){const D=((this.options.includePrerelease&&_)|(this.options.loose&&y))+":"+k,K=n.get(D);if(K)return K;const M=this.options.loose,P=M?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];k=k.replace(P,H(this.options.includePrerelease)),o("hyphen replace",k),k=k.replace(l[c.COMPARATORTRIM],d),o("comparator trim",k),k=k.replace(l[c.TILDETRIM],h),o("tilde trim",k),k=k.replace(l[c.CARETTRIM],b),o("caret trim",k);let p=k.split(" ").map(f=>v(f,this.options)).join(" ").split(/\s+/).map(f=>z(f,this.options));M&&(p=p.filter(f=>(o("loose invalid filter",f,this.options),!!f.match(l[c.COMPARATORLOOSE])))),o("range list",p);const S=new Map,$=p.map(f=>new a(f,this.options));for(const f of $){if(w(f))return[f];S.set(f.value,f)}S.size>1&&S.has("")&&S.delete("");const i=[...S.values()];return n.set(D,i),i}intersects(k,V){if(!(k instanceof t))throw new TypeError("a Range is required");return this.set.some(D=>m(D,V)&&k.set.some(K=>m(K,V)&&D.every(M=>K.every(P=>M.intersects(P,V)))))}test(k){if(!k)return!1;if(typeof k=="string")try{k=new u(k,this.options)}catch{return!1}for(let V=0;V<this.set.length;V++)if(ne(this.set[V],k,this.options))return!0;return!1}}Is=t;const r=VE,n=new r,s=Wo,a=hs(),o=ds,u=ke,{safeRe:l,t:c,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:b}=un,{FLAG_INCLUDE_PRERELEASE:_,FLAG_LOOSE:y}=us,w=T=>T.value==="<0.0.0-0",g=T=>T.value==="",m=(T,k)=>{let V=!0;const D=T.slice();let K=D.pop();for(;V&&D.length;)V=D.every(M=>K.intersects(M,k)),K=D.pop();return V},v=(T,k)=>(o("comp",T,k),T=G(T,k),o("caret",T),T=R(T,k),o("tildes",T),T=le(T,k),o("xrange",T),T=$e(T,k),o("stars",T),T),N=T=>!T||T.toLowerCase()==="x"||T==="*",R=(T,k)=>T.trim().split(/\s+/).map(V=>O(V,k)).join(" "),O=(T,k)=>{const V=k.loose?l[c.TILDELOOSE]:l[c.TILDE];return T.replace(V,(D,K,M,P,p)=>{o("tilde",T,D,K,M,P,p);let S;return N(K)?S="":N(M)?S=`>=${K}.0.0 <${+K+1}.0.0-0`:N(P)?S=`>=${K}.${M}.0 <${K}.${+M+1}.0-0`:p?(o("replaceTilde pr",p),S=`>=${K}.${M}.${P}-${p} <${K}.${+M+1}.0-0`):S=`>=${K}.${M}.${P} <${K}.${+M+1}.0-0`,o("tilde return",S),S})},G=(T,k)=>T.trim().split(/\s+/).map(V=>X(V,k)).join(" "),X=(T,k)=>{o("caret",T,k);const V=k.loose?l[c.CARETLOOSE]:l[c.CARET],D=k.includePrerelease?"-0":"";return T.replace(V,(K,M,P,p,S)=>{o("caret",T,K,M,P,p,S);let $;return N(M)?$="":N(P)?$=`>=${M}.0.0${D} <${+M+1}.0.0-0`:N(p)?M==="0"?$=`>=${M}.${P}.0${D} <${M}.${+P+1}.0-0`:$=`>=${M}.${P}.0${D} <${+M+1}.0.0-0`:S?(o("replaceCaret pr",S),M==="0"?P==="0"?$=`>=${M}.${P}.${p}-${S} <${M}.${P}.${+p+1}-0`:$=`>=${M}.${P}.${p}-${S} <${M}.${+P+1}.0-0`:$=`>=${M}.${P}.${p}-${S} <${+M+1}.0.0-0`):(o("no pr"),M==="0"?P==="0"?$=`>=${M}.${P}.${p}${D} <${M}.${P}.${+p+1}-0`:$=`>=${M}.${P}.${p}${D} <${M}.${+P+1}.0-0`:$=`>=${M}.${P}.${p} <${+M+1}.0.0-0`),o("caret return",$),$})},le=(T,k)=>(o("replaceXRanges",T,k),T.split(/\s+/).map(V=>he(V,k)).join(" ")),he=(T,k)=>{T=T.trim();const V=k.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return T.replace(V,(D,K,M,P,p,S)=>{o("xRange",T,D,K,M,P,p,S);const $=N(M),i=$||N(P),f=i||N(p),E=f;return K==="="&&E&&(K=""),S=k.includePrerelease?"-0":"",$?K===">"||K==="<"?D="<0.0.0-0":D="*":K&&E?(i&&(P=0),p=0,K===">"?(K=">=",i?(M=+M+1,P=0,p=0):(P=+P+1,p=0)):K==="<="&&(K="<",i?M=+M+1:P=+P+1),K==="<"&&(S="-0"),D=`${K+M}.${P}.${p}${S}`):i?D=`>=${M}.0.0${S} <${+M+1}.0.0-0`:f&&(D=`>=${M}.${P}.0${S} <${M}.${+P+1}.0-0`),o("xRange return",D),D})},$e=(T,k)=>(o("replaceStars",T,k),T.trim().replace(l[c.STAR],"")),z=(T,k)=>(o("replaceGTE0",T,k),T.trim().replace(l[k.includePrerelease?c.GTE0PRE:c.GTE0],"")),H=T=>(k,V,D,K,M,P,p,S,$,i,f,E)=>(N(D)?V="":N(K)?V=`>=${D}.0.0${T?"-0":""}`:N(M)?V=`>=${D}.${K}.0${T?"-0":""}`:P?V=`>=${V}`:V=`>=${V}${T?"-0":""}`,N($)?S="":N(i)?S=`<${+$+1}.0.0-0`:N(f)?S=`<${$}.${+i+1}.0-0`:E?S=`<=${$}.${i}.${f}-${E}`:T?S=`<${$}.${i}.${+f+1}-0`:S=`<=${S}`,`${V} ${S}`.trim()),ne=(T,k,V)=>{for(let D=0;D<T.length;D++)if(!T[D].test(k))return!1;if(k.prerelease.length&&!V.includePrerelease){for(let D=0;D<T.length;D++)if(o(T[D].semver),T[D].semver!==a.ANY&&T[D].semver.prerelease.length>0){const K=T[D].semver;if(K.major===k.major&&K.minor===k.minor&&K.patch===k.patch)return!0}return!1}return!0};return Is}var Ts,gc;function hs(){if(gc)return Ts;gc=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(d,h){if(h=r(h),d instanceof t){if(d.loose===!!h.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),o("comparator",d,h),this.options=h,this.loose=!!h.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(d){const h=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],b=d.match(h);if(!b)throw new TypeError(`Invalid comparator: ${d}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new u(b[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(o("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new u(d,this.options)}catch{return!1}return a(d,this.operator,this.semver,this.options)}intersects(d,h){if(!(d instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(d.value,h).test(this.value):d.operator===""?d.value===""?!0:new l(this.value,h).test(d.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||a(this.semver,"<",d.semver,h)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||a(this.semver,">",d.semver,h)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}Ts=t;const r=Wo,{safeRe:n,t:s}=un,a=Iu,o=ds,u=ke,l=Ze();return Ts}const LE=Ze(),FE=(e,t,r)=>{try{t=new LE(t,r)}catch{return!1}return t.test(e)};var ms=FE;const zE=Ze(),UE=(e,t)=>new zE(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var qE=UE;const GE=ke,KE=Ze(),HE=(e,t,r)=>{let n=null,s=null,a=null;try{a=new KE(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new GE(n,r))}),n};var BE=HE;const JE=ke,XE=Ze(),WE=(e,t,r)=>{let n=null,s=null,a=null;try{a=new XE(t,r)}catch{return null}return e.forEach(o=>{a.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new JE(n,r))}),n};var YE=WE;const js=ke,QE=Ze(),_c=fs,ZE=(e,t)=>{e=new QE(e,t);let r=new js("0.0.0");if(e.test(r)||(r=new js("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let a=null;s.forEach(o=>{const u=new js(o.semver.version);switch(o.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!a||_c(u,a))&&(a=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!r||_c(r,a))&&(r=a)}return r&&e.test(r)?r:null};var xE=ZE;const e1=Ze(),t1=(e,t)=>{try{return new e1(e,t).range||"*"}catch{return null}};var r1=t1;const n1=ke,Tu=hs(),{ANY:s1}=Tu,a1=Ze(),o1=ms,vc=fs,wc=Qo,i1=xo,c1=Zo,l1=(e,t,r,n)=>{e=new n1(e,n),t=new a1(t,n);let s,a,o,u,l;switch(r){case">":s=vc,a=i1,o=wc,u=">",l=">=";break;case"<":s=wc,a=c1,o=vc,u="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(o1(e,t,n))return!1;for(let c=0;c<t.set.length;++c){const d=t.set[c];let h=null,b=null;if(d.forEach(_=>{_.semver===s1&&(_=new Tu(">=0.0.0")),h=h||_,b=b||_,s(_.semver,h.semver,n)?h=_:o(_.semver,b.semver,n)&&(b=_)}),h.operator===u||h.operator===l||(!b.operator||b.operator===u)&&a(e,b.semver))return!1;if(b.operator===l&&o(e,b.semver))return!1}return!0};var ei=l1;const u1=ei,d1=(e,t,r)=>u1(e,t,">",r);var f1=d1;const h1=ei,m1=(e,t,r)=>h1(e,t,"<",r);var p1=m1;const Ec=Ze(),$1=(e,t,r)=>(e=new Ec(e,r),t=new Ec(t,r),e.intersects(t,r));var y1=$1;const g1=ms,_1=Qe;var v1=(e,t,r)=>{const n=[];let s=null,a=null;const o=e.sort((d,h)=>_1(d,h,r));for(const d of o)g1(d,t,r)?(a=d,s||(s=d)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const u=[];for(const[d,h]of n)d===h?u.push(d):!h&&d===o[0]?u.push("*"):h?d===o[0]?u.push(`<=${h}`):u.push(`${d} - ${h}`):u.push(`>=${d}`);const l=u.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t};const bc=Ze(),ti=hs(),{ANY:ks}=ti,zr=ms,ri=Qe,w1=(e,t,r={})=>{if(e===t)return!0;e=new bc(e,r),t=new bc(t,r);let n=!1;e:for(const s of e.set){for(const a of t.set){const o=b1(s,a,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},E1=[new ti(">=0.0.0-0")],Sc=[new ti(">=0.0.0")],b1=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===ks){if(t.length===1&&t[0].semver===ks)return!0;r.includePrerelease?e=E1:e=Sc}if(t.length===1&&t[0].semver===ks){if(r.includePrerelease)return!0;t=Sc}const n=new Set;let s,a;for(const _ of e)_.operator===">"||_.operator===">="?s=Pc(s,_,r):_.operator==="<"||_.operator==="<="?a=Nc(a,_,r):n.add(_.semver);if(n.size>1)return null;let o;if(s&&a){if(o=ri(s.semver,a.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const _ of n){if(s&&!zr(_,String(s),r)||a&&!zr(_,String(a),r))return null;for(const y of t)if(!zr(_,String(y),r))return!1;return!0}let u,l,c,d,h=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,b=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&a.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const _ of t){if(d=d||_.operator===">"||_.operator===">=",c=c||_.operator==="<"||_.operator==="<=",s){if(b&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===b.major&&_.semver.minor===b.minor&&_.semver.patch===b.patch&&(b=!1),_.operator===">"||_.operator===">="){if(u=Pc(s,_,r),u===_&&u!==s)return!1}else if(s.operator===">="&&!zr(s.semver,String(_),r))return!1}if(a){if(h&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===h.major&&_.semver.minor===h.minor&&_.semver.patch===h.patch&&(h=!1),_.operator==="<"||_.operator==="<="){if(l=Nc(a,_,r),l===_&&l!==a)return!1}else if(a.operator==="<="&&!zr(a.semver,String(_),r))return!1}if(!_.operator&&(a||s)&&o!==0)return!1}return!(s&&c&&!a&&o!==0||a&&d&&!s&&o!==0||b||h)},Pc=(e,t,r)=>{if(!e)return t;const n=ri(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Nc=(e,t,r)=>{if(!e)return t;const n=ri(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var S1=w1;const As=un,Rc=us,P1=ke,Oc=Nu,N1=Ir,R1=Aw,O1=Mw,I1=Lw,T1=zw,j1=Gw,k1=Bw,A1=Ww,C1=Zw,D1=Qe,M1=rE,V1=aE,L1=Yo,F1=lE,z1=fE,U1=fs,q1=Qo,G1=Ru,K1=Ou,H1=Zo,B1=xo,J1=Iu,X1=DE,W1=hs(),Y1=Ze(),Q1=ms,Z1=qE,x1=BE,eb=YE,tb=xE,rb=r1,nb=ei,sb=f1,ab=p1,ob=y1,ib=v1,cb=S1;var lb={parse:N1,valid:R1,clean:O1,inc:I1,diff:T1,major:j1,minor:k1,patch:A1,prerelease:C1,compare:D1,rcompare:M1,compareLoose:V1,compareBuild:L1,sort:F1,rsort:z1,gt:U1,lt:q1,eq:G1,neq:K1,gte:H1,lte:B1,cmp:J1,coerce:X1,Comparator:W1,Range:Y1,satisfies:Q1,toComparators:Z1,maxSatisfying:x1,minSatisfying:eb,minVersion:tb,validRange:rb,outside:nb,gtr:sb,ltr:ab,intersects:ob,simplifyRange:ib,subset:cb,SemVer:P1,re:As.re,src:As.src,tokens:As.t,SEMVER_SPEC_VERSION:Rc.SEMVER_SPEC_VERSION,RELEASE_TYPES:Rc.RELEASE_TYPES,compareIdentifiers:Oc.compareIdentifiers,rcompareIdentifiers:Oc.rcompareIdentifiers};const cr=Vc(lb),ub=Object.prototype.toString,db="[object Uint8Array]",fb="[object ArrayBuffer]";function ju(e,t,r){return e?e.constructor===t?!0:ub.call(e)===r:!1}function ku(e){return ju(e,Uint8Array,db)}function hb(e){return ju(e,ArrayBuffer,fb)}function mb(e){return ku(e)||hb(e)}function pb(e){if(!ku(e))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)}function $b(e){if(!mb(e))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``)}function Ic(e,t){if(e.length===0)return new Uint8Array(0);t??(t=e.reduce((s,a)=>s+a.length,0));const r=new Uint8Array(t);let n=0;for(const s of e)pb(s),r.set(s,n),n+=s.length;return r}const Nn={utf8:new globalThis.TextDecoder("utf8")};function Tc(e,t="utf8"){return $b(e),Nn[t]??(Nn[t]=new globalThis.TextDecoder(t)),Nn[t].decode(e)}function yb(e){if(typeof e!="string")throw new TypeError(`Expected \`string\`, got \`${typeof e}\``)}const gb=new globalThis.TextEncoder;function Cs(e){return yb(e),gb.encode(e)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const _b=lw.default,jc="aes-256-cbc",lr=()=>Object.create(null),vb=e=>e!=null,wb=(e,t)=>{const r=new Set(["undefined","symbol","function"]),n=typeof t;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${e}\` is not allowed as it's not supported by JSON`)},Vn="__internal__",Ds=`${Vn}.migrations.version`;var Pt,ct,Le,lt;class Eb{constructor(t={}){kr(this,"path");kr(this,"events");Ar(this,Pt,void 0);Ar(this,ct,void 0);Ar(this,Le,void 0);Ar(this,lt,{});kr(this,"_deserialize",t=>JSON.parse(t));kr(this,"_serialize",t=>JSON.stringify(t,void 0,"	"));const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...t};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=Ku(r.projectName,{suffix:r.projectSuffix}).config}if(Cr(this,Le,r),r.schema??r.ajvOptions??r.rootSchema){if(r.schema&&typeof r.schema!="object")throw new TypeError("The `schema` option must be an object.");const o=new Yy.Ajv2020({allErrors:!0,useDefaults:!0,...r.ajvOptions});_b(o);const u={...r.rootSchema,type:"object",properties:r.schema};Cr(this,Pt,o.compile(u));for(const[l,c]of Object.entries(r.schema??{}))c!=null&&c.default&&(ue(this,lt)[l]=c.default)}r.defaults&&Cr(this,lt,{...ue(this,lt),...r.defaults}),r.serialize&&(this._serialize=r.serialize),r.deserialize&&(this._deserialize=r.deserialize),this.events=new EventTarget,Cr(this,ct,r.encryptionKey);const n=r.fileExtension?`.${r.fileExtension}`:"";this.path=se.resolve(r.cwd,`${r.configName??"config"}${n}`);const s=this.store,a=Object.assign(lr(),r.defaults,s);if(r.migrations){if(!r.projectVersion)throw new Error("Please specify the `projectVersion` option.");this._migrate(r.migrations,r.projectVersion,r.beforeEachMigration)}this._validate(a);try{Du.deepEqual(s,a)}catch{this.store=a}r.watch&&this._watch()}get(t,r){if(ue(this,Le).accessPropertiesByDotNotation)return this._get(t,r);const{store:n}=this;return t in n?n[t]:r}set(t,r){if(typeof t!="string"&&typeof t!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof t}`);if(typeof t!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(t))throw new TypeError(`Please don't use the ${Vn} key, as it's used to manage this module internal operations.`);const{store:n}=this,s=(a,o)=>{wb(a,o),ue(this,Le).accessPropertiesByDotNotation?si(n,a,o):n[a]=o};if(typeof t=="object"){const a=t;for(const[o,u]of Object.entries(a))s(o,u)}else s(t,r);this.store=n}has(t){return ue(this,Le).accessPropertiesByDotNotation?zu(this.store,t):t in this.store}reset(...t){for(const r of t)vb(ue(this,lt)[r])&&this.set(r,ue(this,lt)[r])}delete(t){const{store:r}=this;ue(this,Le).accessPropertiesByDotNotation?Fu(r,t):delete r[t],this.store=r}clear(){this.store=lr();for(const t of Object.keys(ue(this,lt)))this.reset(t)}onDidChange(t,r){if(typeof t!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof t}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleChange(()=>this.get(t),r)}onDidAnyChange(t){if(typeof t!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof t}`);return this._handleChange(()=>this.store,t)}get size(){return Object.keys(this.store).length}get store(){try{const t=Z.readFileSync(this.path,ue(this,ct)?null:"utf8"),r=this._encryptData(t),n=this._deserialize(r);return this._validate(n),Object.assign(lr(),n)}catch(t){if((t==null?void 0:t.code)==="ENOENT")return this._ensureDirectory(),lr();if(ue(this,Le).clearInvalidConfig&&t.name==="SyntaxError")return lr();throw t}}set store(t){this._ensureDirectory(),this._validate(t),this._write(t),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[t,r]of Object.entries(this.store))yield[t,r]}_encryptData(t){if(!ue(this,ct))return typeof t=="string"?t:Tc(t);try{const r=t.slice(0,16),n=Dr.pbkdf2Sync(ue(this,ct),r.toString(),1e4,32,"sha512"),s=Dr.createDecipheriv(jc,n,r),a=t.slice(17),o=typeof a=="string"?Cs(a):a;return Tc(Ic([s.update(o),s.final()]))}catch{}return t.toString()}_handleChange(t,r){let n=t();const s=()=>{const a=n,o=t();ve.isDeepStrictEqual(o,a)||(n=o,r.call(this,o,a))};return this.events.addEventListener("change",s),()=>{this.events.removeEventListener("change",s)}}_validate(t){if(!ue(this,Pt)||ue(this,Pt).call(this,t)||!ue(this,Pt).errors)return;const n=ue(this,Pt).errors.map(({instancePath:s,message:a=""})=>`\`${s.slice(1)}\` ${a}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){Z.mkdirSync(se.dirname(this.path),{recursive:!0})}_write(t){let r=this._serialize(t);if(ue(this,ct)){const n=Dr.randomBytes(16),s=Dr.pbkdf2Sync(ue(this,ct),n.toString(),1e4,32,"sha512"),a=Dr.createCipheriv(jc,s,n);r=Ic([n,Cs(":"),a.update(Cs(r)),a.final()])}if(_e.env.SNAP)Z.writeFileSync(this.path,r,{mode:ue(this,Le).configFileMode});else try{Mc(this.path,r,{mode:ue(this,Le).configFileMode})}catch(n){if((n==null?void 0:n.code)==="EXDEV"){Z.writeFileSync(this.path,r,{mode:ue(this,Le).configFileMode});return}throw n}}_watch(){this._ensureDirectory(),Z.existsSync(this.path)||this._write(lr()),_e.platform==="win32"?Z.watch(this.path,{persistent:!1},ic(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100})):Z.watchFile(this.path,{persistent:!1},ic(()=>{this.events.dispatchEvent(new Event("change"))},{wait:5e3}))}_migrate(t,r,n){let s=this._get(Ds,"0.0.0");const a=Object.keys(t).filter(u=>this._shouldPerformMigration(u,s,r));let o={...this.store};for(const u of a)try{n&&n(this,{fromVersion:s,toVersion:u,finalVersion:r,versions:a});const l=t[u];l==null||l(this),this._set(Ds,u),s=u,o={...this.store}}catch(l){throw this.store=o,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${l}`)}(this._isVersionInRangeFormat(s)||!cr.eq(s,r))&&this._set(Ds,r)}_containsReservedKey(t){return typeof t=="object"&&Object.keys(t)[0]===Vn?!0:typeof t!="string"?!1:ue(this,Le).accessPropertiesByDotNotation?!!t.startsWith(`${Vn}.`):!1}_isVersionInRangeFormat(t){return cr.clean(t)===null}_shouldPerformMigration(t,r,n){return this._isVersionInRangeFormat(t)?r!=="0.0.0"&&cr.satisfies(r,t)?!1:cr.satisfies(n,t):!(cr.lte(t,r)||cr.gt(t,n))}_get(t,r){return Lu(this.store,t,r)}_set(t,r){const{store:n}=this;si(n,t,r),this.store=n}}Pt=new WeakMap,ct=new WeakMap,Le=new WeakMap,lt=new WeakMap;let kc=!1;const Ac=()=>{if(!fe.ipcMain||!fe.app)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:fe.app.getPath("userData"),appVersion:fe.app.getVersion()};return kc||(fe.ipcMain.on("electron-store-get-data",t=>{t.returnValue=e}),kc=!0),e};class bb extends Eb{constructor(t){let r,n;if(_e.type==="renderer"){const s=fe.ipcRenderer.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else fe.ipcMain&&fe.app&&({defaultCwd:r,appVersion:n}=Ac());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=se.isAbsolute(t.cwd)?t.cwd:se.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Ac()}async openInEditor(){const t=await fe.shell.openPath(this.path);if(t)throw new Error(t)}}const Sb={windowBounds:{type:"object",properties:{width:{type:"number"},height:{type:"number"},x:{type:"number"},y:{type:"number"}}}},Ur=new bb({schema:Sb}),Pb=()=>{const e=Mu.networkInterfaces(),t=Object.entries(e).flatMap(([r,n])=>n.map(s=>({...s,interfaceName:r}))).filter(r=>r.family==="IPv4").filter(r=>!r.internal);if(t.length===0)throw new Error("No network interfaces found.");return t.map(r=>{const n=r.address.split(".").slice(0,3).join("."),s=[];for(let a=1;a<=254;a++)s.push(`${n}.${a}`);return{topSideAddress:r.address,macAddress:r.mac,interfaceName:r.interfaceName,availableAddresses:s}})},Nb=()=>{fe.ipcMain.handle("get-info-on-subnets",Pb)},Ln={dist:Rn.join(__dirname,"..")};let et;function Rb(){var e,t,r,n;et=new fe.BrowserWindow({icon:Rn.join(Ln.dist,"pwa-512x512.png"),webPreferences:{preload:Rn.join(Ln.dist,"electron/preload.js"),contextIsolation:!0,nodeIntegration:!1},width:((e=Ur.get("windowBounds"))==null?void 0:e.width)??fe.screen.getPrimaryDisplay().workAreaSize.width,height:((t=Ur.get("windowBounds"))==null?void 0:t.height)??fe.screen.getPrimaryDisplay().workAreaSize.height,x:((r=Ur.get("windowBounds"))==null?void 0:r.x)??fe.screen.getPrimaryDisplay().bounds.x,y:((n=Ur.get("windowBounds"))==null?void 0:n.y)??fe.screen.getPrimaryDisplay().bounds.y}),et.on("close",()=>{const s=et.getBounds(),{x:a,y:o,width:u,height:l}=s;Ur.set("windowBounds",{x:a,y:o,width:u,height:l})}),et.webContents.on("did-finish-load",()=>{et==null||et.webContents.send("main-process-message",new Date().toLocaleString())}),process.env.VITE_DEV_SERVER_URL?et.loadURL(process.env.VITE_DEV_SERVER_URL):et.loadFile(Rn.join(Ln.dist,"index.html"))}fe.app.on("window-all-closed",()=>{console.log("Closing application."),et=null,fe.app.quit()});fe.app.on("ready",()=>{fe.protocol.registerFileProtocol("file",(e,t)=>{t({path:e.url.substring(7)})})});fe.protocol.registerSchemesAsPrivileged([{scheme:"file",privileges:{secure:!0,standard:!0,supportFetchAPI:!0,allowServiceWorkers:!0}}]);Nb();fe.app.whenReady().then(Rb);fe.app.on("before-quit",()=>{});exports.ROOT_PATH=Ln;
